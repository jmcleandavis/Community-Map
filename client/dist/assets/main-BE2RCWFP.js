import{r as Tc,a as l,R as _c,g as Uc,j as c,b as Fc,c as Bc}from"./index-BzC_ioaV.js";var xt=Tc();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ht(){return Ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ht.apply(this,arguments)}var lt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lt||(lt={}));const Xr="popstate";function Vc(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:i,hash:o}=s.location;return Ys("",{pathname:a,search:i,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Aa(r)}return $c(t,n,null,e)}function ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Na(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zc(){return Math.random().toString(36).substr(2,8)}function eo(e,t){return{usr:e.state,key:e.key,idx:t}}function Ys(e,t,n,s){return n===void 0&&(n=null),Ht({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kt(t):t,{state:n,key:t&&t.key||s||zc()})}function Aa(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function kt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function $c(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,i=r.history,o=lt.Pop,u=null,f=p();f==null&&(f=0,i.replaceState(Ht({},i.state,{idx:f}),""));function p(){return(i.state||{idx:null}).idx}function d(){o=lt.Pop;let y=p(),b=y==null?null:y-f;f=y,u&&u({action:o,location:v.location,delta:b})}function h(y,b){o=lt.Push;let w=Ys(v.location,y,b);f=p()+1;let P=eo(w,f),S=v.createHref(w);try{i.pushState(P,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(S)}a&&u&&u({action:o,location:v.location,delta:1})}function m(y,b){o=lt.Replace;let w=Ys(v.location,y,b);f=p();let P=eo(w,f),S=v.createHref(w);i.replaceState(P,"",S),a&&u&&u({action:o,location:v.location,delta:0})}function g(y){let b=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof y=="string"?y:Aa(y);return w=w.replace(/ $/,"%20"),ke(b,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,b)}let v={get action(){return o},get location(){return e(r,i)},listen(y){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Xr,d),u=y,()=>{r.removeEventListener(Xr,d),u=null}},createHref(y){return t(r,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return i.go(y)}};return v}var to;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(to||(to={}));function Gc(e,t,n){return n===void 0&&(n="/"),Hc(e,t,n)}function Hc(e,t,n,s){let r=typeof t=="string"?kt(t):t,a=Ta(r.pathname||"/",n);if(a==null)return null;let i=Ra(e);Wc(i);let o=null;for(let u=0;o==null&&u<i.length;++u){let f=ru(a);o=tu(i[u],f)}return o}function Ra(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,i,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};u.relativePath.startsWith("/")&&(ke(u.relativePath.startsWith(s),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(s.length));let f=gt([s,u.relativePath]),p=n.concat(u);a.children&&a.children.length>0&&(ke(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Ra(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:Xc(f,a.index),routesMeta:p})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,i);else for(let u of Da(a.path))r(a,i,u)}),t}function Da(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let i=Da(s.join("/")),o=[];return o.push(...i.map(u=>u===""?a:[a,u].join("/"))),r&&o.push(...i),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Wc(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:eu(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const qc=/^:[\w-]+$/,Zc=3,Jc=2,Kc=1,Yc=10,Qc=-2,no=e=>e==="*";function Xc(e,t){let n=e.split("/"),s=n.length;return n.some(no)&&(s+=Qc),t&&(s+=Jc),n.filter(r=>!no(r)).reduce((r,a)=>r+(qc.test(a)?Zc:a===""?Kc:Yc),s)}function eu(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function tu(e,t,n){let{routesMeta:s}=e,r={},a="/",i=[];for(let o=0;o<s.length;++o){let u=s[o],f=o===s.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=nu({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),h=u.route;if(!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:gt([a,d.pathname]),pathnameBase:lu(gt([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=gt([a,d.pathnameBase]))}return i}function nu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=su(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((f,p,d)=>{let{paramName:h,isOptional:m}=p;if(h==="*"){let v=o[d]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[d];return m&&!g?f[h]=void 0:f[h]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:i,pattern:e}}function su(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Na(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,u)=>(s.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function ru(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Na(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function ou(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?kt(e):e;return{pathname:n?n.startsWith("/")?n:iu(n,t):t,search:cu(s),hash:uu(r)}}function iu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Es(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function au(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _a(e,t){let n=au(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Ua(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=kt(e):(r=Ht({},e),ke(!r.pathname||!r.pathname.includes("?"),Es("?","pathname","search",r)),ke(!r.pathname||!r.pathname.includes("#"),Es("#","pathname","hash",r)),ke(!r.search||!r.search.includes("#"),Es("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}o=d>=0?t[d]:"/"}let u=ou(r,o),f=i&&i!=="/"&&i.endsWith("/"),p=(a||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}const gt=e=>e.join("/").replace(/\/\/+/g,"/"),lu=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cu=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uu=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function du(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fa=["post","put","patch","delete"];new Set(Fa);const pu=["get",...Fa];new Set(pu);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wt.apply(this,arguments)}const xr=l.createContext(null),fu=l.createContext(null),Yt=l.createContext(null),ls=l.createContext(null),St=l.createContext({outlet:null,matches:[],isDataRoute:!1}),Ba=l.createContext(null);function Qt(){return l.useContext(ls)!=null}function Ie(){return Qt()||ke(!1),l.useContext(ls).location}function Va(e){l.useContext(Yt).static||l.useLayoutEffect(e)}function Ne(){let{isDataRoute:e}=l.useContext(St);return e?Ou():hu()}function hu(){Qt()||ke(!1);let e=l.useContext(xr),{basename:t,future:n,navigator:s}=l.useContext(Yt),{matches:r}=l.useContext(St),{pathname:a}=Ie(),i=JSON.stringify(_a(r,n.v7_relativeSplatPath)),o=l.useRef(!1);return Va(()=>{o.current=!0}),l.useCallback(function(f,p){if(p===void 0&&(p={}),!o.current)return;if(typeof f=="number"){s.go(f);return}let d=Ua(f,JSON.parse(i),a,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:gt([t,d.pathname])),(p.replace?s.replace:s.push)(d,p.state,p)},[t,s,i,a,e])}function gu(e,t){return mu(e,t)}function mu(e,t,n,s){Qt()||ke(!1);let{navigator:r}=l.useContext(Yt),{matches:a}=l.useContext(St),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let u=i?i.pathnameBase:"/";i&&i.route;let f=Ie(),p;if(t){var d;let y=typeof t=="string"?kt(t):t;u==="/"||(d=y.pathname)!=null&&d.startsWith(u)||ke(!1),p=y}else p=f;let h=p.pathname||"/",m=h;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Gc(e,{pathname:m}),v=xu(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:gt([u,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:gt([u,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?l.createElement(ls.Provider,{value:{location:Wt({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:lt.Pop}},v):v}function vu(){let e=Eu(),t=du(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:r},n):null,null)}const yu=l.createElement(vu,null);class bu extends l.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?l.createElement(St.Provider,{value:this.props.routeContext},l.createElement(Ba.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wu(e){let{routeContext:t,match:n,children:s}=e,r=l.useContext(xr);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(St.Provider,{value:t},s)}function xu(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let p=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);p>=0||ke(!1),i=i.slice(0,Math.min(i.length,p+1))}let u=!1,f=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<i.length;p++){let d=i[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=p),d.route.id){let{loaderData:h,errors:m}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||g){u=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((p,d,h)=>{let m,g=!1,v=null,y=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||yu,u&&(f<0&&h===0?(ju("route-fallback"),g=!0,y=null):f===h&&(g=!0,y=d.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),w=()=>{let P;return m?P=v:g?P=y:d.route.Component?P=l.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=p,l.createElement(wu,{match:d,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:P})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?l.createElement(bu,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):w()},null)}var za=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(za||{}),$a=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($a||{});function Su(e){let t=l.useContext(xr);return t||ke(!1),t}function Cu(e){let t=l.useContext(fu);return t||ke(!1),t}function Lu(e){let t=l.useContext(St);return t||ke(!1),t}function Ga(e){let t=Lu(),n=t.matches[t.matches.length-1];return n.route.id||ke(!1),n.route.id}function Eu(){var e;let t=l.useContext(Ba),n=Cu(),s=Ga();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Ou(){let{router:e}=Su(za.UseNavigateStable),t=Ga($a.UseNavigateStable),n=l.useRef(!1);return Va(()=>{n.current=!0}),l.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,Wt({fromRouteId:t},a)))},[e,t])}const so={};function ju(e,t,n){so[e]||(so[e]=!0)}function Pu(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mu(e){let{to:t,replace:n,state:s,relative:r}=e;Qt()||ke(!1);let{future:a,static:i}=l.useContext(Yt),{matches:o}=l.useContext(St),{pathname:u}=Ie(),f=Ne(),p=Ua(t,_a(o,a.v7_relativeSplatPath),u,r==="path"),d=JSON.stringify(p);return l.useEffect(()=>f(JSON.parse(d),{replace:n,state:s,relative:r}),[f,d,r,n,s]),null}function Te(e){ke(!1)}function ku(e){let{basename:t="/",children:n=null,location:s,navigationType:r=lt.Pop,navigator:a,static:i=!1,future:o}=e;Qt()&&ke(!1);let u=t.replace(/^\/*/,"/"),f=l.useMemo(()=>({basename:u,navigator:a,static:i,future:Wt({v7_relativeSplatPath:!1},o)}),[u,o,a,i]);typeof s=="string"&&(s=kt(s));let{pathname:p="/",search:d="",hash:h="",state:m=null,key:g="default"}=s,v=l.useMemo(()=>{let y=Ta(p,u);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:g},navigationType:r}},[u,p,d,h,m,g,r]);return v==null?null:l.createElement(Yt.Provider,{value:f},l.createElement(ls.Provider,{children:n,value:v}))}function Iu(e){let{children:t,location:n}=e;return gu(Qs(t),n)}new Promise(()=>{});function Qs(e,t){t===void 0&&(t=[]);let n=[];return l.Children.forEach(e,(s,r)=>{if(!l.isValidElement(s))return;let a=[...t,r];if(s.type===l.Fragment){n.push.apply(n,Qs(s.props.children,a));return}s.type!==Te&&ke(!1),!s.props.index||!s.props.children||ke(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Qs(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Nu="6";try{window.__reactRouterVersion=Nu}catch{}const Au="startTransition",ro=_c[Au];function Ru(e){let{basename:t,children:n,future:s,window:r}=e,a=l.useRef();a.current==null&&(a.current=Vc({window:r,v5Compat:!0}));let i=a.current,[o,u]=l.useState({action:i.action,location:i.location}),{v7_startTransition:f}=s||{},p=l.useCallback(d=>{f&&ro?ro(()=>u(d)):u(d)},[u,f]);return l.useLayoutEffect(()=>i.listen(p),[i,p]),l.useEffect(()=>Pu(s),[s]),l.createElement(ku,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}var oo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(oo||(oo={}));var io;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(io||(io={}));var Os={},js={},Ps={},ao;function Du(){return ao||(ao=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];if(typeof window<"u"){var o;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(o=window).gtag.apply(o,a)}},n=t;e.default=n}(Ps)),Ps}var Ms={},lo;function Tu(){return lo||(lo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(o){return o.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(u,f,p){return f>0&&f+u.length!==p.length&&u.search(t)>-1&&p.charAt(f-2)!==":"&&(p.charAt(f+u.length)!=="-"||p.charAt(f-1)==="-")&&p.charAt(f-1).search(/[^\s-]/)<0?u.toLowerCase():u.substr(1).search(/[A-Z]|\../)>-1?u:u.charAt(0).toUpperCase()+u.substr(1)})}function s(o){return typeof o=="string"&&o.indexOf("@")!==-1}var r="REDACTED (Potential Email Address)";function a(o){return s(o)?(console.warn("This arg looks like an email address, redacting."),r):o}function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,p=o||"";return u&&(p=n(o)),f&&(p=a(p)),p}}(Ms)),Ms}var co;function _u(){return co||(co=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=i(Du()),n=i(Tu()),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],r=["title","location"],a=["page","hitType"];function i(k){return k&&k.__esModule?k:{default:k}}function o(k,E){if(k==null)return{};var I=u(k,E),R,U;if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(k);for(U=0;U<V.length;U++)R=V[U],!(E.indexOf(R)>=0)&&Object.prototype.propertyIsEnumerable.call(k,R)&&(I[R]=k[R])}return I}function u(k,E){if(k==null)return{};var I={},R=Object.keys(k),U,V;for(V=0;V<R.length;V++)U=R[V],!(E.indexOf(U)>=0)&&(I[U]=k[U]);return I}function f(k){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(k)}function p(k){return m(k)||h(k)||w(k)||d()}function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h(k){if(typeof Symbol<"u"&&k[Symbol.iterator]!=null||k["@@iterator"]!=null)return Array.from(k)}function m(k){if(Array.isArray(k))return P(k)}function g(k,E){var I=Object.keys(k);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(k);E&&(R=R.filter(function(U){return Object.getOwnPropertyDescriptor(k,U).enumerable})),I.push.apply(I,R)}return I}function v(k){for(var E=1;E<arguments.length;E++){var I=arguments[E]!=null?arguments[E]:{};E%2?g(Object(I),!0).forEach(function(R){j(k,R,I[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(I)):g(Object(I)).forEach(function(R){Object.defineProperty(k,R,Object.getOwnPropertyDescriptor(I,R))})}return k}function y(k,E){return x(k)||S(k,E)||w(k,E)||b()}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(k,E){if(k){if(typeof k=="string")return P(k,E);var I=Object.prototype.toString.call(k).slice(8,-1);if(I==="Object"&&k.constructor&&(I=k.constructor.name),I==="Map"||I==="Set")return Array.from(k);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return P(k,E)}}function P(k,E){(E==null||E>k.length)&&(E=k.length);for(var I=0,R=new Array(E);I<E;I++)R[I]=k[I];return R}function S(k,E){var I=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(I!=null){var R,U,V,H,q=[],J=!0,N=!1;try{if(V=(I=I.call(k)).next,E!==0)for(;!(J=(R=V.call(I)).done)&&(q.push(R.value),q.length!==E);J=!0);}catch(T){N=!0,U=T}finally{try{if(!J&&I.return!=null&&(H=I.return(),Object(H)!==H))return}finally{if(N)throw U}}return q}}function x(k){if(Array.isArray(k))return k}function L(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function C(k,E){for(var I=0;I<E.length;I++){var R=E[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,D(R.key),R)}}function O(k,E,I){return E&&C(k.prototype,E),Object.defineProperty(k,"prototype",{writable:!1}),k}function j(k,E,I){return E=D(E),E in k?Object.defineProperty(k,E,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[E]=I,k}function D(k){var E=M(k,"string");return f(E)==="symbol"?E:String(E)}function M(k,E){if(f(k)!=="object"||k===null)return k;var I=k[Symbol.toPrimitive];if(I!==void 0){var R=I.call(k,E);if(f(R)!=="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(k)}var B=function(){function k(){var E=this;L(this,k),j(this,"reset",function(){E.isInitialized=!1,E._testMode=!1,E._currentMeasurementId,E._hasLoadedGA=!1,E._isQueuing=!1,E._queueGtag=[]}),j(this,"_gtag",function(){for(var I=arguments.length,R=new Array(I),U=0;U<I;U++)R[U]=arguments[U];E._testMode||E._isQueuing?E._queueGtag.push(R):t.default.apply(void 0,R)}),j(this,"_loadGA",function(I,R){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!E._hasLoadedGA){var V=document.createElement("script");V.async=!0,V.src="".concat(U,"?id=").concat(I),R&&V.setAttribute("nonce",R),document.body.appendChild(V),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},E._hasLoadedGA=!0}}),j(this,"_toGtagOptions",function(I){if(I){var R={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},U=Object.entries(I).reduce(function(V,H){var q=y(H,2),J=q[0],N=q[1];return R[J]?V[R[J]]=N:V[J]=N,V},{});return U}}),j(this,"initialize",function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!I)throw new Error("Require GA_MEASUREMENT_ID");var U=typeof I=="string"?[{trackingId:I}]:I;E._currentMeasurementId=U[0].trackingId;var V=R.gaOptions,H=R.gtagOptions,q=R.nonce,J=R.testMode,N=J===void 0?!1:J,T=R.gtagUrl;if(E._testMode=N,N||E._loadGA(E._currentMeasurementId,q,T),E.isInitialized||(E._gtag("js",new Date),U.forEach(function(z){var G=v(v(v({},E._toGtagOptions(v(v({},V),z.gaOptions))),H),z.gtagOptions);Object.keys(G).length?E._gtag("config",z.trackingId,G):E._gtag("config",z.trackingId)})),E.isInitialized=!0,!N){var A=p(E._queueGtag);for(E._queueGtag=[],E._isQueuing=!1;A.length;){var K=A.shift();E._gtag.apply(E,p(K)),K[0]==="get"&&(E._isQueuing=!0)}}}),j(this,"set",function(I){if(!I){console.warn("`fieldsObject` is required in .set()");return}if(f(I)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(I).length===0&&console.warn("empty `fieldsObject` given to .set()"),E._gaCommand("set",I)}),j(this,"_gaCommandSendEvent",function(I,R,U,V,H){E._gtag("event",R,v(v({event_category:I,event_label:U,value:V},H&&{non_interaction:H.nonInteraction}),E._toGtagOptions(H)))}),j(this,"_gaCommandSendEventParameters",function(){for(var I=arguments.length,R=new Array(I),U=0;U<I;U++)R[U]=arguments[U];if(typeof R[0]=="string")E._gaCommandSendEvent.apply(E,p(R.slice(1)));else{var V=R[0],H=V.eventCategory,q=V.eventAction,J=V.eventLabel,N=V.eventValue;V.hitType;var T=o(V,s);E._gaCommandSendEvent(H,q,J,N,T)}}),j(this,"_gaCommandSendTiming",function(I,R,U,V){E._gtag("event","timing_complete",{name:R,value:U,event_category:I,event_label:V})}),j(this,"_gaCommandSendPageview",function(I,R){if(R&&Object.keys(R).length){var U=E._toGtagOptions(R),V=U.title,H=U.location,q=o(U,r);E._gtag("event","page_view",v(v(v(v({},I&&{page_path:I}),V&&{page_title:V}),H&&{page_location:H}),q))}else I?E._gtag("event","page_view",{page_path:I}):E._gtag("event","page_view")}),j(this,"_gaCommandSendPageviewParameters",function(){for(var I=arguments.length,R=new Array(I),U=0;U<I;U++)R[U]=arguments[U];if(typeof R[0]=="string")E._gaCommandSendPageview.apply(E,p(R.slice(1)));else{var V=R[0],H=V.page;V.hitType;var q=o(V,a);E._gaCommandSendPageview(H,q)}}),j(this,"_gaCommandSend",function(){for(var I=arguments.length,R=new Array(I),U=0;U<I;U++)R[U]=arguments[U];var V=typeof R[0]=="string"?R[0]:R[0].hitType;switch(V){case"event":E._gaCommandSendEventParameters.apply(E,R);break;case"pageview":E._gaCommandSendPageviewParameters.apply(E,R);break;case"timing":E._gaCommandSendTiming.apply(E,p(R.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(V));break;default:console.warn("Send command doesn't exist: ".concat(V))}}),j(this,"_gaCommandSet",function(){for(var I=arguments.length,R=new Array(I),U=0;U<I;U++)R[U]=arguments[U];typeof R[0]=="string"&&(R[0]=j({},R[0],R[1])),E._gtag("set",E._toGtagOptions(R[0]))}),j(this,"_gaCommand",function(I){for(var R=arguments.length,U=new Array(R>1?R-1:0),V=1;V<R;V++)U[V-1]=arguments[V];switch(I){case"send":E._gaCommandSend.apply(E,U);break;case"set":E._gaCommandSet.apply(E,U);break;default:console.warn("Command doesn't exist: ".concat(I))}}),j(this,"ga",function(){for(var I=arguments.length,R=new Array(I),U=0;U<I;U++)R[U]=arguments[U];if(typeof R[0]=="string")E._gaCommand.apply(E,R);else{var V=R[0];E._gtag("get",E._currentMeasurementId,"client_id",function(H){E._isQueuing=!1;var q=E._queueGtag;for(V({get:function(T){return T==="clientId"?H:T==="trackingId"?E._currentMeasurementId:T==="apiVersion"?"1":void 0}});q.length;){var J=q.shift();E._gtag.apply(E,p(J))}}),E._isQueuing=!0}return E.ga}),j(this,"event",function(I,R){if(typeof I=="string")E._gtag("event",I,E._toGtagOptions(R));else{var U=I.action,V=I.category,H=I.label,q=I.value,J=I.nonInteraction,N=I.transport;if(!V||!U){console.warn("args.category AND args.action are required in event()");return}var T={hitType:"event",eventCategory:(0,n.default)(V),eventAction:(0,n.default)(U)};H&&(T.eventLabel=(0,n.default)(H)),typeof q<"u"&&(typeof q!="number"?console.warn("Expected `args.value` arg to be a Number."):T.eventValue=q),typeof J<"u"&&(typeof J!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):T.nonInteraction=J),typeof N<"u"&&(typeof N!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(N)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),T.transport=N)),E._gaCommand("send",T)}}),j(this,"send",function(I){E._gaCommand("send",I)}),this.reset()}return O(k,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),k}();e.GA4=B;var $=new B;e.default=$}(js)),js}var uo;function Uu(){return uo||(uo=1,function(e){function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=r(_u());function s(o){if(typeof WeakMap!="function")return null;var u=new WeakMap,f=new WeakMap;return(s=function(d){return d?f:u})(o)}function r(o,u){if(o&&o.__esModule)return o;if(o===null||t(o)!=="object"&&typeof o!="function")return{default:o};var f=s(u);if(f&&f.has(o))return f.get(o);var p={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in o)if(h!=="default"&&Object.prototype.hasOwnProperty.call(o,h)){var m=d?Object.getOwnPropertyDescriptor(o,h):null;m&&(m.get||m.set)?Object.defineProperty(p,h,m):p[h]=o[h]}return p.default=o,f&&f.set(o,p),p}var a=n.GA4;e.ReactGAImplementation=a;var i=n.default;e.default=i}(Os)),Os}var Fu=Uu();const dt=Uc(Fu);function qt(e){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(e)}function Bu(e,t){if(qt(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(qt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vu(e){var t=Bu(e,"string");return qt(t)=="symbol"?t:t+""}function F(e,t,n){return(t=Vu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ks,po;function zu(){if(po)return ks;po=1;var e=function(n,s,r,a,i,o,u,f){if(!n){var p;if(s===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,a,i,o,u,f],h=0;p=new Error(s.replace(/%s/g,function(){return d[h++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return ks=e,ks}var $u=zu(),Ae=Ha($u),le=l.createContext(null);function Gu(){Ae(!!l.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=l.useContext(le);return Ae(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function Hu(e,t,n){return Object.keys(e).reduce(function(r,a){return t(r,e[a],a)},n)}function Wu(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function qu(e,t,n,s){var r={},a=(i,o)=>{var u=n[o];u!==t[o]&&(r[o]=u,i(s,u))};return Wu(e,a),r}function Zu(e,t,n){var s=Hu(n,function(a,i,o){return typeof e[o]=="function"&&a.push(google.maps.event.addListener(t,i,e[o])),a},[]);return s}function Ju(e){google.maps.event.removeListener(e)}function fe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(Ju)}function de(e){var{updaterMap:t,eventMap:n,prevProps:s,nextProps:r,instance:a}=e,i=Zu(r,a,n);return qu(t,s,r,a),i}var fo={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},ho={extraMapTypes(e,t){t.forEach(function(s,r){e.mapTypes.set(String(r),s)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function Ku(e){var{children:t,options:n,id:s,mapContainerStyle:r,mapContainerClassName:a,center:i,onClick:o,onDblClick:u,onDrag:f,onDragEnd:p,onDragStart:d,onMouseMove:h,onMouseOut:m,onMouseOver:g,onMouseDown:v,onMouseUp:y,onRightClick:b,onCenterChanged:w,onLoad:P,onUnmount:S}=e,[x,L]=l.useState(null),C=l.useRef(null),[O,j]=l.useState(null),[D,M]=l.useState(null),[B,$]=l.useState(null),[k,E]=l.useState(null),[I,R]=l.useState(null),[U,V]=l.useState(null),[H,q]=l.useState(null),[J,N]=l.useState(null),[T,A]=l.useState(null),[K,z]=l.useState(null),[G,Z]=l.useState(null),[W,Y]=l.useState(null);return l.useEffect(()=>{n&&x!==null&&x.setOptions(n)},[x,n]),l.useEffect(()=>{x!==null&&typeof i<"u"&&x.setCenter(i)},[x,i]),l.useEffect(()=>{x&&u&&(D!==null&&google.maps.event.removeListener(D),M(google.maps.event.addListener(x,"dblclick",u)))},[u]),l.useEffect(()=>{x&&p&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(x,"dragend",p)))},[p]),l.useEffect(()=>{x&&d&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(x,"dragstart",d)))},[d]),l.useEffect(()=>{x&&v&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(x,"mousedown",v)))},[v]),l.useEffect(()=>{x&&h&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(x,"mousemove",h)))},[h]),l.useEffect(()=>{x&&m&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(x,"mouseout",m)))},[m]),l.useEffect(()=>{x&&g&&(J!==null&&google.maps.event.removeListener(J),N(google.maps.event.addListener(x,"mouseover",g)))},[g]),l.useEffect(()=>{x&&y&&(T!==null&&google.maps.event.removeListener(T),A(google.maps.event.addListener(x,"mouseup",y)))},[y]),l.useEffect(()=>{x&&b&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(x,"rightclick",b)))},[b]),l.useEffect(()=>{x&&o&&(G!==null&&google.maps.event.removeListener(G),Z(google.maps.event.addListener(x,"click",o)))},[o]),l.useEffect(()=>{x&&f&&(W!==null&&google.maps.event.removeListener(W),Y(google.maps.event.addListener(x,"drag",f)))},[f]),l.useEffect(()=>{x&&w&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(x,"center_changed",w)))},[o]),l.useEffect(()=>{var re=C.current===null?null:new google.maps.Map(C.current,n);return L(re),re!==null&&P&&P(re),()=>{re!==null&&S&&S(re)}},[]),c.jsx("div",{id:s,ref:C,style:r,className:a,children:c.jsx(le.Provider,{value:x,children:x!==null?t:null})})}l.memo(Ku);class Yu extends l.PureComponent{constructor(){super(...arguments),F(this,"state",{map:null}),F(this,"registeredEvents",[]),F(this,"mapRef",null),F(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),F(this,"panTo",t=>{var n=this.getInstance();n&&n.panTo(t)}),F(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),F(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=de({updaterMap:ho,eventMap:fo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:ho,eventMap:fo,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),fe(this.registeredEvents))}render(){return c.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:c.jsx(le.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function go(e,t,n,s,r,a,i){try{var o=e[a](i),u=o.value}catch(f){return void n(f)}o.done?t(u):Promise.resolve(u).then(s,r)}function Wa(e){return function(){var t=this,n=arguments;return new Promise(function(s,r){var a=e.apply(t,n);function i(u){go(a,s,r,i,o,"next",u)}function o(u){go(a,s,r,i,o,"throw",u)}i(void 0)})}}function qa(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:s="weekly",language:r,region:a,libraries:i,channel:o,mapIds:u,authReferrerPolicy:f}=e,p=[];return Ae(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?p.push("key=".concat(t)):n&&p.push("client=".concat(n)),s&&p.push("v=".concat(s)),r&&p.push("language=".concat(r)),a&&p.push("region=".concat(a)),i&&i.length&&p.push("libraries=".concat(i.sort().join(","))),o&&p.push("channel=".concat(o)),u&&u.length&&p.push("map_ids=".concat(u.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var ft=typeof document<"u";function Za(e){var{url:t,id:n,nonce:s}=e;return ft?new Promise(function(a,i){var o=document.getElementById(n),u=window;if(o){var f=o.getAttribute("data-state");if(o.src===t&&f!=="error"){if(f==="ready")return a(n);var p=u.initMap,d=o.onerror;u.initMap=function(){p&&p(),a(n)},o.onerror=function(m){d&&d(m),i(m)};return}else o.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=t,h.id=n,h.async=!0,h.nonce=s||"",h.onerror=function(g){h.setAttribute("data-state","error"),i(g)},u.initMap=function(){h.setAttribute("data-state","ready"),a(n)},document.head.appendChild(h)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function mo(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function Ja(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(r,a){return mo(r)||Reflect.apply(t,e,[r,a]),r};var n=e.appendChild.bind(e);e.appendChild=function(r){return mo(r)||Reflect.apply(n,e,[r]),r}}}var _t=!1;function Ka(){return c.jsx("div",{children:"Loading..."})}var Xs={id:"script-loader",version:"weekly"};class Ya extends l.PureComponent{constructor(){super(...arguments),F(this,"check",null),F(this,"state",{loaded:!1}),F(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),F(this,"isCleaningUp",Wa(function*(){function t(n){if(!_t)n();else if(ft)var s=window.setInterval(function(){_t||(window.clearInterval(s),n())},1)}return new Promise(t)})),F(this,"cleanup",()=>{_t=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),F(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Ja(),Ae(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:qa(this.props)};Za(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),F(this,"getRef",t=>{this.check=t})}componentDidMount(){if(ft){if(window.google&&window.google.maps&&!_t){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ft&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ft){this.cleanup();var t=()=>{this.check||(delete window.google,_t=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return c.jsxs(c.Fragment,{children:[c.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||c.jsx(Ka,{})]})}}F(Ya,"defaultProps",Xs);function Qu(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}function Sr(e,t){if(e==null)return{};var n,s,r=Qu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var vo;function Xu(e){var{id:t=Xs.id,version:n=Xs.version,nonce:s,googleMapsApiKey:r,googleMapsClientId:a,language:i,region:o,libraries:u,preventGoogleFontsLoading:f,channel:p,mapIds:d,authReferrerPolicy:h}=e,m=l.useRef(!1),[g,v]=l.useState(!1),[y,b]=l.useState(void 0);l.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]),l.useEffect(function(){ft&&f&&Ja()},[f]),l.useEffect(function(){g&&Ae(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[g]);var w=qa({version:n,googleMapsApiKey:r,googleMapsClientId:a,language:i,region:o,libraries:u,channel:p,mapIds:d,authReferrerPolicy:h});l.useEffect(function(){if(!ft)return;function x(){m.current&&(v(!0),vo=w)}if(window.google&&window.google.maps&&vo===w){x();return}Za({id:t,url:w,nonce:s}).then(x).catch(function(C){m.current&&b(C),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(r||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(C)})},[t,w,s]);var P=l.useRef(void 0);return l.useEffect(function(){P.current&&u!==P.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),P.current=u},[u]),{isLoaded:g,loadError:y,url:w}}var ed=["loadingElement","onLoad","onError","onUnmount","children"],td=c.jsx(Ka,{});function nd(e){var{loadingElement:t,onLoad:n,onError:s,onUnmount:r,children:a}=e,i=Sr(e,ed),{isLoaded:o,loadError:u}=Xu(i);return l.useEffect(function(){o&&typeof n=="function"&&n()},[o,n]),l.useEffect(function(){u&&typeof s=="function"&&s(u)},[u,s]),l.useEffect(function(){return()=>{r&&r()}},[r]),o?a:t||td}l.memo(nd);var yo;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(yo||(yo={}));function bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bo(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var wo={},xo={options(e,t){e.setOptions(t)}};function sd(e){var{options:t,onLoad:n,onUnmount:s}=e,r=l.useContext(le),[a,i]=l.useState(null);return l.useEffect(()=>{a!==null&&a.setMap(r)},[r]),l.useEffect(()=>{t&&a!==null&&a.setOptions(t)},[a,t]),l.useEffect(()=>{var o=new google.maps.TrafficLayer(Hn(Hn({},t),{},{map:r}));return i(o),n&&n(o),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}l.memo(sd);class rd extends l.PureComponent{constructor(){super(...arguments),F(this,"state",{trafficLayer:null}),F(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),F(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(Hn(Hn({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:xo,eventMap:wo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:xo,eventMap:wo,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),fe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}F(rd,"contextType",le);function od(e){var{onLoad:t,onUnmount:n}=e,s=l.useContext(le),[r,a]=l.useState(null);return l.useEffect(()=>{r!==null&&r.setMap(s)},[s]),l.useEffect(()=>{var i=new google.maps.BicyclingLayer;return a(i),i.setMap(s),t&&t(i),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}l.memo(od);class id extends l.PureComponent{constructor(){super(...arguments),F(this,"state",{bicyclingLayer:null}),F(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}F(id,"contextType",le);function ad(e){var{onLoad:t,onUnmount:n}=e,s=l.useContext(le),[r,a]=l.useState(null);return l.useEffect(()=>{r!==null&&r.setMap(s)},[s]),l.useEffect(()=>{var i=new google.maps.TransitLayer;return a(i),i.setMap(s),t&&t(i),()=>{r!==null&&(n&&n(r),r.setMap(null))}},[]),null}l.memo(ad);class ld extends l.PureComponent{constructor(){super(...arguments),F(this,"state",{transitLayer:null}),F(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}F(ld,"contextType",le);function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?So(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Co={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Lo={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function cd(e){var{options:t,drawingMode:n,onCircleComplete:s,onMarkerComplete:r,onOverlayComplete:a,onPolygonComplete:i,onPolylineComplete:o,onRectangleComplete:u,onLoad:f,onUnmount:p}=e,d=l.useContext(le),[h,m]=l.useState(null),[g,v]=l.useState(null),[y,b]=l.useState(null),[w,P]=l.useState(null),[S,x]=l.useState(null),[L,C]=l.useState(null),[O,j]=l.useState(null);return l.useEffect(()=>{h!==null&&h.setMap(d)},[d]),l.useEffect(()=>{t&&h!==null&&h.setOptions(t)},[h,t]),l.useEffect(()=>{h!==null&&h.setDrawingMode(n??null)},[h,n]),l.useEffect(()=>{h&&s&&(g!==null&&google.maps.event.removeListener(g),v(google.maps.event.addListener(h,"circlecomplete",s)))},[h,s]),l.useEffect(()=>{h&&r&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(h,"markercomplete",r)))},[h,r]),l.useEffect(()=>{h&&a&&(w!==null&&google.maps.event.removeListener(w),P(google.maps.event.addListener(h,"overlaycomplete",a)))},[h,a]),l.useEffect(()=>{h&&i&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(h,"polygoncomplete",i)))},[h,i]),l.useEffect(()=>{h&&o&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(h,"polylinecomplete",o)))},[h,o]),l.useEffect(()=>{h&&u&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(h,"rectanglecomplete",u)))},[h,u]),l.useEffect(()=>{Ae(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var D=new google.maps.drawing.DrawingManager(Wn(Wn({},t),{},{map:d}));return n&&D.setDrawingMode(n),s&&v(google.maps.event.addListener(D,"circlecomplete",s)),r&&b(google.maps.event.addListener(D,"markercomplete",r)),a&&P(google.maps.event.addListener(D,"overlaycomplete",a)),i&&x(google.maps.event.addListener(D,"polygoncomplete",i)),o&&C(google.maps.event.addListener(D,"polylinecomplete",o)),u&&j(google.maps.event.addListener(D,"rectanglecomplete",u)),m(D),f&&f(D),()=>{h!==null&&(g&&google.maps.event.removeListener(g),y&&google.maps.event.removeListener(y),w&&google.maps.event.removeListener(w),S&&google.maps.event.removeListener(S),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),p&&p(h),h.setMap(null))}},[]),null}l.memo(cd);class ud extends l.PureComponent{constructor(t){super(t),F(this,"registeredEvents",[]),F(this,"state",{drawingManager:null}),F(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Ae(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(Wn(Wn({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:Lo,eventMap:Co,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:Lo,eventMap:Co,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),fe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}F(ud,"contextType",le);function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eo(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Oo={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},jo={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},qn={};function dd(e){var{position:t,options:n,clusterer:s,noClustererRedraw:r,children:a,draggable:i,visible:o,animation:u,clickable:f,cursor:p,icon:d,label:h,opacity:m,shape:g,title:v,zIndex:y,onClick:b,onDblClick:w,onDrag:P,onDragEnd:S,onDragStart:x,onMouseOut:L,onMouseOver:C,onMouseUp:O,onMouseDown:j,onRightClick:D,onClickableChanged:M,onCursorChanged:B,onAnimationChanged:$,onDraggableChanged:k,onFlatChanged:E,onIconChanged:I,onPositionChanged:R,onShapeChanged:U,onTitleChanged:V,onVisibleChanged:H,onZindexChanged:q,onLoad:J,onUnmount:N}=e,T=l.useContext(le),[A,K]=l.useState(null),[z,G]=l.useState(null),[Z,W]=l.useState(null),[Y,re]=l.useState(null),[ae,xe]=l.useState(null),[te,Oe]=l.useState(null),[X,ne]=l.useState(null),[ce,he]=l.useState(null),[Se,ue]=l.useState(null),[pe,Ee]=l.useState(null),[je,Ce]=l.useState(null),[Ze,ct]=l.useState(null),[Ct,zr]=l.useState(null),[rn,$r]=l.useState(null),[on,Gr]=l.useState(null),[an,Hr]=l.useState(null),[ln,Wr]=l.useState(null),[cn,qr]=l.useState(null),[Zr,Jr]=l.useState(null),[un,Kr]=l.useState(null),[dn,Yr]=l.useState(null),[pn,Qr]=l.useState(null);l.useEffect(()=>{A!==null&&A.setMap(T)},[T]),l.useEffect(()=>{typeof n<"u"&&A!==null&&A.setOptions(n)},[A,n]),l.useEffect(()=>{typeof i<"u"&&A!==null&&A.setDraggable(i)},[A,i]),l.useEffect(()=>{t&&A!==null&&A.setPosition(t)},[A,t]),l.useEffect(()=>{typeof o<"u"&&A!==null&&A.setVisible(o)},[A,o]),l.useEffect(()=>{A==null||A.setAnimation(u)},[A,u]),l.useEffect(()=>{A&&f!==void 0&&A.setClickable(f)},[A,f]),l.useEffect(()=>{A&&p!==void 0&&A.setCursor(p)},[A,p]),l.useEffect(()=>{A&&d!==void 0&&A.setIcon(d)},[A,d]),l.useEffect(()=>{A&&h!==void 0&&A.setLabel(h)},[A,h]),l.useEffect(()=>{A&&m!==void 0&&A.setOpacity(m)},[A,m]),l.useEffect(()=>{A&&g!==void 0&&A.setShape(g)},[A,g]),l.useEffect(()=>{A&&v!==void 0&&A.setTitle(v)},[A,v]),l.useEffect(()=>{A&&y!==void 0&&A.setZIndex(y)},[A,y]),l.useEffect(()=>{A&&w&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(A,"dblclick",w)))},[w]),l.useEffect(()=>{A&&S&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(A,"dragend",S)))},[S]),l.useEffect(()=>{A&&x&&(Y!==null&&google.maps.event.removeListener(Y),re(google.maps.event.addListener(A,"dragstart",x)))},[x]),l.useEffect(()=>{A&&j&&(ae!==null&&google.maps.event.removeListener(ae),xe(google.maps.event.addListener(A,"mousedown",j)))},[j]),l.useEffect(()=>{A&&L&&(te!==null&&google.maps.event.removeListener(te),Oe(google.maps.event.addListener(A,"mouseout",L)))},[L]),l.useEffect(()=>{A&&C&&(X!==null&&google.maps.event.removeListener(X),ne(google.maps.event.addListener(A,"mouseover",C)))},[C]),l.useEffect(()=>{A&&O&&(ce!==null&&google.maps.event.removeListener(ce),he(google.maps.event.addListener(A,"mouseup",O)))},[O]),l.useEffect(()=>{A&&D&&(Se!==null&&google.maps.event.removeListener(Se),ue(google.maps.event.addListener(A,"rightclick",D)))},[D]),l.useEffect(()=>{A&&b&&(pe!==null&&google.maps.event.removeListener(pe),Ee(google.maps.event.addListener(A,"click",b)))},[b]),l.useEffect(()=>{A&&P&&(je!==null&&google.maps.event.removeListener(je),Ce(google.maps.event.addListener(A,"drag",P)))},[P]),l.useEffect(()=>{A&&M&&(Ze!==null&&google.maps.event.removeListener(Ze),ct(google.maps.event.addListener(A,"clickable_changed",M)))},[M]),l.useEffect(()=>{A&&B&&(Ct!==null&&google.maps.event.removeListener(Ct),zr(google.maps.event.addListener(A,"cursor_changed",B)))},[B]),l.useEffect(()=>{A&&$&&(rn!==null&&google.maps.event.removeListener(rn),$r(google.maps.event.addListener(A,"animation_changed",$)))},[$]),l.useEffect(()=>{A&&k&&(on!==null&&google.maps.event.removeListener(on),Gr(google.maps.event.addListener(A,"draggable_changed",k)))},[k]),l.useEffect(()=>{A&&E&&(an!==null&&google.maps.event.removeListener(an),Hr(google.maps.event.addListener(A,"flat_changed",E)))},[E]),l.useEffect(()=>{A&&I&&(ln!==null&&google.maps.event.removeListener(ln),Wr(google.maps.event.addListener(A,"icon_changed",I)))},[I]),l.useEffect(()=>{A&&R&&(cn!==null&&google.maps.event.removeListener(cn),qr(google.maps.event.addListener(A,"position_changed",R)))},[R]),l.useEffect(()=>{A&&U&&(Zr!==null&&google.maps.event.removeListener(Zr),Jr(google.maps.event.addListener(A,"shape_changed",U)))},[U]),l.useEffect(()=>{A&&V&&(un!==null&&google.maps.event.removeListener(un),Kr(google.maps.event.addListener(A,"title_changed",V)))},[V]),l.useEffect(()=>{A&&H&&(dn!==null&&google.maps.event.removeListener(dn),Yr(google.maps.event.addListener(A,"visible_changed",H)))},[H]),l.useEffect(()=>{A&&q&&(pn!==null&&google.maps.event.removeListener(pn),Qr(google.maps.event.addListener(A,"zindex_changed",q)))},[q]),l.useEffect(()=>{var Tt=jt(jt(jt({},n||qn),s?qn:{map:T}),{},{position:t}),oe=new google.maps.Marker(Tt);return s?s.addMarker(oe,!!r):oe.setMap(T),t&&oe.setPosition(t),typeof o<"u"&&oe.setVisible(o),typeof i<"u"&&oe.setDraggable(i),typeof f<"u"&&oe.setClickable(f),typeof p=="string"&&oe.setCursor(p),d&&oe.setIcon(d),typeof h<"u"&&oe.setLabel(h),typeof m<"u"&&oe.setOpacity(m),g&&oe.setShape(g),typeof v=="string"&&oe.setTitle(v),typeof y=="number"&&oe.setZIndex(y),w&&G(google.maps.event.addListener(oe,"dblclick",w)),S&&W(google.maps.event.addListener(oe,"dragend",S)),x&&re(google.maps.event.addListener(oe,"dragstart",x)),j&&xe(google.maps.event.addListener(oe,"mousedown",j)),L&&Oe(google.maps.event.addListener(oe,"mouseout",L)),C&&ne(google.maps.event.addListener(oe,"mouseover",C)),O&&he(google.maps.event.addListener(oe,"mouseup",O)),D&&ue(google.maps.event.addListener(oe,"rightclick",D)),b&&Ee(google.maps.event.addListener(oe,"click",b)),P&&Ce(google.maps.event.addListener(oe,"drag",P)),M&&ct(google.maps.event.addListener(oe,"clickable_changed",M)),B&&zr(google.maps.event.addListener(oe,"cursor_changed",B)),$&&$r(google.maps.event.addListener(oe,"animation_changed",$)),k&&Gr(google.maps.event.addListener(oe,"draggable_changed",k)),E&&Hr(google.maps.event.addListener(oe,"flat_changed",E)),I&&Wr(google.maps.event.addListener(oe,"icon_changed",I)),R&&qr(google.maps.event.addListener(oe,"position_changed",R)),U&&Jr(google.maps.event.addListener(oe,"shape_changed",U)),V&&Kr(google.maps.event.addListener(oe,"title_changed",V)),H&&Yr(google.maps.event.addListener(oe,"visible_changed",H)),q&&Qr(google.maps.event.addListener(oe,"zindex_changed",q)),K(oe),J&&J(oe),()=>{z!==null&&google.maps.event.removeListener(z),Z!==null&&google.maps.event.removeListener(Z),Y!==null&&google.maps.event.removeListener(Y),ae!==null&&google.maps.event.removeListener(ae),te!==null&&google.maps.event.removeListener(te),X!==null&&google.maps.event.removeListener(X),ce!==null&&google.maps.event.removeListener(ce),Se!==null&&google.maps.event.removeListener(Se),pe!==null&&google.maps.event.removeListener(pe),Ze!==null&&google.maps.event.removeListener(Ze),Ct!==null&&google.maps.event.removeListener(Ct),rn!==null&&google.maps.event.removeListener(rn),on!==null&&google.maps.event.removeListener(on),an!==null&&google.maps.event.removeListener(an),ln!==null&&google.maps.event.removeListener(ln),cn!==null&&google.maps.event.removeListener(cn),un!==null&&google.maps.event.removeListener(un),dn!==null&&google.maps.event.removeListener(dn),pn!==null&&google.maps.event.removeListener(pn),N&&N(oe),s?s.removeMarker(oe,!!r):oe&&oe.setMap(null)}},[]);var Dc=l.useMemo(()=>a?l.Children.map(a,Tt=>{if(!l.isValidElement(Tt))return Tt;var oe=Tt;return l.cloneElement(oe,{anchor:A})}):null,[a,A]);return c.jsx(c.Fragment,{children:Dc})||null}l.memo(dd);class pd extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[])}componentDidMount(){var t=this;return Wa(function*(){var n=jt(jt(jt({},t.props.options||qn),t.props.clusterer?qn:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(n),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=de({updaterMap:jo,eventMap:Oo,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:jo,eventMap:Oo,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),fe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?l.Children.map(this.props.children,n=>{if(!l.isValidElement(n))return n;var s=n;return l.cloneElement(s,{anchor:this.marker})}):null;return t||null}}F(pd,"contextType",le);var fd=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),r=this.cluster.getBounds(),a=n.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(r),this.timeOut=window.setTimeout(function(){var i=n.getMap();if(i!==null){"fitBounds"in i&&i.fitBounds(r);var o=i.getZoom()||0;s!==null&&o>s&&i.setZoom(s+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,n,s,r,a,i;if(this.div&&this.center){var o=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,u=this.backgroundPosition.split(" "),f=parseInt(((t=u[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((n=u[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=o,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var m=document.createElement("div");m.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(m.innerText="".concat((r=this.sums)===null||r===void 0?void 0:r.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(m.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(m),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,t.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},e}(),hd=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new fd(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,r=n;s<r.length;s++){var a=r[s],i=a.getPosition();i&&t.extend(i)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var s=t.getPosition();if(s){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+s.lat())/r,(this.center.lng()*(r-1)+s.lng())/r),this.calculateBounds()}}}else{var s=t.getPosition();s&&(this.center=s,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var a=this.markers.length,i=this.markerClusterer.getMaxZoom(),o=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(i!==null&&typeof o<"u"&&o>i)t.getMap()!==this.map&&t.setMap(this.map);else if(a<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(a===this.minClusterSize)for(var u=0,f=this.markers;u<f.length;u++){var p=f[u];p.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),r=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(s!==null&&typeof r<"u"&&r>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},e}();function gd(e,t){var n=e.length,s=n.toString().length,r=Math.min(s,t);return{text:n.toString(),index:r,title:""}}var md=2e3,vd=500,yd="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",bd="png",wd=[53,56,66,78,90],xd="cluster",Qa=function(){function e(t,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||yd,this.imageExtension=s.imageExtension||bd,this.imageSizes=s.imageSizes||wd,this.calculator=s.calculator||gd,this.batchSize=s.batchSize||md,this.batchSizeIE=s.batchSizeIE||vd,this.clusterClass=s.clusterClass||xd,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var s=n[t];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var r=0,a=this.clusters;r<a.length;r++){var i=a[r];i.remove()}this.clusters=[];for(var o=0,u=this.listeners;o<u.length;o++){var f=u[o];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,r=t;s<r.length;s++){var a=r[s],i=a.getPosition();i&&n.extend(i)}var o=this.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(n)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},e.prototype.addMarkers=function(t,n){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var r=t[s];r&&this.pushMarkerTo(r)}n||this.redraw()},e.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var s=0;s<this.markers.length;s++)if(t===this.markers[s]){n=s;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},e.prototype.removeMarker=function(t,n){var s=this.removeMarker_(t);return!n&&s&&this.repaint(),s},e.prototype.removeMarkers=function(t,n){for(var s=!1,r=0,a=t;r<a.length;r++){var i=a[r];s=s||this.removeMarker_(i)}return!n&&s&&this.repaint(),s},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,r=t;s<r.length;s++){var a=r[s];a.remove()}},0)},e.prototype.getExtendedBounds=function(t){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var r=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(r!==null&&(r.x-=this.gridSize,r.y+=this.gridSize),s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&t.extend(a)}if(r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&t.extend(i)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var n=0,s=this.clusters;n<s.length;n++){var r=s[n];r.remove()}this.clusters=[];for(var a=0,i=this.markers;a<i.length;a++){var o=i[a];o.isAdded=!1,t&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,n){var s=6371,r=(n.lat()-t.lat())*Math.PI/180,a=(n.lng()-t.lng())*Math.PI/180,i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},e.prototype.isMarkerInBounds=function(t,n){var s=t.getPosition();return s?n.contains(s):!1},e.prototype.addToClosestCluster=function(t){for(var n,s=4e4,r=null,a=0,i=this.clusters;a<i.length;a++){var o=i[a];n=o;var u=n.getCenter(),f=t.getPosition();if(u&&f){var p=this.distanceBetweenPoints(u,f);p<s&&(s=p,r=n)}}r&&r.isMarkerInClusterBounds(t)?r.addMarker(t):(n=new hd(this),n.addMarker(t),this.clusters.push(n))},e.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),r=s!==null&&("getBounds"in s)?s.getBounds():null,a=(s==null?void 0:s.getZoom())||0,i=a>3?new google.maps.LatLngBounds(r==null?void 0:r.getSouthWest(),r==null?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),u=Math.min(t+this.batchSize,this.markers.length),f=t;f<u;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,o)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(u<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(u)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,h=this.clusters;d<h.length;d++){var m=h[d];m.updateIcon()}}}},e.prototype.extend=function(t,n){return(function(r){for(var a in r.prototype){var i=a;this.prototype[i]=r.prototype[i]}return this}).apply(t,[n])},e}();function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Po(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Ke={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},me={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},Cd={};function Ld(e){var{children:t,options:n,averageCenter:s,batchSizeIE:r,calculator:a,clusterClass:i,enableRetinaIcons:o,gridSize:u,ignoreHidden:f,imageExtension:p,imagePath:d,imageSizes:h,maxZoom:m,minimumClusterSize:g,styles:v,title:y,zoomOnClick:b,onClick:w,onClusteringBegin:P,onClusteringEnd:S,onMouseOver:x,onMouseOut:L,onLoad:C,onUnmount:O}=e,[j,D]=l.useState(null),M=l.useContext(le),[B,$]=l.useState(null),[k,E]=l.useState(null),[I,R]=l.useState(null),[U,V]=l.useState(null),[H,q]=l.useState(null);return l.useEffect(()=>{j&&L&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(j,Ke.onMouseOut,L)))},[L]),l.useEffect(()=>{j&&x&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(j,Ke.onMouseOver,x)))},[x]),l.useEffect(()=>{j&&w&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(j,Ke.onClick,w)))},[w]),l.useEffect(()=>{j&&P&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(j,Ke.onClusteringBegin,P)))},[P]),l.useEffect(()=>{j&&S&&(I!==null&&google.maps.event.removeListener(I),E(google.maps.event.addListener(j,Ke.onClusteringEnd,S)))},[S]),l.useEffect(()=>{typeof s<"u"&&j!==null&&me.averageCenter(j,s)},[j,s]),l.useEffect(()=>{typeof r<"u"&&j!==null&&me.batchSizeIE(j,r)},[j,r]),l.useEffect(()=>{typeof a<"u"&&j!==null&&me.calculator(j,a)},[j,a]),l.useEffect(()=>{typeof i<"u"&&j!==null&&me.clusterClass(j,i)},[j,i]),l.useEffect(()=>{typeof o<"u"&&j!==null&&me.enableRetinaIcons(j,o)},[j,o]),l.useEffect(()=>{typeof u<"u"&&j!==null&&me.gridSize(j,u)},[j,u]),l.useEffect(()=>{typeof f<"u"&&j!==null&&me.ignoreHidden(j,f)},[j,f]),l.useEffect(()=>{typeof p<"u"&&j!==null&&me.imageExtension(j,p)},[j,p]),l.useEffect(()=>{typeof d<"u"&&j!==null&&me.imagePath(j,d)},[j,d]),l.useEffect(()=>{typeof h<"u"&&j!==null&&me.imageSizes(j,h)},[j,h]),l.useEffect(()=>{typeof m<"u"&&j!==null&&me.maxZoom(j,m)},[j,m]),l.useEffect(()=>{typeof g<"u"&&j!==null&&me.minimumClusterSize(j,g)},[j,g]),l.useEffect(()=>{typeof v<"u"&&j!==null&&me.styles(j,v)},[j,v]),l.useEffect(()=>{typeof y<"u"&&j!==null&&me.title(j,y)},[j,y]),l.useEffect(()=>{typeof b<"u"&&j!==null&&me.zoomOnClick(j,b)},[j,b]),l.useEffect(()=>{if(M){var J=Sd({},n||Cd),N=new Qa(M,[],J);return s&&me.averageCenter(N,s),r&&me.batchSizeIE(N,r),a&&me.calculator(N,a),i&&me.clusterClass(N,i),o&&me.enableRetinaIcons(N,o),u&&me.gridSize(N,u),f&&me.ignoreHidden(N,f),p&&me.imageExtension(N,p),d&&me.imagePath(N,d),h&&me.imageSizes(N,h),m&&me.maxZoom(N,m),g&&me.minimumClusterSize(N,g),v&&me.styles(N,v),y&&me.title(N,y),b&&me.zoomOnClick(N,b),L&&V(google.maps.event.addListener(N,Ke.onMouseOut,L)),x&&q(google.maps.event.addListener(N,Ke.onMouseOver,x)),w&&$(google.maps.event.addListener(N,Ke.onClick,w)),P&&E(google.maps.event.addListener(N,Ke.onClusteringBegin,P)),S&&R(google.maps.event.addListener(N,Ke.onClusteringEnd,S)),D(N),C&&C(N),()=>{U!==null&&google.maps.event.removeListener(U),H!==null&&google.maps.event.removeListener(H),B!==null&&google.maps.event.removeListener(B),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),O&&O(N)}}},[]),j!==null&&t(j)||null}l.memo(Ld);class Ed extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{markerClusterer:null}),F(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new Qa(this.context,[],this.props.options);this.registeredEvents=de({updaterMap:me,eventMap:Ke,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:me,eventMap:Ke,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),fe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}F(Ed,"contextType",le);function Mo(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var Xa=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,n=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),t.enableEventPropagation||Mo(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],i=0,o=a;i<o.length;i++){var u=o[i];this.eventListeners.push(google.maps.event.addListener(this.div,u,Mo))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,r=0,a=n.getBounds();a&&!a.contains(this.position)&&n.setCenter(this.position);var i=n.getDiv(),o=i.offsetWidth,u=i.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,d=this.div.offsetWidth,h=this.div.offsetHeight,m=this.infoBoxClearance.width,g=this.infoBoxClearance.height,v=this.getProjection(),y=v.fromLatLngToContainerPixel(this.position);y!==null&&(y.x<-f+m?s=y.x+f-m:y.x+d+f+m>o&&(s=y.x+d+f+m-o),this.alignBottom?y.y<-p+g+h?r=y.y+p-g-h:y.y+p+g>u&&(r=y.y+p+g-u):y.y<-p+g?r=y.y+p-g:y.y+h+p+g>u&&(r=y.y+h+p+g-u)),s===0&&r===0||n.panBy(s,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var r=n.getPosition();s.setPosition(r)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var s=n[t];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,n){return(function(r){for(var a in r.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=r.prototype[a]);return this}).apply(t,[n])},e}(),Od=["position"],jd=["position"];function ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ko(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ko(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Io={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},No={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Pd={};function Md(e){var{children:t,anchor:n,options:s,position:r,zIndex:a,onCloseClick:i,onDomReady:o,onContentChanged:u,onPositionChanged:f,onZindexChanged:p,onLoad:d,onUnmount:h}=e,m=l.useContext(le),[g,v]=l.useState(null),[y,b]=l.useState(null),[w,P]=l.useState(null),[S,x]=l.useState(null),[L,C]=l.useState(null),[O,j]=l.useState(null),D=l.useRef(null);return l.useEffect(()=>{m&&g!==null&&(g.close(),n?g.open(m,n):g.getPosition()&&g.open(m))},[m,g,n]),l.useEffect(()=>{s&&g!==null&&g.setOptions(s)},[g,s]),l.useEffect(()=>{if(r&&g!==null){var M=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);g.setPosition(M)}},[r]),l.useEffect(()=>{typeof a=="number"&&g!==null&&g.setZIndex(a)},[a]),l.useEffect(()=>{g&&i&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(g,"closeclick",i)))},[i]),l.useEffect(()=>{g&&o&&(w!==null&&google.maps.event.removeListener(w),P(google.maps.event.addListener(g,"domready",o)))},[o]),l.useEffect(()=>{g&&u&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(g,"content_changed",u)))},[u]),l.useEffect(()=>{g&&f&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(g,"position_changed",f)))},[f]),l.useEffect(()=>{g&&p&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(g,"zindex_changed",p)))},[p]),l.useEffect(()=>{if(m){var M=s||Pd,{position:B}=M,$=Sr(M,Od),k;B&&!(B instanceof google.maps.LatLng)&&(k=new google.maps.LatLng(B.lat,B.lng));var E=new Xa(Zn(Zn({},$),k?{position:k}:{}));D.current=document.createElement("div"),v(E),i&&b(google.maps.event.addListener(E,"closeclick",i)),o&&P(google.maps.event.addListener(E,"domready",o)),u&&x(google.maps.event.addListener(E,"content_changed",u)),f&&C(google.maps.event.addListener(E,"position_changed",f)),p&&j(google.maps.event.addListener(E,"zindex_changed",p)),E.setContent(D.current),n?E.open(m,n):E.getPosition()?E.open(m):Ae(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(E)}return()=>{g!==null&&(y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),w&&google.maps.event.removeListener(w),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),h&&h(g),g.close())}},[]),D.current?xt.createPortal(l.Children.only(t),D.current):null}l.memo(Md);class kd extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",null),F(this,"state",{infoBox:null}),F(this,"open",(t,n)=>{n?this.context!==null&&t.open(this.context,n):t.getPosition()?this.context!==null&&t.open(this.context):Ae(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),F(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:n}=t,s=Sr(t,jd),r;n&&!(n instanceof google.maps.LatLng)&&(r=new google.maps.LatLng(n.lat,n.lng));var a=new Xa(Zn(Zn({},s),r?{position:r}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=de({updaterMap:No,eventMap:Io,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:n}=this.state;n!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:No,eventMap:Io,prevProps:t,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:n}=this.state;n!==null&&(t&&t(n),fe(this.registeredEvents),n.close())}render(){return this.containerElement?xt.createPortal(l.Children.only(this.props.children),this.containerElement):null}}F(kd,"contextType",le);var Is,Ao;function Id(){return Ao||(Ao=1,Is=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,r,a;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(r=s;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!==0;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),Is}var Nd=Id(),Ro=Ha(Nd),Do=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Ns=1,Ut=8;class Cr{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var r=s>>4;if(r!==Ns)throw new Error("Got v".concat(r," data when expected v").concat(Ns,"."));var a=Do[s&15];if(!a)throw new Error("Unrecognized array type.");var[i]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new Cr(o,i,a,t)}constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var a=Do.indexOf(this.ArrayType),i=t*2*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,u=(8-o%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,Ut,t),this.coords=new this.ArrayType(this.data,Ut+o+u,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(Ut+i+o+u),this.ids=new this.IndexArrayType(this.data,Ut,t),this.coords=new this.ArrayType(this.data,Ut+o+u,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Ns<<4)+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=t,this.coords[this._pos++]=n,s}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return er(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,s,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:i,nodeSize:o}=this,u=[0,a.length-1,0],f=[];u.length;){var p=u.pop()||0,d=u.pop()||0,h=u.pop()||0;if(d-h<=o){for(var m=h;m<=d;m++){var g=i[2*m],v=i[2*m+1];g>=t&&g<=s&&v>=n&&v<=r&&f.push(a[m])}continue}var y=h+d>>1,b=i[2*y],w=i[2*y+1];b>=t&&b<=s&&w>=n&&w<=r&&f.push(a[y]),(p===0?t<=b:n<=w)&&(u.push(h),u.push(y-1),u.push(1-p)),(p===0?s>=b:r>=w)&&(u.push(y+1),u.push(d),u.push(1-p))}return f}within(t,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:a,nodeSize:i}=this,o=[0,r.length-1,0],u=[],f=s*s;o.length;){var p=o.pop()||0,d=o.pop()||0,h=o.pop()||0;if(d-h<=i){for(var m=h;m<=d;m++)To(a[2*m],a[2*m+1],t,n)<=f&&u.push(r[m]);continue}var g=h+d>>1,v=a[2*g],y=a[2*g+1];To(v,y,t,n)<=f&&u.push(r[g]),(p===0?t-s<=v:n-s<=y)&&(o.push(h),o.push(g-1),o.push(1-p)),(p===0?t+s>=v:n+s>=y)&&(o.push(g+1),o.push(d),o.push(1-p))}return u}}function er(e,t,n,s,r,a){if(!(r-s<=n)){var i=s+r>>1;el(e,t,i,s,r,a),er(e,t,n,s,i-1,1-a),er(e,t,n,i+1,r,1-a)}}function el(e,t,n,s,r,a){for(;r>s;){if(r-s>600){var i=r-s+1,o=n-s+1,u=Math.log(i),f=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*f*(i-f)/i)*(o-i/2<0?-1:1),d=Math.max(s,Math.floor(n-o*f/i+p)),h=Math.min(r,Math.floor(n+(i-o)*f/i+p));el(e,t,n,d,h,a)}var m=t[2*n+a],g=s,v=r;for(Ft(e,t,s,n),t[2*r+a]>m&&Ft(e,t,s,r);g<v;){for(Ft(e,t,g,v),g++,v--;t[2*g+a]<m;)g++;for(;t[2*v+a]>m;)v--}t[2*s+a]===m?Ft(e,t,s,v):(v++,Ft(e,t,v,r)),v<=n&&(s=v+1),n<=v&&(r=v-1)}}function Ft(e,t,n,s){As(e,n,s),As(t,2*n,2*s),As(t,2*n+1,2*s+1)}function As(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function To(e,t,n,s){var r=e-n,a=t-s;return r*r+a*a}var Ad={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},_o=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),ut=2,at=3,Rs=4,it=5,tl=6;class Rd{constructor(t){this.options=Object.assign(Object.create(Ad),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:n,minZoom:s,maxZoom:r}=this.options;n&&console.time("total time");var a="prepare ".concat(t.length," points");n&&console.time(a),this.points=t;for(var i=[],o=0;o<t.length;o++){var u=t[o];if(u.geometry){var[f,p]=u.geometry.coordinates,d=_o(fn(f)),h=_o(hn(p));i.push(d,h,1/0,o,-1,1),this.options.reduce&&i.push(0)}}var m=this.trees[r+1]=this._createTree(i);n&&console.timeEnd(a);for(var g=r;g>=s;g--){var v=+Date.now();m=this.trees[g]=this._createTree(this._cluster(m,g)),n&&console.log("z%d: %d clusters in %dms",g,m.numItems,+Date.now()-v)}return n&&console.timeEnd("total time"),this}getClusters(t,n){var s=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),a=t[2]===180?180:((t[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)s=-180,a=180;else if(s>a){var o=this.getClusters([s,r,180,i],n),u=this.getClusters([-180,r,a,i],n);return o.concat(u)}var f=this.trees[this._limitZoom(n)],p=f.range(fn(s),hn(i),fn(a),hn(r)),d=f.data,h=[];for(var m of p){var g=this.stride*m;h.push(d[g+it]>1?Uo(d,g,this.clusterProps):this.points[d[g+at]])}return h}getChildren(t){var n=this._getOriginId(t),s=this._getOriginZoom(t),r="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(r);var i=a.data;if(n*this.stride>=i.length)throw new Error(r);var o=this.options.radius/(this.options.extent*Math.pow(2,s-1)),u=i[n*this.stride],f=i[n*this.stride+1],p=a.within(u,f,o),d=[];for(var h of p){var m=h*this.stride;i[m+Rs]===t&&d.push(i[m+it]>1?Uo(i,m,this.clusterProps):this.points[i[m+at]])}if(d.length===0)throw new Error(r);return d}getLeaves(t,n,s){n=n||10,s=s||0;var r=[];return this._appendLeaves(r,t,n,s,0),r}getTile(t,n,s){var r=this.trees[this._limitZoom(t)],a=Math.pow(2,t),{extent:i,radius:o}=this.options,u=o/i,f=(s-u)/a,p=(s+1+u)/a,d={features:[]};return this._addTileFeatures(r.range((n-u)/a,f,(n+1+u)/a,p),r.data,n,s,a,d),n===0&&this._addTileFeatures(r.range(1-u/a,f,1,p),r.data,a,s,a,d),n===a-1&&this._addTileFeatures(r.range(0,f,u/a,p),r.data,-1,s,a,d),d.features.length?d:null}getClusterExpansionZoom(t){for(var n=this._getOriginZoom(t)-1;n<=this.options.maxZoom;){var s=this.getChildren(t);if(n++,s.length!==1)break;t=s[0].properties.cluster_id}return n}_appendLeaves(t,n,s,r,a){var i=this.getChildren(n);for(var o of i){var u=o.properties;if(u&&u.cluster?a+u.point_count<=r?a+=u.point_count:a=this._appendLeaves(t,u.cluster_id,s,r,a):a<r?a++:t.push(o),t.length===s)break}return a}_createTree(t){for(var n=new Cr(t.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<t.length;s+=this.stride)n.add(t[s],t[s+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,s,r,a,i){for(var o of t){var u=o*this.stride,f=n[u+it]>1,p=void 0,d=void 0,h=void 0;if(f)p=nl(n,u,this.clusterProps),d=n[u],h=n[u+1];else{var m=this.points[n[u+at]];p=m.properties;var[g,v]=m.geometry.coordinates;d=fn(g),h=hn(v)}var y={type:1,geometry:[[Math.round(this.options.extent*(d*a-s)),Math.round(this.options.extent*(h*a-r))]],tags:p},b=void 0;f||this.options.generateId?b=n[u+at]:b=this.points[n[u+at]].id,b!==void 0&&(y.id=b),i.features.push(y)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){for(var{radius:s,extent:r,reduce:a,minPoints:i}=this.options,o=s/(r*Math.pow(2,n)),u=t.data,f=[],p=this.stride,d=0;d<u.length;d+=p)if(!(u[d+ut]<=n)){u[d+ut]=n;var h=u[d],m=u[d+1],g=t.within(u[d],u[d+1],o),v=u[d+it],y=v;for(var b of g){var w=b*p;u[w+ut]>n&&(y+=u[w+it])}if(y>v&&y>=i){var P=h*v,S=m*v,x=void 0,L=-1,C=((d/p|0)<<5)+(n+1)+this.points.length;for(var O of g){var j=O*p;if(!(u[j+ut]<=n)){u[j+ut]=n;var D=u[j+it];P+=u[j]*D,S+=u[j+1]*D,u[j+Rs]=C,a&&(x||(x=this._map(u,d,!0),L=this.clusterProps.length,this.clusterProps.push(x)),a(x,this._map(u,j)))}}u[d+Rs]=C,f.push(P/y,S/y,1/0,C,-1,y),a&&f.push(L)}else{for(var M=0;M<p;M++)f.push(u[d+M]);if(y>1)for(var B of g){var $=B*p;if(!(u[$+ut]<=n)){u[$+ut]=n;for(var k=0;k<p;k++)f.push(u[$+k])}}}}return f}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,s){if(t[n+it]>1){var r=this.clusterProps[t[n+tl]];return s?Object.assign({},r):r}var a=this.points[t[n+at]].properties,i=this.options.map(a);return s&&i===a?Object.assign({},i):i}}function Uo(e,t,n){return{type:"Feature",id:e[t+at],properties:nl(e,t,n),geometry:{type:"Point",coordinates:[Dd(e[t]),Td(e[t+1])]}}}function nl(e,t,n){var s=e[t+it],r=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=e[t+tl],i=a===-1?{}:Object.assign({},n[a]);return Object.assign(i,{cluster:!0,cluster_id:e[t+at],point_count:s,point_count_abbreviated:r})}function fn(e){return e/360+.5}function hn(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Dd(e){return(e-.5)*360}function Td(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function _d(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}class He{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class tr{constructor(t){var{markers:n,position:s}=t;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)t.extend(He.getPosition(n));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>He.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(He.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class Ud{constructor(t){var{maxZoom:n=16}=t;this.maxZoom=n}noop(t){var{markers:n}=t;return Fd(n)}}var Fd=e=>{var t=e.map(n=>new tr({position:He.getPosition(n),markers:[n]}));return t};class Bd extends Ud{constructor(t){var{maxZoom:n,radius:s=60}=t,r=_d(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new Rd(Object.assign({maxZoom:this.maxZoom,radius:s},r))}calculate(t){var n=!1,s={zoom:t.map.getZoom()};if(!Ro(t.markers,this.markers)){n=!0,this.markers=[...t.markers];var r=this.markers.map(a=>{var i=He.getPosition(a),o=[i.lng(),i.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:o},properties:{marker:a}}});this.superCluster.load(r)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!Ro(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster(t){var{map:n}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(t){var{geometry:{coordinates:[n,s]},properties:r}=t;if(r.cluster)return new tr({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:n}});var a=r.marker;return new tr({markers:[a],position:He.getPosition(a)})}}class Vd{constructor(t,n){this.markers={sum:t.length};var s=n.map(a=>a.count),r=s.reduce((a,i)=>a+i,0);this.clusters={count:n.length,markers:{mean:r/n.length,sum:r,min:Math.min(...s),max:Math.max(...s)}}}}class zd{render(t,n,s){var{count:r,position:a}=t,i=r>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(i,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(r,`</text>
</svg>`),u="Cluster of ".concat(r," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+r;if(He.isAdvancedMarkerAvailable(s)){var p=new DOMParser,d=p.parseFromString(o,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");var h={map:s,position:a,zIndex:f,title:u,content:d};return new google.maps.marker.AdvancedMarkerElement(h)}var m={position:a,zIndex:f,title:u,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(m)}}function $d(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}class Lr{constructor(){$d(Lr,google.maps.OverlayView)}}var $t;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})($t||($t={}));var Gd=(e,t,n)=>{n.fitBounds(t.bounds)};class Hd extends Lr{constructor(t){var{map:n,markers:s=[],algorithmOptions:r={},algorithm:a=new Bd(r),renderer:i=new zd,onClusterClick:o=Gd}=t;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=i,this.onClusterClick=o,n&&this.setMap(n)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(t,n){var s=this.markers.indexOf(t);return s===-1?!1:(He.setMap(t,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(t,n){var s=!1;return t.forEach(r=>{s=this.removeMarker(r,!0)||s}),s&&!n&&this.render(),s}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,$t.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(s||s==null){var r=new Set;for(var a of n)a.markers.length==1&&r.add(a.markers[0]);var i=[];for(var o of this.clusters)o.marker!=null&&(o.markers.length==1?r.has(o.marker)||He.setMap(o.marker,null):i.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(u=>He.setMap(u,null)))}google.maps.event.trigger(this,$t.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>He.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new Vd(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,t,n),s.markers.forEach(r=>He.setMap(r,null)),this.onClusterClick&&s.marker.addListener("click",r=>{google.maps.event.trigger(this,$t.CLUSTER_CLICK,s),this.onClusterClick(r,s,n)})),He.setMap(s.marker,n)})}}function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fo(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Wd(e){var t=Gu(),[n,s]=l.useState(null);return l.useEffect(()=>{if(t&&n===null){var r=new Hd(Bo(Bo({},e),{},{map:t}));s(r)}},[t]),n}function qd(e){var{children:t,options:n}=e,s=Wd(n);return s!==null?t(s):null}l.memo(qd);var Vo={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},zo={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function Zd(e){var{children:t,anchor:n,options:s,position:r,zIndex:a,onCloseClick:i,onDomReady:o,onContentChanged:u,onPositionChanged:f,onZindexChanged:p,onLoad:d,onUnmount:h}=e,m=l.useContext(le),[g,v]=l.useState(null),[y,b]=l.useState(null),[w,P]=l.useState(null),[S,x]=l.useState(null),[L,C]=l.useState(null),[O,j]=l.useState(null),D=l.useRef(null);return l.useEffect(()=>{g!==null&&(g.close(),n?g.open(m,n):g.getPosition()&&g.open(m))},[m,g,n]),l.useEffect(()=>{s&&g!==null&&g.setOptions(s)},[g,s]),l.useEffect(()=>{r&&g!==null&&g.setPosition(r)},[r]),l.useEffect(()=>{typeof a=="number"&&g!==null&&g.setZIndex(a)},[a]),l.useEffect(()=>{g&&i&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(g,"closeclick",i)))},[i]),l.useEffect(()=>{g&&o&&(w!==null&&google.maps.event.removeListener(w),P(google.maps.event.addListener(g,"domready",o)))},[o]),l.useEffect(()=>{g&&u&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(g,"content_changed",u)))},[u]),l.useEffect(()=>{g&&f&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(g,"position_changed",f)))},[f]),l.useEffect(()=>{g&&p&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(g,"zindex_changed",p)))},[p]),l.useEffect(()=>{var M=new google.maps.InfoWindow(s);return v(M),D.current=document.createElement("div"),i&&b(google.maps.event.addListener(M,"closeclick",i)),o&&P(google.maps.event.addListener(M,"domready",o)),u&&x(google.maps.event.addListener(M,"content_changed",u)),f&&C(google.maps.event.addListener(M,"position_changed",f)),p&&j(google.maps.event.addListener(M,"zindex_changed",p)),M.setContent(D.current),r&&M.setPosition(r),a&&M.setZIndex(a),n?M.open(m,n):M.getPosition()?M.open(m):Ae(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(M),()=>{y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),w&&google.maps.event.removeListener(w),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),h&&h(M),M.close()}},[]),D.current?xt.createPortal(l.Children.only(t),D.current):null}l.memo(Zd);class sl extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",null),F(this,"state",{infoWindow:null}),F(this,"open",(t,n)=>{n?t.open(this.context,n):t.getPosition()?t.open(this.context):Ae(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),F(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=de({updaterMap:zo,eventMap:Vo,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:zo,eventMap:Vo,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(fe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?xt.createPortal(l.Children.only(this.props.children),this.containerElement):null}}F(sl,"contextType",le);function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$o(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Go={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Ho={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},Jd={};function Kd(e){var{options:t,draggable:n,editable:s,visible:r,path:a,onDblClick:i,onDragEnd:o,onDragStart:u,onMouseDown:f,onMouseMove:p,onMouseOut:d,onMouseOver:h,onMouseUp:m,onRightClick:g,onClick:v,onDrag:y,onLoad:b,onUnmount:w}=e,P=l.useContext(le),[S,x]=l.useState(null),[L,C]=l.useState(null),[O,j]=l.useState(null),[D,M]=l.useState(null),[B,$]=l.useState(null),[k,E]=l.useState(null),[I,R]=l.useState(null),[U,V]=l.useState(null),[H,q]=l.useState(null),[J,N]=l.useState(null),[T,A]=l.useState(null),[K,z]=l.useState(null);return l.useEffect(()=>{S!==null&&S.setMap(P)},[P]),l.useEffect(()=>{typeof t<"u"&&S!==null&&S.setOptions(t)},[S,t]),l.useEffect(()=>{typeof n<"u"&&S!==null&&S.setDraggable(n)},[S,n]),l.useEffect(()=>{typeof s<"u"&&S!==null&&S.setEditable(s)},[S,s]),l.useEffect(()=>{typeof r<"u"&&S!==null&&S.setVisible(r)},[S,r]),l.useEffect(()=>{typeof a<"u"&&S!==null&&S.setPath(a)},[S,a]),l.useEffect(()=>{S&&i&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(S,"dblclick",i)))},[i]),l.useEffect(()=>{S&&o&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(S,"dragend",o)))},[o]),l.useEffect(()=>{S&&u&&(D!==null&&google.maps.event.removeListener(D),M(google.maps.event.addListener(S,"dragstart",u)))},[u]),l.useEffect(()=>{S&&f&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(S,"mousedown",f)))},[f]),l.useEffect(()=>{S&&p&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(S,"mousemove",p)))},[p]),l.useEffect(()=>{S&&d&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(S,"mouseout",d)))},[d]),l.useEffect(()=>{S&&h&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(S,"mouseover",h)))},[h]),l.useEffect(()=>{S&&m&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(S,"mouseup",m)))},[m]),l.useEffect(()=>{S&&g&&(J!==null&&google.maps.event.removeListener(J),N(google.maps.event.addListener(S,"rightclick",g)))},[g]),l.useEffect(()=>{S&&v&&(T!==null&&google.maps.event.removeListener(T),A(google.maps.event.addListener(S,"click",v)))},[v]),l.useEffect(()=>{S&&y&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(S,"drag",y)))},[y]),l.useEffect(()=>{var G=new google.maps.Polyline(Jn(Jn({},t||Jd),{},{map:P}));return a&&G.setPath(a),typeof r<"u"&&G.setVisible(r),typeof s<"u"&&G.setEditable(s),typeof n<"u"&&G.setDraggable(n),i&&C(google.maps.event.addListener(G,"dblclick",i)),o&&j(google.maps.event.addListener(G,"dragend",o)),u&&M(google.maps.event.addListener(G,"dragstart",u)),f&&$(google.maps.event.addListener(G,"mousedown",f)),p&&E(google.maps.event.addListener(G,"mousemove",p)),d&&R(google.maps.event.addListener(G,"mouseout",d)),h&&V(google.maps.event.addListener(G,"mouseover",h)),m&&q(google.maps.event.addListener(G,"mouseup",m)),g&&N(google.maps.event.addListener(G,"rightclick",g)),v&&A(google.maps.event.addListener(G,"click",v)),y&&z(google.maps.event.addListener(G,"drag",y)),x(G),b&&b(G),()=>{L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),U!==null&&google.maps.event.removeListener(U),H!==null&&google.maps.event.removeListener(H),J!==null&&google.maps.event.removeListener(J),T!==null&&google.maps.event.removeListener(T),w&&w(G),G.setMap(null)}},[]),null}l.memo(Kd);class Yd extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{polyline:null}),F(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(Jn(Jn({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:Ho,eventMap:Go,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:Ho,eventMap:Go,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),fe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}F(Yd,"contextType",le);function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wo(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Zo={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Jo={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function Qd(e){var{options:t,draggable:n,editable:s,visible:r,path:a,paths:i,onDblClick:o,onDragEnd:u,onDragStart:f,onMouseDown:p,onMouseMove:d,onMouseOut:h,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onLoad:w,onUnmount:P,onEdit:S}=e,x=l.useContext(le),[L,C]=l.useState(null),[O,j]=l.useState(null),[D,M]=l.useState(null),[B,$]=l.useState(null),[k,E]=l.useState(null),[I,R]=l.useState(null),[U,V]=l.useState(null),[H,q]=l.useState(null),[J,N]=l.useState(null),[T,A]=l.useState(null),[K,z]=l.useState(null),[G,Z]=l.useState(null);return l.useEffect(()=>{L!==null&&L.setMap(x)},[x]),l.useEffect(()=>{typeof t<"u"&&L!==null&&L.setOptions(t)},[L,t]),l.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),l.useEffect(()=>{typeof s<"u"&&L!==null&&L.setEditable(s)},[L,s]),l.useEffect(()=>{typeof r<"u"&&L!==null&&L.setVisible(r)},[L,r]),l.useEffect(()=>{typeof a<"u"&&L!==null&&L.setPath(a)},[L,a]),l.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPaths(i)},[L,i]),l.useEffect(()=>{L&&typeof o=="function"&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(L,"dblclick",o)))},[o]),l.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{S==null||S(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{S==null||S(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{S==null||S(L)}))},[L,S]),l.useEffect(()=>{L&&typeof u=="function"&&(D!==null&&google.maps.event.removeListener(D),M(google.maps.event.addListener(L,"dragend",u)))},[u]),l.useEffect(()=>{L&&typeof f=="function"&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(L,"dragstart",f)))},[f]),l.useEffect(()=>{L&&typeof p=="function"&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(L,"mousedown",p)))},[p]),l.useEffect(()=>{L&&typeof d=="function"&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(L,"mousemove",d)))},[d]),l.useEffect(()=>{L&&typeof h=="function"&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(L,"mouseout",h)))},[h]),l.useEffect(()=>{L&&typeof m=="function"&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(L,"mouseover",m)))},[m]),l.useEffect(()=>{L&&typeof g=="function"&&(J!==null&&google.maps.event.removeListener(J),N(google.maps.event.addListener(L,"mouseup",g)))},[g]),l.useEffect(()=>{L&&typeof v=="function"&&(T!==null&&google.maps.event.removeListener(T),A(google.maps.event.addListener(L,"rightclick",v)))},[v]),l.useEffect(()=>{L&&typeof y=="function"&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(L,"click",y)))},[y]),l.useEffect(()=>{L&&typeof b=="function"&&(G!==null&&google.maps.event.removeListener(G),Z(google.maps.event.addListener(L,"drag",b)))},[b]),l.useEffect(()=>{var W=new google.maps.Polygon(qo(qo({},t),{},{map:x}));return a&&W.setPath(a),i&&W.setPaths(i),typeof r<"u"&&W.setVisible(r),typeof s<"u"&&W.setEditable(s),typeof n<"u"&&W.setDraggable(n),o&&j(google.maps.event.addListener(W,"dblclick",o)),u&&M(google.maps.event.addListener(W,"dragend",u)),f&&$(google.maps.event.addListener(W,"dragstart",f)),p&&E(google.maps.event.addListener(W,"mousedown",p)),d&&R(google.maps.event.addListener(W,"mousemove",d)),h&&V(google.maps.event.addListener(W,"mouseout",h)),m&&q(google.maps.event.addListener(W,"mouseover",m)),g&&N(google.maps.event.addListener(W,"mouseup",g)),v&&A(google.maps.event.addListener(W,"rightclick",v)),y&&z(google.maps.event.addListener(W,"click",y)),b&&Z(google.maps.event.addListener(W,"drag",b)),C(W),w&&w(W),()=>{O!==null&&google.maps.event.removeListener(O),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),U!==null&&google.maps.event.removeListener(U),H!==null&&google.maps.event.removeListener(H),J!==null&&google.maps.event.removeListener(J),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),P&&P(W),W.setMap(null)}},[]),null}l.memo(Qd);class Xd extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=de({updaterMap:Jo,eventMap:Zo,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:Jo,eventMap:Zo,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),fe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}F(Xd,"contextType",le);function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ko(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Yo={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qo={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function ep(e){var{options:t,bounds:n,draggable:s,editable:r,visible:a,onDblClick:i,onDragEnd:o,onDragStart:u,onMouseDown:f,onMouseMove:p,onMouseOut:d,onMouseOver:h,onMouseUp:m,onRightClick:g,onClick:v,onDrag:y,onBoundsChanged:b,onLoad:w,onUnmount:P}=e,S=l.useContext(le),[x,L]=l.useState(null),[C,O]=l.useState(null),[j,D]=l.useState(null),[M,B]=l.useState(null),[$,k]=l.useState(null),[E,I]=l.useState(null),[R,U]=l.useState(null),[V,H]=l.useState(null),[q,J]=l.useState(null),[N,T]=l.useState(null),[A,K]=l.useState(null),[z,G]=l.useState(null),[Z,W]=l.useState(null);return l.useEffect(()=>{x!==null&&x.setMap(S)},[S]),l.useEffect(()=>{typeof t<"u"&&x!==null&&x.setOptions(t)},[x,t]),l.useEffect(()=>{typeof s<"u"&&x!==null&&x.setDraggable(s)},[x,s]),l.useEffect(()=>{typeof r<"u"&&x!==null&&x.setEditable(r)},[x,r]),l.useEffect(()=>{typeof a<"u"&&x!==null&&x.setVisible(a)},[x,a]),l.useEffect(()=>{typeof n<"u"&&x!==null&&x.setBounds(n)},[x,n]),l.useEffect(()=>{x&&i&&(C!==null&&google.maps.event.removeListener(C),O(google.maps.event.addListener(x,"dblclick",i)))},[i]),l.useEffect(()=>{x&&o&&(j!==null&&google.maps.event.removeListener(j),D(google.maps.event.addListener(x,"dragend",o)))},[o]),l.useEffect(()=>{x&&u&&(M!==null&&google.maps.event.removeListener(M),B(google.maps.event.addListener(x,"dragstart",u)))},[u]),l.useEffect(()=>{x&&f&&($!==null&&google.maps.event.removeListener($),k(google.maps.event.addListener(x,"mousedown",f)))},[f]),l.useEffect(()=>{x&&p&&(E!==null&&google.maps.event.removeListener(E),I(google.maps.event.addListener(x,"mousemove",p)))},[p]),l.useEffect(()=>{x&&d&&(R!==null&&google.maps.event.removeListener(R),U(google.maps.event.addListener(x,"mouseout",d)))},[d]),l.useEffect(()=>{x&&h&&(V!==null&&google.maps.event.removeListener(V),H(google.maps.event.addListener(x,"mouseover",h)))},[h]),l.useEffect(()=>{x&&m&&(q!==null&&google.maps.event.removeListener(q),J(google.maps.event.addListener(x,"mouseup",m)))},[m]),l.useEffect(()=>{x&&g&&(N!==null&&google.maps.event.removeListener(N),T(google.maps.event.addListener(x,"rightclick",g)))},[g]),l.useEffect(()=>{x&&v&&(A!==null&&google.maps.event.removeListener(A),K(google.maps.event.addListener(x,"click",v)))},[v]),l.useEffect(()=>{x&&y&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(x,"drag",y)))},[y]),l.useEffect(()=>{x&&b&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(x,"bounds_changed",b)))},[b]),l.useEffect(()=>{var Y=new google.maps.Rectangle(Kn(Kn({},t),{},{map:S}));return typeof a<"u"&&Y.setVisible(a),typeof r<"u"&&Y.setEditable(r),typeof s<"u"&&Y.setDraggable(s),typeof n<"u"&&Y.setBounds(n),i&&O(google.maps.event.addListener(Y,"dblclick",i)),o&&D(google.maps.event.addListener(Y,"dragend",o)),u&&B(google.maps.event.addListener(Y,"dragstart",u)),f&&k(google.maps.event.addListener(Y,"mousedown",f)),p&&I(google.maps.event.addListener(Y,"mousemove",p)),d&&U(google.maps.event.addListener(Y,"mouseout",d)),h&&H(google.maps.event.addListener(Y,"mouseover",h)),m&&J(google.maps.event.addListener(Y,"mouseup",m)),g&&T(google.maps.event.addListener(Y,"rightclick",g)),v&&K(google.maps.event.addListener(Y,"click",v)),y&&G(google.maps.event.addListener(Y,"drag",y)),b&&W(google.maps.event.addListener(Y,"bounds_changed",b)),L(Y),w&&w(Y),()=>{C!==null&&google.maps.event.removeListener(C),j!==null&&google.maps.event.removeListener(j),M!==null&&google.maps.event.removeListener(M),$!==null&&google.maps.event.removeListener($),E!==null&&google.maps.event.removeListener(E),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),q!==null&&google.maps.event.removeListener(q),N!==null&&google.maps.event.removeListener(N),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),Z!==null&&google.maps.event.removeListener(Z),P&&P(Y),Y.setMap(null)}},[]),null}l.memo(ep);class tp extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{rectangle:null}),F(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle(Kn(Kn({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:Qo,eventMap:Yo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:Qo,eventMap:Yo,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),fe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}F(tp,"contextType",le);function Xo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xo(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var ei={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ti={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},np={};function sp(e){var{options:t,center:n,radius:s,draggable:r,editable:a,visible:i,onDblClick:o,onDragEnd:u,onDragStart:f,onMouseDown:p,onMouseMove:d,onMouseOut:h,onMouseOver:m,onMouseUp:g,onRightClick:v,onClick:y,onDrag:b,onCenterChanged:w,onRadiusChanged:P,onLoad:S,onUnmount:x}=e,L=l.useContext(le),[C,O]=l.useState(null),[j,D]=l.useState(null),[M,B]=l.useState(null),[$,k]=l.useState(null),[E,I]=l.useState(null),[R,U]=l.useState(null),[V,H]=l.useState(null),[q,J]=l.useState(null),[N,T]=l.useState(null),[A,K]=l.useState(null),[z,G]=l.useState(null),[Z,W]=l.useState(null),[Y,re]=l.useState(null),[ae,xe]=l.useState(null);return l.useEffect(()=>{C!==null&&C.setMap(L)},[L]),l.useEffect(()=>{typeof t<"u"&&C!==null&&C.setOptions(t)},[C,t]),l.useEffect(()=>{typeof r<"u"&&C!==null&&C.setDraggable(r)},[C,r]),l.useEffect(()=>{typeof a<"u"&&C!==null&&C.setEditable(a)},[C,a]),l.useEffect(()=>{typeof i<"u"&&C!==null&&C.setVisible(i)},[C,i]),l.useEffect(()=>{typeof s=="number"&&C!==null&&C.setRadius(s)},[C,s]),l.useEffect(()=>{typeof n<"u"&&C!==null&&C.setCenter(n)},[C,n]),l.useEffect(()=>{C&&o&&(j!==null&&google.maps.event.removeListener(j),D(google.maps.event.addListener(C,"dblclick",o)))},[o]),l.useEffect(()=>{C&&u&&(M!==null&&google.maps.event.removeListener(M),B(google.maps.event.addListener(C,"dragend",u)))},[u]),l.useEffect(()=>{C&&f&&($!==null&&google.maps.event.removeListener($),k(google.maps.event.addListener(C,"dragstart",f)))},[f]),l.useEffect(()=>{C&&p&&(E!==null&&google.maps.event.removeListener(E),I(google.maps.event.addListener(C,"mousedown",p)))},[p]),l.useEffect(()=>{C&&d&&(R!==null&&google.maps.event.removeListener(R),U(google.maps.event.addListener(C,"mousemove",d)))},[d]),l.useEffect(()=>{C&&h&&(V!==null&&google.maps.event.removeListener(V),H(google.maps.event.addListener(C,"mouseout",h)))},[h]),l.useEffect(()=>{C&&m&&(q!==null&&google.maps.event.removeListener(q),J(google.maps.event.addListener(C,"mouseover",m)))},[m]),l.useEffect(()=>{C&&g&&(N!==null&&google.maps.event.removeListener(N),T(google.maps.event.addListener(C,"mouseup",g)))},[g]),l.useEffect(()=>{C&&v&&(A!==null&&google.maps.event.removeListener(A),K(google.maps.event.addListener(C,"rightclick",v)))},[v]),l.useEffect(()=>{C&&y&&(z!==null&&google.maps.event.removeListener(z),G(google.maps.event.addListener(C,"click",y)))},[y]),l.useEffect(()=>{C&&b&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(C,"drag",b)))},[b]),l.useEffect(()=>{C&&w&&(Y!==null&&google.maps.event.removeListener(Y),re(google.maps.event.addListener(C,"center_changed",w)))},[y]),l.useEffect(()=>{C&&P&&(ae!==null&&google.maps.event.removeListener(ae),xe(google.maps.event.addListener(C,"radius_changed",P)))},[P]),l.useEffect(()=>{var te=new google.maps.Circle(Yn(Yn({},t||np),{},{map:L}));return typeof s=="number"&&te.setRadius(s),typeof n<"u"&&te.setCenter(n),typeof s=="number"&&te.setRadius(s),typeof i<"u"&&te.setVisible(i),typeof a<"u"&&te.setEditable(a),typeof r<"u"&&te.setDraggable(r),o&&D(google.maps.event.addListener(te,"dblclick",o)),u&&B(google.maps.event.addListener(te,"dragend",u)),f&&k(google.maps.event.addListener(te,"dragstart",f)),p&&I(google.maps.event.addListener(te,"mousedown",p)),d&&U(google.maps.event.addListener(te,"mousemove",d)),h&&H(google.maps.event.addListener(te,"mouseout",h)),m&&J(google.maps.event.addListener(te,"mouseover",m)),g&&T(google.maps.event.addListener(te,"mouseup",g)),v&&K(google.maps.event.addListener(te,"rightclick",v)),y&&G(google.maps.event.addListener(te,"click",y)),b&&W(google.maps.event.addListener(te,"drag",b)),w&&re(google.maps.event.addListener(te,"center_changed",w)),P&&xe(google.maps.event.addListener(te,"radius_changed",P)),O(te),S&&S(te),()=>{j!==null&&google.maps.event.removeListener(j),M!==null&&google.maps.event.removeListener(M),$!==null&&google.maps.event.removeListener($),E!==null&&google.maps.event.removeListener(E),R!==null&&google.maps.event.removeListener(R),V!==null&&google.maps.event.removeListener(V),q!==null&&google.maps.event.removeListener(q),N!==null&&google.maps.event.removeListener(N),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),Y!==null&&google.maps.event.removeListener(Y),ae!==null&&google.maps.event.removeListener(ae),x&&x(te),te.setMap(null)}},[]),null}l.memo(sp);class rp extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{circle:null}),F(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(Yn(Yn({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:ti,eventMap:ei,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:ti,eventMap:ei,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),fe(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}F(rp,"contextType",le);function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ni(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var si={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},ri={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,s){e.loadGeoJson(t,n,s)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function op(e){var{options:t,onClick:n,onDblClick:s,onMouseDown:r,onMouseMove:a,onMouseOut:i,onMouseOver:o,onMouseUp:u,onRightClick:f,onAddFeature:p,onRemoveFeature:d,onRemoveProperty:h,onSetGeometry:m,onSetProperty:g,onLoad:v,onUnmount:y}=e,b=l.useContext(le),[w,P]=l.useState(null),[S,x]=l.useState(null),[L,C]=l.useState(null),[O,j]=l.useState(null),[D,M]=l.useState(null),[B,$]=l.useState(null),[k,E]=l.useState(null),[I,R]=l.useState(null),[U,V]=l.useState(null),[H,q]=l.useState(null),[J,N]=l.useState(null),[T,A]=l.useState(null),[K,z]=l.useState(null),[G,Z]=l.useState(null);return l.useEffect(()=>{w!==null&&w.setMap(b)},[b]),l.useEffect(()=>{w&&s&&(S!==null&&google.maps.event.removeListener(S),x(google.maps.event.addListener(w,"dblclick",s)))},[s]),l.useEffect(()=>{w&&r&&(L!==null&&google.maps.event.removeListener(L),C(google.maps.event.addListener(w,"mousedown",r)))},[r]),l.useEffect(()=>{w&&a&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(w,"mousemove",a)))},[a]),l.useEffect(()=>{w&&i&&(D!==null&&google.maps.event.removeListener(D),M(google.maps.event.addListener(w,"mouseout",i)))},[i]),l.useEffect(()=>{w&&o&&(B!==null&&google.maps.event.removeListener(B),$(google.maps.event.addListener(w,"mouseover",o)))},[o]),l.useEffect(()=>{w&&u&&(k!==null&&google.maps.event.removeListener(k),E(google.maps.event.addListener(w,"mouseup",u)))},[u]),l.useEffect(()=>{w&&f&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(w,"rightclick",f)))},[f]),l.useEffect(()=>{w&&n&&(U!==null&&google.maps.event.removeListener(U),V(google.maps.event.addListener(w,"click",n)))},[n]),l.useEffect(()=>{w&&p&&(H!==null&&google.maps.event.removeListener(H),q(google.maps.event.addListener(w,"addfeature",p)))},[p]),l.useEffect(()=>{w&&d&&(J!==null&&google.maps.event.removeListener(J),N(google.maps.event.addListener(w,"removefeature",d)))},[d]),l.useEffect(()=>{w&&h&&(T!==null&&google.maps.event.removeListener(T),A(google.maps.event.addListener(w,"removeproperty",h)))},[h]),l.useEffect(()=>{w&&m&&(K!==null&&google.maps.event.removeListener(K),z(google.maps.event.addListener(w,"setgeometry",m)))},[m]),l.useEffect(()=>{w&&g&&(G!==null&&google.maps.event.removeListener(G),Z(google.maps.event.addListener(w,"setproperty",g)))},[g]),l.useEffect(()=>{if(b!==null){var W=new google.maps.Data(Qn(Qn({},t),{},{map:b}));s&&x(google.maps.event.addListener(W,"dblclick",s)),r&&C(google.maps.event.addListener(W,"mousedown",r)),a&&j(google.maps.event.addListener(W,"mousemove",a)),i&&M(google.maps.event.addListener(W,"mouseout",i)),o&&$(google.maps.event.addListener(W,"mouseover",o)),u&&E(google.maps.event.addListener(W,"mouseup",u)),f&&R(google.maps.event.addListener(W,"rightclick",f)),n&&V(google.maps.event.addListener(W,"click",n)),p&&q(google.maps.event.addListener(W,"addfeature",p)),d&&N(google.maps.event.addListener(W,"removefeature",d)),h&&A(google.maps.event.addListener(W,"removeproperty",h)),m&&z(google.maps.event.addListener(W,"setgeometry",m)),g&&Z(google.maps.event.addListener(W,"setproperty",g)),P(W),v&&v(W)}return()=>{w&&(S!==null&&google.maps.event.removeListener(S),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),D!==null&&google.maps.event.removeListener(D),B!==null&&google.maps.event.removeListener(B),k!==null&&google.maps.event.removeListener(k),I!==null&&google.maps.event.removeListener(I),U!==null&&google.maps.event.removeListener(U),H!==null&&google.maps.event.removeListener(H),J!==null&&google.maps.event.removeListener(J),T!==null&&google.maps.event.removeListener(T),K!==null&&google.maps.event.removeListener(K),G!==null&&google.maps.event.removeListener(G),y&&y(w),w.setMap(null))}},[]),null}l.memo(op);class ip extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{data:null}),F(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(Qn(Qn({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:ri,eventMap:si,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:ri,eventMap:si,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),fe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}F(ip,"contextType",le);function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oi(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var ai={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},li={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class ap extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{kmlLayer:null}),F(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(ii(ii({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:li,eventMap:ai,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:li,eventMap:ai,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),fe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}F(ap,"contextType",le);function rl(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function lp(e,t){return new t(e.lat,e.lng)}function cp(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function up(e,t,n){return e instanceof t?e:n(e,t)}function dp(e,t,n){return e instanceof t?e:n(e,t)}function pp(e,t,n){var s=e&&e.fromLatLngToDivPixel(n.getNorthEast()),r=e&&e.fromLatLngToDivPixel(n.getSouthWest());return s&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(s.y+t.y,"px"),width:"".concat(s.x-r.x-t.x,"px"),height:"".concat(r.y-s.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function fp(e,t,n){var s=e&&e.fromLatLngToDivPixel(n);if(s){var{x:r,y:a}=s;return{left:"".concat(r+t.x,"px"),top:"".concat(a+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function ol(e,t,n,s){return n!==void 0?pp(e,t,dp(n,google.maps.LatLngBounds,cp)):fp(e,t,up(s,google.maps.LatLng,lp))}function hp(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ci(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ci(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function mp(e,t,n,s,r){class a extends google.maps.OverlayView{constructor(o,u,f,p){super(),this.container=o,this.pane=u,this.position=f,this.bounds=p}onAdd(){var o,u=(o=this.getPanes())===null||o===void 0?void 0:o[this.pane];u==null||u.appendChild(this.container)}draw(){var o=this.getProjection(),u=gp({},this.container?rl(this.container,r):{x:0,y:0}),f=ol(o,u,this.bounds,this.position);for(var[p,d]of Object.entries(f))this.container.style[p]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(e,t,n,s)}function ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ui(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ui(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function di(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function pi(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function yp(e){var{position:t,bounds:n,mapPaneName:s,zIndex:r,onLoad:a,onUnmount:i,getPixelPositionOffset:o,children:u}=e,f=l.useContext(le),p=l.useMemo(()=>{var h=document.createElement("div");return h.style.position="absolute",h},[]),d=l.useMemo(()=>mp(p,s,t,n,o),[p,s,t,n]);return l.useEffect(()=>(a==null||a(d),d==null||d.setMap(f),()=>{i==null||i(d),d==null||d.setMap(null)}),[f,d]),l.useEffect(()=>{p.style.zIndex="".concat(r)},[r,p]),xt.createPortal(u,p)}l.memo(yp);class It extends l.PureComponent{constructor(t){super(t),F(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),F(this,"updatePane",()=>{var s=this.props.mapPaneName,r=this.overlayView.getPanes();Ae(!!s,"OverlayView requires props.mapPaneName but got %s",s),r?this.setState({paneEl:r[s]}):this.setState({paneEl:null})}),F(this,"onAdd",()=>{var s,r;this.updatePane(),(s=(r=this.props).onLoad)===null||s===void 0||s.call(r,this.overlayView)}),F(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),r=vp({x:0,y:0},this.containerRef.current?rl(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=ol(s,r,this.props.bounds,this.props.position);if(!hp(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var i,o,u,f;this.setState({containerStyle:{top:(i=a.top)!==null&&i!==void 0?i:0,left:(o=a.left)!==null&&o!==void 0?o:0,width:(u=a.width)!==null&&u!==void 0?u:0,height:(f=a.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),F(this,"draw",()=>{this.onPositionElement()}),F(this,"onRemove",()=>{var s,r;this.setState(()=>({paneEl:null})),(s=(r=this.props).onUnmount)===null||s===void 0||s.call(r,this.overlayView)}),this.containerRef=l.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var n=di(t.position),s=di(this.props.position),r=pi(t.bounds),a=pi(this.props.bounds);(n!==s||r!==a)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?xt.createPortal(c.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:l.Children.only(this.props.children)}),t):null}}F(It,"FLOAT_PANE","floatPane");F(It,"MAP_PANE","mapPane");F(It,"MARKER_LAYER","markerLayer");F(It,"OVERLAY_LAYER","overlayLayer");F(It,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");F(It,"contextType",le);function bp(){}function fi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function hi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fi(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fi(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var gi={onDblClick:"dblclick",onClick:"click"},mi={opacity(e,t){e.setOpacity(t)}};function wp(e){var{url:t,bounds:n,options:s,visible:r}=e,a=l.useContext(le),i=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),o=l.useMemo(()=>new google.maps.GroundOverlay(t,i,s),[]);return l.useEffect(()=>{o!==null&&o.setMap(a)},[a]),l.useEffect(()=>{typeof t<"u"&&o!==null&&(o.set("url",t),o.setMap(a))},[o,t]),l.useEffect(()=>{typeof r<"u"&&o!==null&&o.setOpacity(r?1:0)},[o,r]),l.useEffect(()=>{var u=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&o!==null&&(o.set("bounds",u),o.setMap(a))},[o,n]),null}l.memo(wp);class il extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{groundOverlay:null}),F(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Ae(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,hi(hi({},this.props.options),{},{map:this.context}));this.registeredEvents=de({updaterMap:mi,eventMap:gi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:mi,eventMap:gi,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}F(il,"defaultProps",{onLoad:bp});F(il,"contextType",le);function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vi(Object(n),!0).forEach(function(s){F(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var yi={},bi={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function xp(e){var{data:t,onLoad:n,onUnmount:s,options:r}=e,a=l.useContext(le),[i,o]=l.useState(null);return l.useEffect(()=>{google.maps.visualization||Ae(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),l.useEffect(()=>{Ae(!!t,"data property is required in HeatmapLayer %s",t)},[t]),l.useEffect(()=>{i!==null&&i.setMap(a)},[a]),l.useEffect(()=>{r&&i!==null&&i.setOptions(r)},[i,r]),l.useEffect(()=>{var u=new google.maps.visualization.HeatmapLayer(Xn(Xn({},r),{},{data:t,map:a}));return o(u),n&&n(u),()=>{i!==null&&(s&&s(i),i.setMap(null))}},[]),null}l.memo(xp);class Sp extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{heatmapLayer:null}),F(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Ae(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Ae(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(Xn(Xn({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=de({updaterMap:bi,eventMap:yi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){fe(this.registeredEvents),this.registeredEvents=de({updaterMap:bi,eventMap:yi,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),fe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}F(Sp,"contextType",le);var wi={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},xi={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class Cp extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{streetViewPanorama:null}),F(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,n,s=(t=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=de({updaterMap:xi,eventMap:wi,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:xi,eventMap:wi,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),fe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}F(Cp,"contextType",le);class Lp extends l.PureComponent{constructor(){super(...arguments),F(this,"state",{streetViewService:null}),F(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}F(Lp,"contextType",le);var Si={onDirectionsChanged:"directions_changed"},Ci={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class al extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"state",{directionsRenderer:null}),F(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=de({updaterMap:Ci,eventMap:Si,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:Ci,eventMap:Si,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),fe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}F(al,"contextType",le);var Li={onPlacesChanged:"places_changed"},Ei={bounds(e,t){e.setBounds(t)}};class Ep extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",l.createRef()),F(this,"state",{searchBox:null}),F(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Ae(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var n=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=de({updaterMap:Ei,eventMap:Li,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(fe(this.registeredEvents),this.registeredEvents=de({updaterMap:Ei,eventMap:Li,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),fe(this.registeredEvents))}render(){return c.jsx("div",{ref:this.containerElement,children:l.Children.only(this.props.children)})}}F(Ep,"contextType",le);var Oi={onPlaceChanged:"place_changed"},ji={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class ll extends l.PureComponent{constructor(){super(...arguments),F(this,"registeredEvents",[]),F(this,"containerElement",l.createRef()),F(this,"state",{autocomplete:null}),F(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;Ae(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=de({updaterMap:ji,eventMap:Oi,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(t){fe(this.registeredEvents),this.registeredEvents=de({updaterMap:ji,eventMap:Oi,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&fe(this.registeredEvents)}render(){return c.jsx("div",{ref:this.containerElement,className:this.props.className,children:l.Children.only(this.props.children)})}}F(ll,"defaultProps",{className:""});F(ll,"contextType",le);function cl(e,t){return function(){return e.apply(t,arguments)}}const{toString:Op}=Object.prototype,{getPrototypeOf:Er}=Object,{iterator:cs,toStringTag:ul}=Symbol,us=(e=>t=>{const n=Op.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ye=e=>(e=e.toLowerCase(),t=>us(t)===e),ds=e=>t=>typeof t===e,{isArray:Nt}=Array,Zt=ds("undefined");function jp(e){return e!==null&&!Zt(e)&&e.constructor!==null&&!Zt(e.constructor)&&Be(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const dl=Ye("ArrayBuffer");function Pp(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&dl(e.buffer),t}const Mp=ds("string"),Be=ds("function"),pl=ds("number"),ps=e=>e!==null&&typeof e=="object",kp=e=>e===!0||e===!1,jn=e=>{if(us(e)!=="object")return!1;const t=Er(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ul in e)&&!(cs in e)},Ip=Ye("Date"),Np=Ye("File"),Ap=Ye("Blob"),Rp=Ye("FileList"),Dp=e=>ps(e)&&Be(e.pipe),Tp=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Be(e.append)&&((t=us(e))==="formdata"||t==="object"&&Be(e.toString)&&e.toString()==="[object FormData]"))},_p=Ye("URLSearchParams"),[Up,Fp,Bp,Vp]=["ReadableStream","Request","Response","Headers"].map(Ye),zp=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),Nt(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(s=0;s<i;s++)o=a[s],t.call(null,e[o],o,e)}}function fl(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const ht=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hl=e=>!Zt(e)&&e!==ht;function nr(){const{caseless:e}=hl(this)&&this||{},t={},n=(s,r)=>{const a=e&&fl(t,r)||r;jn(t[a])&&jn(s)?t[a]=nr(t[a],s):jn(s)?t[a]=nr({},s):Nt(s)?t[a]=s.slice():t[a]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Xt(arguments[s],n);return t}const $p=(e,t,n,{allOwnKeys:s}={})=>(Xt(t,(r,a)=>{n&&Be(r)?e[a]=cl(r,n):e[a]=r},{allOwnKeys:s}),e),Gp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hp=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Wp=(e,t,n,s)=>{let r,a,i;const o={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&Er(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},qp=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Zp=e=>{if(!e)return null;if(Nt(e))return e;let t=e.length;if(!pl(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Jp=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Er(Uint8Array)),Kp=(e,t)=>{const s=(e&&e[cs]).call(e);let r;for(;(r=s.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},Yp=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Qp=Ye("HTMLFormElement"),Xp=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Pi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ef=Ye("RegExp"),gl=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Xt(n,(r,a)=>{let i;(i=t(r,a,e))!==!1&&(s[a]=i||r)}),Object.defineProperties(e,s)},tf=e=>{gl(e,(t,n)=>{if(Be(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Be(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nf=(e,t)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return Nt(e)?s(e):s(String(e).split(t)),n},sf=()=>{},rf=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function of(e){return!!(e&&Be(e.append)&&e[ul]==="FormData"&&e[cs])}const af=e=>{const t=new Array(10),n=(s,r)=>{if(ps(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const a=Nt(s)?[]:{};return Xt(s,(i,o)=>{const u=n(i,r+1);!Zt(u)&&(a[o]=u)}),t[r]=void 0,a}}return s};return n(e,0)},lf=Ye("AsyncFunction"),cf=e=>e&&(ps(e)||Be(e))&&Be(e.then)&&Be(e.catch),ml=((e,t)=>e?setImmediate:t?((n,s)=>(ht.addEventListener("message",({source:r,data:a})=>{r===ht&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),ht.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Be(ht.postMessage)),uf=typeof queueMicrotask<"u"?queueMicrotask.bind(ht):typeof process<"u"&&process.nextTick||ml,df=e=>e!=null&&Be(e[cs]),_={isArray:Nt,isArrayBuffer:dl,isBuffer:jp,isFormData:Tp,isArrayBufferView:Pp,isString:Mp,isNumber:pl,isBoolean:kp,isObject:ps,isPlainObject:jn,isReadableStream:Up,isRequest:Fp,isResponse:Bp,isHeaders:Vp,isUndefined:Zt,isDate:Ip,isFile:Np,isBlob:Ap,isRegExp:ef,isFunction:Be,isStream:Dp,isURLSearchParams:_p,isTypedArray:Jp,isFileList:Rp,forEach:Xt,merge:nr,extend:$p,trim:zp,stripBOM:Gp,inherits:Hp,toFlatObject:Wp,kindOf:us,kindOfTest:Ye,endsWith:qp,toArray:Zp,forEachEntry:Kp,matchAll:Yp,isHTMLForm:Qp,hasOwnProperty:Pi,hasOwnProp:Pi,reduceDescriptors:gl,freezeMethods:tf,toObjectSet:nf,toCamelCase:Xp,noop:sf,toFiniteNumber:rf,findKey:fl,global:ht,isContextDefined:hl,isSpecCompliantForm:of,toJSONObject:af,isAsyncFn:lf,isThenable:cf,setImmediate:ml,asap:uf,isIterable:df};function ie(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}_.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const vl=ie.prototype,yl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yl[e]={value:e}});Object.defineProperties(ie,yl);Object.defineProperty(vl,"isAxiosError",{value:!0});ie.from=(e,t,n,s,r,a)=>{const i=Object.create(vl);return _.toFlatObject(e,i,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),ie.call(i,e.message,t,n,s,r),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const pf=null;function sr(e){return _.isPlainObject(e)||_.isArray(e)}function bl(e){return _.endsWith(e,"[]")?e.slice(0,-2):e}function Mi(e,t,n){return e?e.concat(t).map(function(r,a){return r=bl(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function ff(e){return _.isArray(e)&&!e.some(sr)}const hf=_.toFlatObject(_,{},null,function(t){return/^is[A-Z]/.test(t)});function fs(e,t,n){if(!_.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=_.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!_.isUndefined(y[v])});const s=n.metaTokens,r=n.visitor||p,a=n.dots,i=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(t);if(!_.isFunction(r))throw new TypeError("visitor must be a function");function f(g){if(g===null)return"";if(_.isDate(g))return g.toISOString();if(!u&&_.isBlob(g))throw new ie("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(g)||_.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function p(g,v,y){let b=g;if(g&&!y&&typeof g=="object"){if(_.endsWith(v,"{}"))v=s?v:v.slice(0,-2),g=JSON.stringify(g);else if(_.isArray(g)&&ff(g)||(_.isFileList(g)||_.endsWith(v,"[]"))&&(b=_.toArray(g)))return v=bl(v),b.forEach(function(P,S){!(_.isUndefined(P)||P===null)&&t.append(i===!0?Mi([v],S,a):i===null?v:v+"[]",f(P))}),!1}return sr(g)?!0:(t.append(Mi(y,v,a),f(g)),!1)}const d=[],h=Object.assign(hf,{defaultVisitor:p,convertValue:f,isVisitable:sr});function m(g,v){if(!_.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(g),_.forEach(g,function(b,w){(!(_.isUndefined(b)||b===null)&&r.call(t,b,_.isString(w)?w.trim():w,v,h))===!0&&m(b,v?v.concat(w):[w])}),d.pop()}}if(!_.isObject(e))throw new TypeError("data must be an object");return m(e),t}function ki(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Or(e,t){this._pairs=[],e&&fs(e,this,t)}const wl=Or.prototype;wl.append=function(t,n){this._pairs.push([t,n])};wl.toString=function(t){const n=t?function(s){return t.call(this,s,ki)}:ki;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function gf(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xl(e,t,n){if(!t)return e;const s=n&&n.encode||gf;_.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=_.isURLSearchParams(t)?t.toString():new Or(t,n).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Ii{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){_.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Sl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mf=typeof URLSearchParams<"u"?URLSearchParams:Or,vf=typeof FormData<"u"?FormData:null,yf=typeof Blob<"u"?Blob:null,bf={isBrowser:!0,classes:{URLSearchParams:mf,FormData:vf,Blob:yf},protocols:["http","https","file","blob","url","data"]},jr=typeof window<"u"&&typeof document<"u",rr=typeof navigator=="object"&&navigator||void 0,wf=jr&&(!rr||["ReactNative","NativeScript","NS"].indexOf(rr.product)<0),xf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sf=jr&&window.location.href||"http://localhost",Cf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jr,hasStandardBrowserEnv:wf,hasStandardBrowserWebWorkerEnv:xf,navigator:rr,origin:Sf},Symbol.toStringTag,{value:"Module"})),Ue={...Cf,...bf};function Lf(e,t){return fs(e,new Ue.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,a){return Ue.isNode&&_.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Ef(e){return _.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Of(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}function Cl(e){function t(n,s,r,a){let i=n[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),u=a>=n.length;return i=!i&&_.isArray(r)?r.length:i,u?(_.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!o):((!r[i]||!_.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],a)&&_.isArray(r[i])&&(r[i]=Of(r[i])),!o)}if(_.isFormData(e)&&_.isFunction(e.entries)){const n={};return _.forEachEntry(e,(s,r)=>{t(Ef(s),r,n,0)}),n}return null}function jf(e,t,n){if(_.isString(e))try{return(t||JSON.parse)(e),_.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const en={transitional:Sl,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=_.isObject(t);if(a&&_.isHTMLForm(t)&&(t=new FormData(t)),_.isFormData(t))return r?JSON.stringify(Cl(t)):t;if(_.isArrayBuffer(t)||_.isBuffer(t)||_.isStream(t)||_.isFile(t)||_.isBlob(t)||_.isReadableStream(t))return t;if(_.isArrayBufferView(t))return t.buffer;if(_.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Lf(t,this.formSerializer).toString();if((o=_.isFileList(t))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return fs(o?{"files[]":t}:t,u&&new u,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),jf(t)):t}],transformResponse:[function(t){const n=this.transitional||en.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(_.isResponse(t)||_.isReadableStream(t))return t;if(t&&_.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?ie.from(o,ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],e=>{en.headers[e]={}});const Pf=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mf=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Pf[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ni=Symbol("internals");function Bt(e){return e&&String(e).trim().toLowerCase()}function Pn(e){return e===!1||e==null?e:_.isArray(e)?e.map(Pn):String(e)}function kf(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const If=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ds(e,t,n,s,r){if(_.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!_.isString(t)){if(_.isString(s))return t.indexOf(s)!==-1;if(_.isRegExp(s))return s.test(t)}}function Nf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Af(e,t){const n=_.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,a,i){return this[s].call(this,t,r,a,i)},configurable:!0})})}let Ve=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function a(o,u,f){const p=Bt(u);if(!p)throw new Error("header name must be a non-empty string");const d=_.findKey(r,p);(!d||r[d]===void 0||f===!0||f===void 0&&r[d]!==!1)&&(r[d||u]=Pn(o))}const i=(o,u)=>_.forEach(o,(f,p)=>a(f,p,u));if(_.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(_.isString(t)&&(t=t.trim())&&!If(t))i(Mf(t),n);else if(_.isObject(t)&&_.isIterable(t)){let o={},u,f;for(const p of t){if(!_.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[f=p[0]]=(u=o[f])?_.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}i(o,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=Bt(t),t){const s=_.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return kf(r);if(_.isFunction(n))return n.call(this,r,s);if(_.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Bt(t),t){const s=_.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ds(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function a(i){if(i=Bt(i),i){const o=_.findKey(s,i);o&&(!n||Ds(s,s[o],o,n))&&(delete s[o],r=!0)}}return _.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!t||Ds(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,s={};return _.forEach(this,(r,a)=>{const i=_.findKey(s,a);if(i){n[i]=Pn(r),delete n[a];return}const o=t?Nf(a):String(a).trim();o!==a&&delete n[a],n[o]=Pn(r),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return _.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&_.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Ni]=this[Ni]={accessors:{}}).accessors,r=this.prototype;function a(i){const o=Bt(i);s[o]||(Af(r,i),s[o]=!0)}return _.isArray(t)?t.forEach(a):a(t),this}};Ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Ve.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});_.freezeMethods(Ve);function Ts(e,t){const n=this||en,s=t||n,r=Ve.from(s.headers);let a=s.data;return _.forEach(e,function(o){a=o.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function Ll(e){return!!(e&&e.__CANCEL__)}function At(e,t,n){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,n),this.name="CanceledError"}_.inherits(At,ie,{__CANCEL__:!0});function El(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new ie("Request failed with status code "+n.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Rf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Df(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,a=0,i;return t=t!==void 0?t:1e3,function(u){const f=Date.now(),p=s[a];i||(i=f),n[r]=u,s[r]=f;let d=a,h=0;for(;d!==r;)h+=n[d++],d=d%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),f-i<t)return;const m=p&&f-p;return m?Math.round(h*1e3/m):void 0}}function Tf(e,t){let n=0,s=1e3/t,r,a;const i=(f,p=Date.now())=>{n=p,r=null,a&&(clearTimeout(a),a=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),d=p-n;d>=s?i(f,p):(r=f,a||(a=setTimeout(()=>{a=null,i(r)},s-d)))},()=>r&&i(r)]}const es=(e,t,n=3)=>{let s=0;const r=Df(50,250);return Tf(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,u=i-s,f=r(u),p=i<=o;s=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:u,rate:f||void 0,estimated:f&&o&&p?(o-i)/f:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},Ai=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Ri=e=>(...t)=>_.asap(()=>e(...t)),_f=Ue.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ue.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,Uf=Ue.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const i=[e+"="+encodeURIComponent(t)];_.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),_.isString(s)&&i.push("path="+s),_.isString(r)&&i.push("domain="+r),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ff(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Bf(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ol(e,t,n){let s=!Ff(t);return e&&(s||n==!1)?Bf(e,t):t}const Di=e=>e instanceof Ve?{...e}:e;function wt(e,t){t=t||{};const n={};function s(f,p,d,h){return _.isPlainObject(f)&&_.isPlainObject(p)?_.merge.call({caseless:h},f,p):_.isPlainObject(p)?_.merge({},p):_.isArray(p)?p.slice():p}function r(f,p,d,h){if(_.isUndefined(p)){if(!_.isUndefined(f))return s(void 0,f,d,h)}else return s(f,p,d,h)}function a(f,p){if(!_.isUndefined(p))return s(void 0,p)}function i(f,p){if(_.isUndefined(p)){if(!_.isUndefined(f))return s(void 0,f)}else return s(void 0,p)}function o(f,p,d){if(d in t)return s(f,p);if(d in e)return s(void 0,f)}const u={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(f,p,d)=>r(Di(f),Di(p),d,!0)};return _.forEach(Object.keys(Object.assign({},e,t)),function(p){const d=u[p]||r,h=d(e[p],t[p],p);_.isUndefined(h)&&d!==o||(n[p]=h)}),n}const jl=e=>{const t=wt({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:o}=t;t.headers=i=Ve.from(i),t.url=xl(Ol(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(_.isFormData(n)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[f,...p]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([f||"multipart/form-data",...p].join("; "))}}if(Ue.hasStandardBrowserEnv&&(s&&_.isFunction(s)&&(s=s(t)),s||s!==!1&&_f(t.url))){const f=r&&a&&Uf.read(a);f&&i.set(r,f)}return t},Vf=typeof XMLHttpRequest<"u",zf=Vf&&function(e){return new Promise(function(n,s){const r=jl(e);let a=r.data;const i=Ve.from(r.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:f}=r,p,d,h,m,g;function v(){m&&m(),g&&g(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function b(){if(!y)return;const P=Ve.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),x={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:P,config:e,request:y};El(function(C){n(C),v()},function(C){s(C),v()},x),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(s(new ie("Request aborted",ie.ECONNABORTED,e,y)),y=null)},y.onerror=function(){s(new ie("Network Error",ie.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const x=r.transitional||Sl;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),s(new ie(S,x.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&_.forEach(i.toJSON(),function(S,x){y.setRequestHeader(x,S)}),_.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),o&&o!=="json"&&(y.responseType=r.responseType),f&&([h,g]=es(f,!0),y.addEventListener("progress",h)),u&&y.upload&&([d,m]=es(u),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",m)),(r.cancelToken||r.signal)&&(p=P=>{y&&(s(!P||P.type?new At(null,e,y):P),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const w=Rf(r.url);if(w&&Ue.protocols.indexOf(w)===-1){s(new ie("Unsupported protocol "+w+":",ie.ERR_BAD_REQUEST,e));return}y.send(a||null)})},$f=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const a=function(f){if(!r){r=!0,o();const p=f instanceof Error?f:this.reason;s.abort(p instanceof ie?p:new At(p instanceof Error?p.message:p))}};let i=t&&setTimeout(()=>{i=null,a(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:u}=s;return u.unsubscribe=()=>_.asap(o),u}},Gf=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},Hf=async function*(e,t){for await(const n of Wf(e))yield*Gf(n,t)},Wf=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Ti=(e,t,n,s)=>{const r=Hf(e,t);let a=0,i,o=u=>{i||(i=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:f,value:p}=await r.next();if(f){o(),u.close();return}let d=p.byteLength;if(n){let h=a+=d;n(h)}u.enqueue(new Uint8Array(p))}catch(f){throw o(f),f}},cancel(u){return o(u),r.return()}},{highWaterMark:2})},hs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pl=hs&&typeof ReadableStream=="function",qf=hs&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ml=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Zf=Pl&&Ml(()=>{let e=!1;const t=new Request(Ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_i=64*1024,or=Pl&&Ml(()=>_.isReadableStream(new Response("").body)),ts={stream:or&&(e=>e.body)};hs&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ts[t]&&(ts[t]=_.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new ie(`Response type '${t}' is not supported`,ie.ERR_NOT_SUPPORT,s)})})})(new Response);const Jf=async e=>{if(e==null)return 0;if(_.isBlob(e))return e.size;if(_.isSpecCompliantForm(e))return(await new Request(Ue.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(_.isArrayBufferView(e)||_.isArrayBuffer(e))return e.byteLength;if(_.isURLSearchParams(e)&&(e=e+""),_.isString(e))return(await qf(e)).byteLength},Kf=async(e,t)=>{const n=_.toFiniteNumber(e.getContentLength());return n??Jf(t)},Yf=hs&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:u,responseType:f,headers:p,withCredentials:d="same-origin",fetchOptions:h}=jl(e);f=f?(f+"").toLowerCase():"text";let m=$f([r,a&&a.toAbortSignal()],i),g;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let y;try{if(u&&Zf&&n!=="get"&&n!=="head"&&(y=await Kf(p,s))!==0){let x=new Request(t,{method:"POST",body:s,duplex:"half"}),L;if(_.isFormData(s)&&(L=x.headers.get("content-type"))&&p.setContentType(L),x.body){const[C,O]=Ai(y,es(Ri(u)));s=Ti(x.body,_i,C,O)}}_.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;g=new Request(t,{...h,signal:m,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:b?d:void 0});let w=await fetch(g);const P=or&&(f==="stream"||f==="response");if(or&&(o||P&&v)){const x={};["status","statusText","headers"].forEach(j=>{x[j]=w[j]});const L=_.toFiniteNumber(w.headers.get("content-length")),[C,O]=o&&Ai(L,es(Ri(o),!0))||[];w=new Response(Ti(w.body,_i,C,()=>{O&&O(),v&&v()}),x)}f=f||"text";let S=await ts[_.findKey(ts,f)||"text"](w,e);return!P&&v&&v(),await new Promise((x,L)=>{El(x,L,{data:S,headers:Ve.from(w.headers),status:w.status,statusText:w.statusText,config:e,request:g})})}catch(b){throw v&&v(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,e,g),{cause:b.cause||b}):ie.from(b,b&&b.code,e,g)}}),ir={http:pf,xhr:zf,fetch:Yf};_.forEach(ir,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ui=e=>`- ${e}`,Qf=e=>_.isFunction(e)||e===null||e===!1,kl={getAdapter:e=>{e=_.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let a=0;a<t;a++){n=e[a];let i;if(s=n,!Qf(n)&&(s=ir[(i=String(n)).toLowerCase()],s===void 0))throw new ie(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+a]=s}if(!s){const a=Object.entries(r).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(Ui).join(`
`):" "+Ui(a[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:ir};function _s(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new At(null,e)}function Fi(e){return _s(e),e.headers=Ve.from(e.headers),e.data=Ts.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kl.getAdapter(e.adapter||en.adapter)(e).then(function(s){return _s(e),s.data=Ts.call(e,e.transformResponse,s),s.headers=Ve.from(s.headers),s},function(s){return Ll(s)||(_s(e),s&&s.response&&(s.response.data=Ts.call(e,e.transformResponse,s.response),s.response.headers=Ve.from(s.response.headers))),Promise.reject(s)})}const Il="1.9.0",gs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gs[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Bi={};gs.transitional=function(t,n,s){function r(a,i){return"[Axios v"+Il+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,o)=>{if(t===!1)throw new ie(r(i," has been removed"+(n?" in "+n:"")),ie.ERR_DEPRECATED);return n&&!Bi[i]&&(Bi[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,o):!0}};gs.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Xf(e,t,n){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],i=t[a];if(i){const o=e[a],u=o===void 0||i(o,a,e);if(u!==!0)throw new ie("option "+a+" must be "+u,ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ie("Unknown option "+a,ie.ERR_BAD_OPTION)}}const Mn={assertOptions:Xf,validators:gs},Qe=Mn.validators;let mt=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ii,response:new Ii}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=wt(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&Mn.assertOptions(s,{silentJSONParsing:Qe.transitional(Qe.boolean),forcedJSONParsing:Qe.transitional(Qe.boolean),clarifyTimeoutError:Qe.transitional(Qe.boolean)},!1),r!=null&&(_.isFunction(r)?n.paramsSerializer={serialize:r}:Mn.assertOptions(r,{encode:Qe.function,serialize:Qe.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mn.assertOptions(n,{baseUrl:Qe.spelling("baseURL"),withXsrfToken:Qe.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&_.merge(a.common,a[n.method]);a&&_.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=Ve.concat(i,a);const o=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let p,d=0,h;if(!u){const g=[Fi.bind(this),void 0];for(g.unshift.apply(g,o),g.push.apply(g,f),h=g.length,p=Promise.resolve(n);d<h;)p=p.then(g[d++],g[d++]);return p}h=o.length;let m=n;for(d=0;d<h;){const g=o[d++],v=o[d++];try{m=g(m)}catch(y){v.call(this,y);break}}try{p=Fi.call(this,m)}catch(g){return Promise.reject(g)}for(d=0,h=f.length;d<h;)p=p.then(f[d++],f[d++]);return p}getUri(t){t=wt(this.defaults,t);const n=Ol(t.baseURL,t.url,t.allowAbsoluteUrls);return xl(n,t.params,t.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(t){mt.prototype[t]=function(n,s){return this.request(wt(s||{},{method:t,url:n,data:(s||{}).data}))}});_.forEach(["post","put","patch"],function(t){function n(s){return function(a,i,o){return this.request(wt(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}mt.prototype[t]=n(),mt.prototype[t+"Form"]=n(!0)});let eh=class Nl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const i=new Promise(o=>{s.subscribe(o),a=o}).then(r);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,o){s.reason||(s.reason=new At(a,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Nl(function(r){t=r}),cancel:t}}};function th(e){return function(n){return e.apply(null,n)}}function nh(e){return _.isObject(e)&&e.isAxiosError===!0}const ar={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ar).forEach(([e,t])=>{ar[t]=e});function Al(e){const t=new mt(e),n=cl(mt.prototype.request,t);return _.extend(n,mt.prototype,t,{allOwnKeys:!0}),_.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Al(wt(e,r))},n}const Le=Al(en);Le.Axios=mt;Le.CanceledError=At;Le.CancelToken=eh;Le.isCancel=Ll;Le.VERSION=Il;Le.toFormData=fs;Le.AxiosError=ie;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=th;Le.isAxiosError=nh;Le.mergeConfig=wt;Le.AxiosHeaders=Ve;Le.formToJSON=e=>Cl(_.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=kl.getAdapter;Le.HttpStatusCode=ar;Le.default=Le;const{Axios:Mv,AxiosError:kv,CanceledError:Iv,isCancel:Nv,CancelToken:Av,VERSION:Rv,all:Dv,Cancel:Tv,isAxiosError:_v,spread:Uv,toFormData:Fv,AxiosHeaders:Bv,HttpStatusCode:Vv,formToJSON:zv,getAdapter:$v,mergeConfig:Gv}=Le,gn=new Set,Pr=Le.create({baseURL:"https://br-session-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}}),st=Le.create({baseURL:"https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/json","app-key":"j+cHATnnYUUjz+ff","app-name":"web-service"},withCredentials:!1}),Rt=Le.create({baseURL:"https://br-auth-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/x-www-form-urlencoded","app-name":"web-service","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c"},withCredentials:!1}),Us=Le.create({baseURL:"https://br-customer-mgmt-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}}),Mr=Le.create({baseURL:"https://br-customer-mgmt-api-dev001-207215937730.us-central1.run.app/v1/getCustomerByEmail/EMAIL",timeout:3e4,headers:{"Content-Type":"application/x-www-form-urlencoded","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}}),ms=e=>{var t,n,s,r,a,i,o,u,f,p,d,h,m,g;return console.error("🔴 API Error Details:",{request:{url:(t=e.config)==null?void 0:t.url,method:(n=e.config)==null?void 0:n.method,baseURL:(s=e.config)==null?void 0:s.baseURL,headers:{...(r=e.config)==null?void 0:r.headers,"app-key":(a=e.config)!=null&&a.headers["app-key"]?"[PRESENT]":"[MISSING]"},data:(i=e.config)==null?void 0:i.data},response:{status:(o=e.response)==null?void 0:o.status,statusText:(u=e.response)==null?void 0:u.statusText,data:(f=e.response)==null?void 0:f.data,headers:(p=e.response)==null?void 0:p.headers},error:{name:e.name,message:e.message,stack:e.stack}}),console.log("📨 Request Headers:",{contentType:(d=e.config)==null?void 0:d.headers["Content-Type"],appName:(h=e.config)==null?void 0:h.headers["app-name"],appKey:(m=e.config)!=null&&m.headers["app-key"]?"[PRESENT]":"[MISSING]",sessionId:(g=e.config)==null?void 0:g.headers.sessionId}),Promise.reject(e)},kr=async e=>{const t=localStorage.getItem("sessionId");return console.log("Current session ID before request:",t),e.headers=e.headers||{},t?(e.headers.sessionId=t,console.log("Added session ID to request headers")):console.log("No session ID available for request"),console.log("Final request config:",{url:e.url,method:e.method,headers:{contentType:e.headers["Content-Type"],appName:e.headers["app-name"],appKey:e.headers["app-key"]?"[PRESENT]":"[MISSING]",sessionId:e.headers.sessionId}}),e};Pr.interceptors.response.use(e=>e,ms);Rt.interceptors.response.use(e=>e,ms);st.interceptors.response.use(e=>e,ms);Mr.interceptors.response.use(e=>e,ms);Rt.interceptors.request.use(kr);Mr.interceptors.request.use(kr);st.interceptors.request.use(kr);const Ir=async()=>{var e,t,n,s,r,a;try{console.log("Creating new session..."),console.log("Previous sessionId in localStorage:",localStorage.getItem("sessionId"));const i=await Pr.post("/createSession");if(console.log("Create session raw response:",i),!i.data)throw new Error("No response data received from createSession");const o=i.data.data||i.data;if(!o)throw console.error("Invalid response structure:",i.data),new Error("No session data in response");const u=o.sessionId||o.sessionID;if(!u)throw console.error("Invalid session data structure:",o),new Error("No sessionId in response data");return console.log("New session data:",o),console.log("Setting new sessionId in localStorage:",u),localStorage.setItem("sessionId",u),u}catch(i){throw console.error("Error creating session:",{message:i.message,status:(e=i.response)==null?void 0:e.status,statusText:(t=i.response)==null?void 0:t.statusText,responseData:(n=i.response)==null?void 0:n.data,config:{url:(s=i.config)==null?void 0:s.url,method:(r=i.config)==null?void 0:r.method,headers:(a=i.config)==null?void 0:a.headers}}),i}},Rl=async e=>{try{console.log("Verifying session:",e);const t=await Pr.get(`/getSessionDetailsById/${e}`);return console.log("Session verification response:",t),!0}catch(t){return console.error("Session verification failed:",t),!1}},ze=async()=>{const e=localStorage.getItem("sessionId");if(e){if(console.log("Found stored session:",e),await Rl(e))return console.log("Stored session is valid"),e;console.log("Stored session is invalid, creating new one..."),localStorage.removeItem("sessionId")}return await Ir()},sh=async(e="eef06da4-788b-435b-8f84-9467dd5b89a9")=>{var t,n,s,r,a,i;try{console.log("API: Starting getAddresses call..."),console.log("API: Getting session ID..."),await ze(),console.log(`API: Making request to /getAddressByCommunity/${e}...`);const o=await st.get(`/v1/getAddressByCommunity/${e}`);return console.log("API: Successful response from backend:",o),o}catch(o){throw console.error("API Error in getAddresses:",{message:o.message,status:(t=o.response)==null?void 0:t.status,statusText:(n=o.response)==null?void 0:n.statusText,data:(s=o.response)==null?void 0:s.data,config:{url:(r=o.config)==null?void 0:r.url,method:(a=o.config)==null?void 0:a.method,headers:(i=o.config)==null?void 0:i.headers}}),o}},Vi=async e=>{var t,n,s,r,a,i;try{console.log(`API: Starting getAddressesByCommunity call for community ${e}...`),console.log("API: Getting session ID..."),await ze(),console.log(`API: Making request to /getAddressByCommunity/${e}...`);const o=await st.get(`/v1/getAddressByCommunity/${e}`);return console.log("API: Successful response from backend:",o),o}catch(o){throw console.error(`API Error in getAddressesByCommunity for community ${e}:`,{message:o.message,status:(t=o.response)==null?void 0:t.status,statusText:(n=o.response)==null?void 0:n.statusText,data:(s=o.response)==null?void 0:s.data,config:{url:(r=o.config)==null?void 0:r.url,method:(a=o.config)==null?void 0:a.method,headers:(i=o.config)==null?void 0:i.headers}}),o}};async function lr(e){try{console.log("Getting user info for email:",e);const t=await ze();console.log("Using session ID for user info request:",t),console.log("Making user info request...");const n=await Mr.get(e);console.log("User info response:",n);let s=n.data;const r={...s,fName:s.fName||s.firstName||s.given_name||"",lName:s.lName||s.lastName||s.family_name||"",firstName:s.firstName||s.fName||s.given_name||"",lastName:s.lastName||s.lName||s.family_name||"",email:s.email||e};return console.log("Normalized user data:",r),r}catch(t){throw console.error("Error fetching user information:",t),t}}const rh=async e=>{var t,n,s,r;try{const a=await ze();return(await st.post("/v1/createGarageSale",e,{headers:{sessionId:a}})).data}catch(a){throw console.error("Create garage sale error:",a),((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.code)==="ERR_MAPS001"&&((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.errorMsg)==="Existing Address"?new Error("A garage sale already exists at this address"):a}},oh=async e=>{try{const t=await ze();return(await st.get(`/v1/getUserGarageSales/${e}`,{headers:{sessionId:t}})).data}catch(t){throw console.error("Get user garage sale error:",t),t}},ih=async e=>{var t,n,s;try{const r=await ze(),a=Array.isArray(e)?e:[e];console.log("API: Deleting garage sales with IDs:",a);const i=await st.delete("/v1/deleteAddress",{headers:{sessionId:r,"Content-Type":"application/json"},data:a});return console.log("API: Delete response:",i),i.data}catch(r){throw console.error("Delete garage sale error:",{message:r.message,status:(t=r.response)==null?void 0:t.status,statusText:(n=r.response)==null?void 0:n.statusText,data:(s=r.response)==null?void 0:s.data}),r}},ah=async e=>{var t,n,s,r,a;try{console.log("Fetching user address list for userId:",e);const i=await ze(),o=await st.get(`/v1/userAddressList/getUserAddressList/${e}`,{headers:{sessionId:i}});return console.log("User address list response:",o),o.data}catch(i){if(console.error("Error fetching user address list:",i),((t=i.response)==null?void 0:t.status)===404)return!1;const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||i.message||"Failed to fetch user address list";throw new Error(o)}},lh=async(e,t)=>{try{const n=await ze(),s=await st.patch(`/v1/updateAddress/${e}`,t,{headers:{sessionId:n}});return console.log("Updated garage sale:",s.data),s.data}catch(n){throw console.error("Error updating garage sale:",n),n}},ch=async(e,t,n,s)=>{var r,a,i,o,u,f,p,d,h,m,g;try{const v=await Ir();console.log("Current session ID before request:",v);const y={fName:n,lName:s,userEmail:e,password:t,regType:"MANUAL",userType:"USER"};console.log("Registration Request Details:",{method:"POST",url:Us.defaults.baseURL+"/v1/createCustomer",headers:{...Us.defaults.headers,sessionId:v},body:y});try{const b=await Us.post("/v1/createCustomer",y,{headers:{sessionId:v}});if(console.log("Registration Response Details:",{status:b.status,statusText:b.statusText,headers:b.headers,data:b.data}),b.status===200)return(r=b.data)!=null&&r.sessionId&&localStorage.setItem("sessionId",b.data.sessionId),b.data}catch(b){throw console.error("Registration error:",b),((a=b.response)==null?void 0:a.status)===400?new Error((o=(i=b.response)==null?void 0:i.data)==null?void 0:o.errorMsg):b}throw new Error("Registration failed: "+response.statusText)}catch(v){throw console.error("Registration Error Details:",{name:v.name,message:v.message,status:(u=v.response)==null?void 0:u.status,statusText:(f=v.response)==null?void 0:f.statusText,responseData:(p=v.response)==null?void 0:p.data,request:{url:(d=v.config)==null?void 0:d.url,method:(h=v.config)==null?void 0:h.method,headers:(m=v.config)==null?void 0:m.headers,data:(g=v.config)==null?void 0:g.data}}),v}},uh=async(e,t)=>{var n,s,r,a,i,o,u,f,p,d;try{const h=await ze();console.log("Created/Retrieved session for login:",h);const m=new URLSearchParams;m.append("username",e),m.append("password",t),m.append("type","EMAIL"),console.log("Sending login request with sessionId:",h);const g={"Content-Type":"application/x-www-form-urlencoded","app-name":"web-service","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c",sessionId:h},y="https://br-auth-api-dev001-207215937730.us-central1.run.app/login";console.log("API Login Request Details:",{url:y,method:"POST",headers:g,body:m.toString(),credentials:"omit"});const b=await fetch(y,{method:"POST",headers:g,body:m,credentials:"omit"});if(!b.ok){console.error("Login failed with status:",b.status);const S=await b.text();throw console.error("Error response:",S),new Error(`Login failed with status ${b.status}: ${S}`)}const w=await b.text();let P;try{P={data:JSON.parse(w)}}catch{P={data:w==="true"}}if(console.log("Login response:",P),P.data===!0||P.data.success===!0){if(console.log("Login successful, fetching user info"),!e)throw console.error("Email is undefined during login process"),new Error("Email is required for user information retrieval");try{const S=await lr(e);return{data:{sessionId:h,userId:S.userId,userType:S.userType,userInfo:S}}}catch(S){return console.error("Error fetching user info after successful login:",S),{data:{sessionId:h,userId:e,userType:"USER",userInfo:{email:e,fName:"",lName:""}}}}}throw new Error("Invalid login response")}catch(h){throw console.error("Login error:",{message:h.message,status:(n=h.response)==null?void 0:n.status,statusText:(s=h.response)==null?void 0:s.statusText,data:(r=h.response)==null?void 0:r.data,config:{url:(a=h.config)==null?void 0:a.url,method:(i=h.config)==null?void 0:i.method,headers:(o=h.config)==null?void 0:o.headers,data:(u=h.config)==null?void 0:u.data}}),((f=h.response)==null?void 0:f.status)===404?new Error("Login endpoint not found. Please check the API configuration."):new Error(((d=(p=h.response)==null?void 0:p.data)==null?void 0:d.message)||"Login failed. Please check your credentials.")}},dh=async()=>{try{const e=localStorage.getItem("sessionId");e&&(await Rt.post("/auth/logout",{sessionId:e,application:"web-service"}),localStorage.removeItem("sessionId"))}catch(e){throw console.error("Logout error:",e),localStorage.removeItem("sessionId"),e}},ph=async e=>{var t,n;try{const s=await ze();console.log("Using session for password reset request:",s);const r=await Rt.post("/sendResetEmail",{userEmail:e},{headers:{sessionId:s}});return console.log("Password reset email sent successfully"),r.data}catch(s){throw console.error("Password reset request error:",s),s.response&&s.response.status===404?new Error("Password reset service unavailable. Please try again later."):new Error(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to send password reset email. Please try again.")}},fh=async e=>{try{return console.log("Token will be verified during password reset"),{valid:!0}}catch(t){throw console.error("Token verification error:",t),new Error("Failed to verify reset token. Please try again.")}},hh=async(e,t,n)=>{var s,r;try{const a=await ze();console.log("Using session for password reset:",a),console.log("Headers being sent to the backend:",{sessionId:a,token:e,userEmail:n,newPassword:t,appCode:"app1234"});const i=await Rt.patch("/resetPassword",{token:e,userEmail:n,newPassword:t,appCode:"app1234"},{headers:{sessionId:a}});return console.log("Server response from password reset:",i),console.log("Password reset successful"),i.data}catch(a){throw console.error("Password reset error:",a),a.response&&a.response.status===400?new Error("Invalid token or password requirements not met. Please try again."):new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||"Failed to reset password. Please try again.")}},we={createSession:Ir,getSessionId:ze,verifySession:Rl,getAddresses:sh,getAddressesByCommunity:Vi,getUserInfo:lr,createGarageSale:rh,getUserGarageSale:oh,deleteGarageSale:ih,updateGarageSale:lh,register:ch,login:uh,logout:dh,createUpdateUserAddressList:async(e,t,n="eef06da4-788b-435b-8f84-9467dd5b89a9")=>{try{console.log("Saving user address list for user:",e);const s=await ze(),r={userId:e,addressList:Array.isArray(t)?t:Array.from(t),community:n};console.log("Saving user address list payload:",r);const a=await st.post("/v1/userAddressList/createUpdateUserAddressList",r,{headers:{sessionId:s,"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});return console.log("User address list saved successfully:",a.data),a.data}catch(s){throw console.error("Error saving user address list:",s),s}},googleLogin:async()=>{try{const r=`https://accounts.google.com/o/oauth2/auth?client_id=${encodeURIComponent("207215937730-v0mbhofpdv4rpglkdcfvk7dpudje5150.apps.googleusercontent.com")}&redirect_uri=${encodeURIComponent("https://community-map-207215937730.us-central1.run.app/loginRedirect")}&scope=${encodeURIComponent("email profile")}&response_type=${encodeURIComponent("code")}`;return console.log("Redirecting to Google OAuth:",r),window.location.href=r,{success:!0}}catch(e){throw console.error("Error initiating Google login:",e),e}},handleGoogleCallback:async e=>{var t,n;try{if(gn.has(e)){console.log("This authorization code has already been processed, preventing duplicate request");const f=localStorage.getItem("userInfo"),p=localStorage.getItem("userEmail");if(f)try{const d=JSON.parse(f);return console.log("Using stored user data from localStorage:",d),{success:!0,user:d}}catch(d){console.error("Error parsing stored user info:",d)}if(p&&p!=="cached_request")return{success:!0,user:{email:p}};console.log("No valid user data found in localStorage, clearing processed codes"),gn.clear()}gn.add(e);const s=await ze();console.log("Using session for Google SSO:",s),console.log("🔐 Google authorization code received:",e),console.log("Sending auth code to backend for token exchange");const r=await Rt.post("/login",{token:e,redirectUri:"https://community-map-207215937730.us-central1.run.app/loginRedirect",sessionId:s,type:"SSO_G"},{headers:{sessionId:s,"app-name":"web-service","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c"}});if(console.log("Google authentication successful"),!r.data||!r.data.success)throw gn.delete(e),new Error("Invalid response from Google authentication");let a;if(typeof r.data.user=="string"?a=r.data.user:r.data.user&&r.data.user.email?a=r.data.user.email:a=r.data.email,!a)throw new Error("No email found in Google authentication response");console.log("Retrieved email from SSO:",a);let i="",o="";r.data.user&&typeof r.data.user!="string"?(i=r.data.user.firstName||r.data.user.given_name||"",o=r.data.user.lastName||r.data.user.family_name||""):(i=r.data.firstName||r.data.given_name||"",o=r.data.lastName||r.data.family_name||"");let u;try{console.log("Making separate backend call for complete user information..."),u=await lr(a),console.log("Complete user info retrieved successfully:",u)}catch(f){console.error("Failed to retrieve user info from backend:",f),u={email:a,fName:i,lName:o,firstName:i,lastName:o,userId:`google-${a}`,userType:"USER",id:`google-${a}`},console.log("Using fallback user data for hamburger menu display:",u)}return!u.fName&&(u.firstName||i)&&(u.fName=u.firstName||i),!u.lName&&(u.lastName||o)&&(u.lName=u.lastName||o),u.email||(u.email=a),console.log("Final normalized user data for UI display:",u),{success:!0,user:u}}catch(s){throw console.error("Error handling Google callback:",s),s.response&&s.response.status===400?new Error("Invalid authorization code. Please try logging in again."):s.response&&s.response.status===404?new Error("Google login service unavailable. Please try again later."):new Error(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to authenticate with Google. Please try again.")}},requestPasswordReset:ph,verifyResetToken:fh,resetPassword:hh,getUserAddressList:ah,getAddressesByCommunity:Vi},Dl=l.createContext(null),gh=({children:e})=>{const t=Ne(),n=Ie(),[s,r]=l.useState(localStorage.getItem("sessionId")||null),[a,i]=l.useState(!1),[o,u]=l.useState(null),[f,p]=l.useState(null),[d,h]=l.useState(null),[m,g]=l.useState(localStorage.getItem("userEmail")||null);l.useEffect(()=>{(async()=>{const O=localStorage.getItem("userId"),j=localStorage.getItem("userType"),D=localStorage.getItem("userInfo"),M=localStorage.getItem("userEmail");if(O?(i(!0),u(O),j&&p(j),D&&h(JSON.parse(D)),M&&g(M)):(i(!1),u(null),p(null),h(null),g(null)),s==null){const B=await we.createSession();r(B.sessionId),localStorage.setItem("sessionId",B.sessionId)}})()},[]);const v=async(C,O)=>{try{const j=await we.login(C,O),{sessionId:D,userId:M,userType:B,userInfo:$}=j.data;return i(!0),u(M),p(B),h($),g(C),localStorage.setItem("sessionId",D),localStorage.setItem("userId",M),localStorage.setItem("userType",B),localStorage.setItem("userEmail",C),localStorage.setItem("userInfo",JSON.stringify($)),j}catch(j){throw j}},y=async()=>{try{await we.googleLogin()}catch(C){throw console.error("Error in googleLogin:",C),C}},b=async C=>{try{console.log("AuthContext: Processing Google callback with authorization code");const O=await we.handleGoogleCallback(C);if(O&&O.success&&O.user){const j=O.user;console.log("Login successful with user:",j);const D={userId:j.userId||j.id||`google-${j.email}`,userType:j.userType||"USER",userInfo:j,email:j.email};j.userEmail&&!j.email&&(j.email=j.userEmail),i(!0),u(D.userId),p(D.userType),h(j),g(j.email),localStorage.setItem("userId",D.userId),localStorage.setItem("userType",D.userType),localStorage.setItem("userEmail",j.email),localStorage.setItem("userInfo",JSON.stringify(j));const M=sessionStorage.getItem("initialPage");return console.log(`AUTH CONTEXT: Google login successful, navigating back to initial page: ${M}`),setTimeout(()=>{window.location.href=M},100),{success:!0,data:D}}else throw new Error("Invalid response from Google authentication")}catch(O){throw console.error("Error in handleGoogleCallback:",O),i(!1),u(null),p(null),h(null),g(null),O}},w=async C=>{try{const O=await we.requestPasswordReset(C);return console.log("Password reset email sent successfully"),{success:!0,data:O}}catch(O){throw console.error("Error in requestPasswordReset:",O),O}},P=async C=>{try{const O=await we.verifyResetToken(C);return console.log("Reset token verified successfully"),{success:!0,data:O}}catch(O){throw console.error("Error in verifyResetToken:",O),O}},S=async(C,O,j)=>{try{const D=await we.resetPassword(C,O,j);return console.log("Password reset successful"),{success:!0,data:D}}catch(D){throw console.error("Error in resetPassword:",D),D}},x=async(C,O,j,D)=>{try{const M=await we.register(C,O,j,D),B={email:C,firstName:j,lastName:D};return i(!0),h(B),g(C),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userInfo",JSON.stringify(B)),localStorage.setItem("userEmail",C),await v(C,O),M}catch(M){throw M}},L=()=>{i(!1),u(null),p(null),h(null),g(null),localStorage.removeItem("sessionId"),localStorage.removeItem("userId"),localStorage.removeItem("userType"),localStorage.removeItem("userInfo"),localStorage.removeItem("userEmail"),localStorage.removeItem("selectedSaleIds"),localStorage.removeItem("selectedSales"),localStorage.removeItem("adminSelectedSaleIds"),console.log("User logged out, cleared all user data and selections"),n.pathname==="/sales"&&(console.log("User was on garage sales page, navigating to map page"),t("/")),setTimeout(()=>{window.location.reload()},100)};return c.jsx(Dl.Provider,{value:{isAuthenticated:a,userInfo:d,userEmail:m,userId:o,userType:f,login:v,logout:L,register:x,googleLogin:y,handleGoogleCallback:b,requestPasswordReset:w,verifyResetToken:P,resetPassword:S,sessionId:s},children:e})},qe=()=>{const e=l.useContext(Dl);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Tl=l.createContext();function mh({children:e}){const[t,n]=l.useState(null),[s,r]=l.useState(!1),[a,i]=l.useState(null),o=l.useCallback(()=>{if(!navigator.geolocation){i("Geolocation is not supported by your browser.");return}navigator.geolocation.getCurrentPosition(p=>{const d={lat:p.coords.latitude,lng:p.coords.longitude};console.log("User location obtained:",d),n(d),r(!0),i(null)},p=>{i(`Error getting location: ${p.message}`),console.warn("Error getting location:",p)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),u=l.useCallback(()=>{r(!1)},[]);l.useEffect(()=>{console.log("LocationContext: Getting initial location"),o()},[o]);const f={userLocation:t,shouldCenterOnUser:s,error:a,centerOnUserLocation:o,clearCenterOnUser:u};return c.jsx(Tl.Provider,{value:f,children:e})}function _l(){const e=l.useContext(Tl);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e}const Ul=l.createContext({communityName:"",setCommunityName:()=>{},communityId:null,setCommunityId:()=>{}});function vh({children:e}){const[t,n]=l.useState(""),[s,r]=l.useState(null),a={communityName:t,setCommunityName:n,communityId:s,setCommunityId:r};return c.jsx(Ul.Provider,{value:a,children:e})}function ot(){const e=l.useContext(Ul);if(!e)throw new Error("useCommunitySales must be used within a CommunitySalesProvider");return e}const Fl=l.createContext();function yh({children:e}){const[t,n]=l.useState(!1),r={showOnlySelected:t,toggleDisplayMode:a=>{a==="showAll"?n(!1):a==="showSelected"?n(!0):a==="optimizedRoute"||n(i=>!i)}};return c.jsx(Fl.Provider,{value:r,children:e})}function tn(){const e=l.useContext(Fl);if(!e)throw new Error("useDisplay must be used within a DisplayProvider");return e}const Bl=l.createContext();function bh({children:e}){const[t,n]=l.useState(()=>{const i=localStorage.getItem("selectedSaleIds");return i?new Set(JSON.parse(i)):new Set});l.useEffect(()=>{localStorage.setItem("selectedSaleIds",JSON.stringify([...t]))},[t]);const a={selectedSales:t,handleCheckboxChange:i=>{n(o=>{const u=new Set(o);return u.has(i)?u.delete(i):u.add(i),u})},handleDeselectAll:i=>{n(new Set)}};return c.jsx(Bl.Provider,{value:a,children:e})}function vs(){const e=l.useContext(Bl);if(!e)throw new Error("useSelection must be used within a SelectionProvider");return e}const Vl=l.createContext();function zl({children:e}){const[t,n]=l.useState([]),[s,r]=l.useState(!1),[a,i]=l.useState(null),o=l.useRef(!1),u=l.useRef(!1);l.useEffect(()=>(console.log("GarageSalesContext: Provider mounted"),()=>{console.log("GarageSalesContext: Provider unmounted")}),[]);const f=l.useRef(null),p=l.useCallback(async(d=null,h=!1)=>{var g;if(o.current){console.log("GarageSalesContext: Fetch already in progress");return}const m=d&&d!==f.current;if(u.current&&!h&&!m){console.log("GarageSalesContext: Skipping fetch - no changes detected");return}d&&(console.log("GarageSalesContext: Updating lastFetchedCommunityId from",f.current,"to",d),f.current=d);try{console.log("GarageSalesContext: Starting fetch"),o.current=!0,r(!0),i(null);const v=d?await we.getAddressesByCommunity(d):await we.getAddresses();if(console.warn("GarageSalesContext: Fetching with communityId:",d),console.log("GarageSalesContext: Raw API response:",v),v&&v.data===!1&&(console.log("GarageSalesContext: Response data is false, converting to empty array"),v.data=[]),console.log("GarageSalesContext: Response data structure:",JSON.stringify((g=v.data)==null?void 0:g[0],null,2)),v&&v.data){const y=v.data.map(b=>{var S,x,L,C;const w=b.address?`${b.address.streetNum} ${b.address.street}`:"Address not available",P={lat:parseFloat((S=b.address)==null?void 0:S.latitude)||parseFloat((x=b.address)==null?void 0:x.lat)||0,lng:parseFloat((L=b.address)==null?void 0:L.longitude)||parseFloat((C=b.address)==null?void 0:C.long)||0};return console.log("Processing sale position:",{originalAddress:b.address,processedPosition:P}),{id:b.id,address:w,description:b.description||"No description available",position:P,highlightedItems:b.highlightedItems||[]}});n(y),u.current=!0,console.log("GarageSalesContext: Fetch completed successfully")}}catch(v){console.error("GarageSalesContext: Error fetching garage sales:",v),i(v.message)}finally{r(!1),o.current=!1}},[]);return c.jsx(Vl.Provider,{value:{garageSales:t,loading:s,error:a,fetchGarageSales:p},children:e})}function ys(){return l.useContext(Vl)}const wh=({onSelect:e})=>{const{showOnlySelected:t,toggleDisplayMode:n}=tn(),{selectedSales:s}=vs(),{garageSales:r}=ys(),{communityName:a,setCommunityName:i,communityId:o,setCommunityId:u}=ot(),f=Ne();if(Ie().pathname==="/admin/sales")return null;const h=()=>{if(t)localStorage.removeItem("selectedSales"),n(),f(`/?communityId=${o||""}`);else{const m=r.filter(g=>s.has(g.id)).map(g=>({...g,lat:g.position.lat,lng:g.position.lng,address:g.address,description:g.description}));m.length>0?(localStorage.setItem("selectedSales",JSON.stringify(m)),n(),f(`/?communityId=${o||""}`)):f("/sales")}e&&e()};return c.jsxs("div",{className:"menu-item",onClick:h,children:[c.jsx("span",{className:"menu-icon",children:t?"👁️":"🔍"}),c.jsx("span",{className:"menu-text",children:t?"Show All Sales":"Show Selected Sales"})]})},xh=({communityId:e,communityName:t="",size:n=300})=>{if(!e)return null;let s=window.location.origin;s.includes("://")&&!s.includes("://www.")?s=s.replace("://","://www."):s.includes("://")||(s=`https://www.${s}`);const r=`${s}/?communityId=${e}`,a=`https://api.qrserver.com/v1/create-qr-code/?size=${n}x${n}&data=${encodeURIComponent(r)}`;return c.jsxs("div",{style:{textAlign:"center",padding:20},children:[c.jsx("h2",{style:{marginBottom:16},children:t||"Community Garage Sale"}),c.jsx("img",{src:a,alt:`QR Code for ${t||"Community Garage Sale"}`,width:n,height:n,style:{borderRadius:8,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"#fff"}}),c.jsx("div",{style:{marginTop:16,color:"#666",fontSize:15},children:"Scan this code to access the community garage sales map on your device."})]})},zi=()=>{const[e,t]=l.useState(!1),[n,s]=l.useState(!1),r=Ne(),a=Ie(),{communityName:i,setCommunityName:o,communityId:u,setCommunityId:f}=ot(),{isAuthenticated:p,userId:d,userType:h,logout:m,userEmail:g,userInfo:v}=qe(),{centerOnUserLocation:y}=_l(),b=l.useRef(null),w=L=>{b.current&&!b.current.contains(L.target)&&!L.target.closest(".hamburger-button")&&s(!1)},P=()=>{s(!1)};l.useEffect(()=>(window.closeHamburgerMenu=P,()=>{delete window.closeHamburgerMenu}),[]),l.useEffect(()=>(document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}),[]);const S=()=>{r(`/?communityId=${u||""}`),s(!1)},x=()=>{m(),s(!1),a.pathname==="/"?r(`/?communityId=${u||""}`):r("/landing")};return c.jsxs("div",{className:"hamburger-container",children:[e&&c.jsx("div",{className:"qr-modal-overlay",onClick:()=>t(!1),children:c.jsxs("div",{className:"qr-modal-content",onClick:L=>L.stopPropagation(),children:[c.jsx("button",{className:"qr-modal-close",onClick:()=>t(!1),children:"×"}),c.jsx(xh,{communityId:u,communityName:i,size:260})]})}),c.jsx("button",{className:"hamburger-button",onClick:()=>s(!n),children:c.jsxs("div",{className:`hamburger-icon ${n?"open":""}`,children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]})}),c.jsxs("div",{className:`menu-items ${n?"open":""}`,ref:b,children:[p&&c.jsxs("div",{className:"menu-header",children:[c.jsx("span",{className:"menu-icon",children:"👤"}),c.jsxs("span",{className:"menu-user",children:[v==null?void 0:v.fName," ",v==null?void 0:v.lName]})]}),c.jsxs("div",{className:"menu-item",onClick:S,children:[c.jsx("span",{className:"menu-icon",children:"🗺️"}),c.jsx("span",{className:"menu-text",children:"Map"})]}),c.jsx(wh,{onSelect:()=>s(!1)}),c.jsxs("div",{className:"menu-item",onClick:()=>{r("/sales"),s(!1)},children:[c.jsx("span",{className:"menu-icon",children:"🏷️"}),c.jsx("span",{className:"menu-text",children:"Garage Sales"})]}),c.jsxs("div",{className:"menu-item",onClick:()=>{t(!0),s(!1)},children:[c.jsx("span",{className:"menu-icon",children:"📊"}),c.jsx("span",{className:"menu-text",children:"Show Community QR Code"})]}),c.jsxs("div",{className:"menu-item",onClick:()=>{r("/help"),s(!1)},children:[c.jsx("span",{className:"menu-icon",children:"❓"}),c.jsx("span",{className:"menu-text",children:"Help"})]}),c.jsxs("div",{className:"menu-item",onClick:()=>{r("/about"),s(!1)},children:[c.jsx("span",{className:"menu-icon",children:"📖"}),c.jsx("span",{className:"menu-text",children:"About"})]}),p?c.jsxs("div",{className:"menu-item",onClick:x,children:[c.jsx("span",{className:"menu-icon",children:"🚪"}),c.jsxs("span",{className:"menu-text",children:["Logout (",g,")"]})]}):c.jsxs("div",{className:"menu-item",onClick:()=>{r("/login"),s(!1)},children:[c.jsx("span",{className:"menu-icon",children:"🔑"}),c.jsx("span",{className:"menu-text",children:"Login/Signup"})]})]})]})},$l=l.createContext(),nn=()=>l.useContext($l),Sh=({children:e})=>{const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=Ie();l.useEffect(()=>{a.pathname==="/landing"||a.pathname==="/about"?n(!0):a.pathname==="/"&&r(!0)},[a.pathname]);const i={fromLanding:t,setFromLanding:n,fromMap:s,setFromMap:r};return c.jsx($l.Provider,{value:i,children:e})};function Gl(){const[e,t]=l.useState({width:void 0,height:void 0});return l.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),e}const Ch=()=>{const[e,t]=l.useState(!1),n=Ne(),s=Ie(),{isAuthenticated:r,logout:a,userEmail:i}=qe(),{setFromLanding:o}=nn(),u=l.useRef(null),f=h=>{o(!0),n(h),t(!1)},p=()=>{a(),o(!0),t(!1),s.pathname==="/landing"||s.pathname==="/about"?n(s.pathname):n("/landing")},d=h=>{u.current&&!u.current.contains(h.target)&&!h.target.closest(".menubar-hamburger-button")&&t(!1)};return l.useEffect(()=>(document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}),[]),c.jsxs("div",{className:"menubar-hamburger-container",children:[c.jsx("button",{className:"menubar-hamburger-button",onClick:()=>t(!e),children:c.jsxs("div",{className:`menubar-hamburger-icon ${e?"open":""}`,children:[c.jsx("span",{}),c.jsx("span",{}),c.jsx("span",{})]})}),c.jsxs("div",{className:`menubar-menu-items ${e?"open":""}`,ref:u,children:[c.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/about"),children:[c.jsx("span",{className:"menubar-menu-icon",children:"📖"}),c.jsx("span",{className:"menubar-menu-text",children:"About"})]}),c.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/list-active-community-sales-events"),children:[c.jsx("span",{className:"menubar-menu-icon",children:"📋"}),c.jsx("span",{className:"menubar-menu-text",children:"List of Active Community Sales Events"})]}),c.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/admin/community-sales"),children:[c.jsx("span",{className:"menubar-menu-icon",children:"⚙️"}),c.jsx("span",{className:"menubar-menu-text",children:"Manage Community Sales"})]}),c.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/info"),children:[c.jsx("span",{className:"menubar-menu-icon",children:"ℹ️"}),c.jsx("span",{className:"menubar-menu-text",children:"Info"})]}),r?c.jsxs("div",{className:"menubar-menu-item",onClick:p,children:[c.jsx("span",{className:"menubar-menu-icon",children:"🚪"}),c.jsx("span",{className:"menubar-menu-text",children:"Logout"})]}):c.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/login?from=landing"),children:[c.jsx("span",{className:"menubar-menu-icon",children:"🔑"}),c.jsx("span",{className:"menubar-menu-text",children:"Login"})]})]})]})},Fs=()=>{const e=Ne(),t=Ie(),{isAuthenticated:n,logout:s,userEmail:r}=qe(),{setFromLanding:a}=nn(),{width:i}=Gl(),o=i<1045,u=h=>{a(!0),e(h)},f=async()=>{a(!0);try{console.log("Fetching garage sales for GENPUB community...");const h="https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getAddressByCommunity/GENPUB";console.log("Using API URL:",h);const m=await fetch(h,{method:"GET",headers:{"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(m.ok){const g=await m.json();console.log("Garage sales fetched successfully:",g),sessionStorage.setItem("garageSalesData",JSON.stringify(g))}e("/single-garage-sales")}catch(h){console.error("Error fetching garage sales:",h),e("/single-garage-sales")}},p=()=>{a(!0),e(n?"/register-garage-sale":"/login?returnTo=/register-garage-sale")},d=()=>{s(),a(!0),t.pathname==="/landing"||t.pathname==="/about"?e(t.pathname):e("/landing")};return o?c.jsx(Ch,{}):c.jsxs("nav",{className:"menu-bar",children:[c.jsx("div",{className:"menu-bar-item",onClick:()=>u("/about"),children:"About"}),c.jsx("div",{className:"menu-bar-item",onClick:()=>u("/list-active-community-sales-events"),children:"List of Active Community Sales Events"}),c.jsx("div",{className:"menu-bar-item",onClick:f,children:"List of Individual Garage Sales"}),c.jsx("div",{className:"menu-bar-item",onClick:p,children:"Register a Garage Sale"}),c.jsx("div",{className:"menu-bar-item",onClick:()=>u("/admin/community-sales"),children:"Manage Community Sales"}),n?c.jsx("div",{className:"menu-bar-item",onClick:d,children:"Logout"}):c.jsx("div",{className:"menu-bar-item",onClick:()=>u("/login?from=landing"),children:"Login"}),c.jsx("div",{className:"menu-bar-item",onClick:()=>u("/info"),children:"Info"})]})},Fe=()=>{const{fromLanding:e}=nn(),t=Ie();if(t.pathname.startsWith("/admin"))return c.jsx(Fs,{});if(t.pathname.startsWith("/info"))return c.jsx(Fs,{});const n=["/","/help","/settings","/sales"];return n.includes(t.pathname)?c.jsx(zi,{}):(t.pathname==="/landing"||t.pathname==="/about"||e)&&!n.includes(t.pathname)?c.jsx(Fs,{}):c.jsx(zi,{})},Lh=()=>{const e=Ne(),{fromMap:t,setFromMap:n}=nn(),{currentCommunityId:s}=ot();return l.useEffect(()=>{sessionStorage.setItem("initialPage","/about"),console.log('InfoPage: Recorded initial page as "/about" in sessionStorage')},[]),c.jsxs("div",{className:"info-page",children:[c.jsxs("div",{className:"info-container",children:[c.jsx("h2",{children:"INFO"}),c.jsxs("div",{className:"content",children:[c.jsxs("div",{className:"about-section",children:[c.jsx("h3",{children:"About Community Map"}),c.jsx("p",{children:"An app that maps out garage sales in your community during a community garage sale event."})]}),c.jsxs("div",{className:"developed-by",children:[c.jsx("h3",{children:"Developed By"}),c.jsxs("div",{className:"developer",children:[c.jsx("p",{children:"Asher Green"}),c.jsx("a",{href:"mailto:asher@ashergreen.ca",children:"asher@ashergreen.ca"}),c.jsx("br",{}),c.jsx("a",{href:"https://www.ashergreen.ca",target:"_blank",rel:"noopener noreferrer",children:"www.ashergreen.ca"})]}),c.jsxs("div",{className:"developer",children:[c.jsx("p",{children:"Jamie-Lee Mclean-Davis"}),c.jsx("a",{href:"mailto:jmclean.davis@gmail.com",children:"jmclean.davis@gmail.com"})]})]}),c.jsxs("div",{className:"version-info",children:[c.jsx("h3",{children:"Version"}),c.jsx("p",{children:"1.0.0"})]})]})]}),t&&c.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:c.jsx("div",{className:"cta-button secondary",onClick:()=>{e(`/?communityId=${s||""}`)},style:{display:"inline-block",backgroundColor:"#27ae60",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",textDecoration:"none",fontWeight:"500",cursor:"pointer"},children:"Return to Map"})})]})};function mn(e){if(!e)return"";const[t]=e.split("T"),n=new Date(t),s=n.getDate(),r=n.toLocaleString("default",{month:"long"}),a=n.getFullYear();function i(o){if(o>3&&o<21)return"th";switch(o%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}return`${r} ${s}${i(s)}, ${a}`}const Eh="https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app",Oh="j+cHATnnYUUjz+ff",jh=()=>{const[e,t]=l.useState([]),[n,s]=l.useState(""),[r,a]=l.useState(!0),[i,o]=l.useState(null),[u,f]=l.useState("upcoming");l.useEffect(()=>{(async()=>{a(!0),o(null);try{const m=sessionStorage.getItem("sessionId"),g=await fetch(`${Eh}/v1/communitySales/all`,{method:"GET",headers:{"Content-Type":"application/json","app-name":"web-service","app-key":Oh,sessionId:m||""}});if(!g.ok)throw new Error("Failed to fetch sales");const v=await g.json();console.log("Fetched community sales data:",v),t(v||[])}catch(m){o(m.message)}finally{a(!1)}})()},[]);const d=e.filter(m=>{var v,y,b;const g=n.toLowerCase();return((v=m.name)==null?void 0:v.toLowerCase().includes(g))||((y=m.location)==null?void 0:y.toLowerCase().includes(g))||((b=m.description)==null?void 0:b.toLowerCase().includes(g))||mn(m.startDate).toLowerCase().includes(g)||mn(m.endDate).toLowerCase().includes(g)}).sort((m,g)=>{const v=new Date,y=m.startDate?new Date(m.startDate):new Date(0),b=g.startDate?new Date(g.startDate):new Date(0);switch(u){case"upcoming":return y<v&&b>=v?1:y>=v&&b<v?-1:y-b;case"recent":return y<v&&b>=v?1:y>=v&&b<v?-1:b-y;case"alphabetical":const w=(m.name||"").toLowerCase(),P=(g.name||"").toLowerCase();return w.localeCompare(P);default:return y-b}});return c.jsxs("div",{style:{maxWidth:700,margin:"40px auto",padding:24,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(0,0,0,0.08)"},children:[c.jsx("h1",{children:"Active Community Sales Events"}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c.jsx("input",{type:"text",placeholder:"Search by community or location...",value:n,onChange:h=>s(h.target.value),style:{flex:1,padding:10,borderRadius:6,border:"1px solid #bbb",fontSize:16,marginRight:"10px"}}),c.jsxs("select",{value:u,onChange:h=>f(h.target.value),style:{padding:"10px",borderRadius:6,border:"1px solid #bbb",fontSize:16},children:[c.jsx("option",{value:"upcoming",children:"Upcoming Events"}),c.jsx("option",{value:"recent",children:"Latest Events"}),c.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]}),r&&c.jsx("p",{children:"Loading..."}),i&&c.jsx("p",{style:{color:"red"},children:i}),!r&&!i&&d.length===0&&c.jsx("p",{children:"No active community sales found."}),c.jsx("ul",{style:{listStyle:"none",padding:0},children:d.map(h=>c.jsx("li",{style:{marginBottom:24,padding:0,border:"none",borderRadius:8,background:"none"},children:c.jsxs("button",{className:"community-sale-btn",onClick:()=>{window.location.href=`/?communityId=${h.id}`},"aria-label":`View ${h.name} on map`,children:[c.jsx("h2",{style:{margin:0},children:h.name}),c.jsxs("div",{style:{color:"#555",fontSize:15},children:[c.jsx("strong",{children:"Location:"})," ",h.location," ",c.jsx("br",{}),c.jsx("span",{style:{display:"block",margin:"8px 0",color:"#333"},children:h.description}),c.jsx("strong",{children:"Start:"})," ",mn(h.startDate)," ",c.jsx("br",{}),c.jsx("strong",{children:"End:"})," ",mn(h.endDate)]})]})},h.id))})]})},Ph=()=>c.jsx("span",{className:"location-icon",style:{display:"inline-block",verticalAlign:"middle",marginLeft:"4px",marginRight:"4px"},children:"⊕"});function Mh(){return c.jsxs("div",{className:"help-container",children:[c.jsx("h1",{children:"Help"}),c.jsxs("section",{className:"help-section",children:[c.jsx("h2",{children:"Getting Started"}),c.jsx("p",{children:"Welcome to Community Map! This guide will help you navigate and use all the features of our application."})]}),c.jsxs("section",{className:"help-section",children:[c.jsx("h2",{children:"Map Navigation"}),c.jsxs("div",{className:"left-aligned-list",children:[c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Pan the map by clicking and dragging"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Zoom in/out using the scroll wheel or the pinch zoom"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Click the ",c.jsx(Ph,{})," button to center on your current position"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," The blue dot shows your current location"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Red dots indicate garage sale locations"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Green dots indicate garage sales that you have selected (must be logged in)"]})]})]}),c.jsxs("section",{className:"help-section",children:[c.jsx("h2",{children:"Garage Sales"}),c.jsxs("div",{className:"left-aligned-list",children:[c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Click on any red dot to view garage sale details"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," The info window shows the address and description"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," Close the info window by clicking the X or clicking elsewhere on the map"]})]})]}),c.jsxs("section",{className:"help-section",children:[c.jsx("h2",{children:"Menu Options"}),c.jsxs("div",{className:"left-aligned-list",children:[c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," ",c.jsx("strong",{children:"Map:"}),"  Return to the main map view"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," ",c.jsx("strong",{children:"Show Selected Sales:"}),"  View all garage sales that you have selected on the map"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," ",c.jsx("strong",{children:"Garage Sales:"}),"  View a list of all garage sales"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," ",c.jsx("strong",{children:"About:"}),"  View information about the app and how to create your own community garage sale map"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," ",c.jsx("strong",{children:"Login/Signup:"}),"  Access your account"]}),c.jsxs("div",{className:"list-item",children:[c.jsx("span",{className:"bullet",children:"•"})," ",c.jsx("strong",{children:"Help:"}),"  View this help guide"]})]})]})]})}const Hl=l.createContext(),vn="initialPage",kh=({children:e})=>{const t=Ie(),[n,s]=l.useState(null),[r,a]=l.useState(!1);l.useEffect(()=>{const p=sessionStorage.getItem(vn);p&&!r?(s(p),a(!0),console.log(`[InitialPageContext] Restored initial page from session: ${p}`)):r||(s(t.pathname),a(!0),sessionStorage.setItem(vn,t.pathname),console.log(`[InitialPageContext] First page recorded in memory and session: ${t.pathname}`))},[t.pathname,r]);const i=()=>n==="/",o=()=>n==="/about"||n==="/landing",u=()=>{console.log("===== INITIAL PAGE CONTEXT DEBUG INFO ====="),console.log(`Current initial page in memory: ${n||"Not set"}`),console.log(`Current initial page in session: ${sessionStorage.getItem(vn)||"Not set"}`),console.log(`Is initial page map? ${i()?"YES":"NO"}`),console.log(`Is initial page about/landing? ${o()?"YES":"NO"}`),console.log("=========================================")},f=()=>{s(null),a(!1),sessionStorage.removeItem(vn),console.log("[InitialPageContext] Initial page cleared from memory and session")};return c.jsx(Hl.Provider,{value:{initialPath:n,wasInitialPageMap:i,wasInitialPageAbout:o,debugInitialPage:u,clearInitialPage:f},children:e})},Ih=()=>{const e=l.useContext(Hl);if(!e)throw new Error("useInitialPage must be used within an InitialPageProvider");return e},Nh=()=>{const e=Ne(),t=Ie(),{login:n,register:s,googleLogin:r,handleGoogleCallback:a,requestPasswordReset:i,verifyResetToken:o,resetPassword:u}=qe(),{initialPath:f,wasInitialPageMap:p,wasInitialPageAbout:d,debugInitialPage:h}=Ih(),[m,g]=l.useState(!0),[v,y]=l.useState(!1),[b,w]=l.useState(!1),[P,S]=l.useState(""),[x,L]=l.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",newPassword:"",confirmNewPassword:""}),[C,O]=l.useState(""),[j,D]=l.useState(""),[M,B]=l.useState(!1);l.useEffect(()=>{console.log("-------------------- useEffect in Login.jsx FIRED -----------------------");const V=new URLSearchParams(t.search),H=V.get("code"),q=V.get("reset"),J=V.get("email");if(H){const N=window.location.pathname;window.history.replaceState({},document.title,N),(async()=>{try{B(!0),O(""),console.log("GOOGLE AUTH: Processing Google authorization code"),await a(H),dt.event({category:"Authentication",action:"Login",label:"Google",value:1}),console.log("GOOGLE AUTH: Authentication complete, preparing navigation"),console.log("GOOGLE AUTH: Navigating to /admin/community-sales"),e("/admin/community-sales")}catch(A){O("Failed to authenticate with Google. Please try again."),console.error("Google authentication error:",A),dt.event({category:"Authentication",action:"Login Failed",label:"Google",value:0})}finally{B(!1)}})()}else q&&(async()=>{try{B(!0),await o(q),w(!0),S(q),J&&L(T=>({...T,email:J}))}catch{O("Invalid or expired password reset link. Please request a new one.")}finally{B(!1)}})()},[t,a,e,o]);const $=V=>{const{name:H,value:q}=V.target;L(J=>({...J,[H]:q})),C&&O(""),j&&D("")},k=async V=>{V.preventDefault(),O(""),B(!0);try{if(m)await n(x.email,x.password),dt.event({category:"Authentication",action:"Login",label:"Email/Password"}),d()?e("/admin/community-sales"):(p(),e("/"));else if(v){if(!x.email)throw new Error("Please enter your email address");const H=await i(x.email);D("Password reset link has been sent to your email. Please check your inbox and spam folder. Due to email provider limitations, the email may appear in your spam folder."),L({...x,email:""})}else if(b){if(!x.newPassword||!x.confirmNewPassword)throw new Error("Please fill in all password fields");if(x.newPassword!==x.confirmNewPassword)throw new Error("Passwords do not match");if(x.newPassword.length<8)throw new Error("Password must be at least 8 characters long");if(!x.email)throw new Error("Email address is missing. Please contact support.");await u(P,x.newPassword,x.email),D("Your password has been reset successfully. You can now log in with your new password."),setTimeout(()=>{w(!1),y(!1),g(!0),D(""),L({...x,newPassword:"",confirmNewPassword:""})},3e3)}else{if(x.password!==x.confirmPassword)throw new Error("Passwords do not match");if(!x.firstName||!x.lastName)throw new Error("First name and last name are required");await s(x.email,x.password,x.firstName,x.lastName),dt.event({category:"Authentication",action:"Register",label:"Email/Password"}),d()?e("/admin/community-sales"):(p(),e("/"))}}catch(H){O(v?H.message||"Failed to send password reset email. Please try again.":b?H.message||"Failed to reset password. Please try again.":H.message||`Failed to ${m?"log in":"sign up"}`)}finally{B(!1)}},E=async()=>{try{O(""),B(!0),console.log("[Login] Starting Google login, initial page is preserved in session storage"),h(),await r()}catch{O("Failed to initiate Google login. Please try again."),dt.event({category:"Authentication",action:"Google Login Initiation Failed"}),B(!1)}},I=()=>{y(!v),g(!m),O(""),D("")},R=()=>{y(!1),w(!1),g(!0),O(""),D(""),L({...x,password:"",newPassword:"",confirmNewPassword:""})},U=()=>v?c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Forgot Password"}),C&&c.jsx("div",{className:"error-message",children:C}),j&&c.jsx("div",{className:"success-message",children:j}),!j&&c.jsxs("form",{onSubmit:k,children:[c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:x.email,onChange:$,required:!0})}),c.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"Processing...":"Send Reset Link"})]}),c.jsx("button",{className:"back-button",onClick:R,disabled:M,children:"Back to Login"})]}):b?c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:"Reset Password"}),C&&c.jsx("div",{className:"error-message",children:C}),j&&c.jsx("div",{className:"success-message",children:j}),c.jsxs("form",{onSubmit:k,children:[c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"password",id:"newPassword",name:"newPassword",placeholder:"New Password",value:x.newPassword,onChange:$,required:!0})}),c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"password",id:"confirmNewPassword",name:"confirmNewPassword",placeholder:"Confirm New Password",value:x.confirmNewPassword,onChange:$,required:!0})}),c.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"Processing...":"Reset Password"})]})]}):c.jsxs(c.Fragment,{children:[c.jsx("h2",{children:m?"Login":"Sign Up"}),C&&c.jsx("div",{className:"error-message",children:C}),j&&c.jsx("div",{className:"success-message",children:j}),c.jsxs("button",{className:"google-button",onClick:E,disabled:M,children:[c.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg",alt:"Google",className:"google-icon"}),"Sign in with Google"]}),c.jsx("div",{className:"or-divider",children:"OR"}),c.jsxs("form",{onSubmit:k,children:[!m&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",value:x.firstName,onChange:$,required:!m})}),c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",value:x.lastName,onChange:$,required:!m})})]}),c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email",value:x.email,onChange:$,required:!0})}),c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Password",value:x.password,onChange:$,required:!0})}),!m&&c.jsx("div",{className:"form-group",children:c.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",value:x.confirmPassword,onChange:$,required:!m})}),c.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"Processing...":m?"Login":"Sign Up"})]}),c.jsx("div",{className:"form-footer",children:m?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"toggle-form-button",onClick:()=>{g(!1),y(!1),O("")},disabled:M,children:"Need an account? Sign Up"}),c.jsx("button",{className:"forgot-password-button",onClick:I,disabled:M,children:"Forgot Password?"})]}):c.jsx("button",{className:"toggle-form-button",onClick:()=>{g(!0),O("")},disabled:M,children:"Already have an account? Login"})})]});return c.jsx("div",{className:"login-container",children:c.jsx("div",{className:"login-form",children:U()})})},Ah=()=>{const e=Ne(),{handleGoogleCallback:t}=qe(),n=Ie(),[s,r]=l.useState(""),[a,i]=l.useState("Processing your login..."),o=l.useRef(!1);return l.useEffect(()=>(console.error("-------------------- useEffect in LoginRedirect.jsx FIRED -----------------------"),(async()=>{if(o.current){console.log("Auth processing already in progress, skipping duplicate execution");return}o.current=!0;try{console.log("=== LoginRedirect Page Loaded ==="),console.log("Current location:",n),console.log("URL:",window.location.href),console.log("Search params:",n.search),console.log("Hash params:",n.hash);const p=new URLSearchParams(n.search).get("code"),d=sessionStorage.getItem("processedAuthCode");if(p&&d===p){console.log("This code has already been processed in this session"),i("Login successful! Redirecting..."),setTimeout(()=>e("/"),1e3);return}p?(console.log("Authorization code found:",p),sessionStorage.setItem("processedAuthCode",p),await t(p),i("Login successful! Redirecting..."),setTimeout(()=>e("/"),1e3)):(console.error("No authorization code found in URL"),r("Authentication failed: No authorization code found"),setTimeout(()=>e("/login"),3e3))}catch(f){console.error("Error in LoginRedirect:",f),r(`Authentication error: ${f.message}`),setTimeout(()=>e("/login"),3e3)}})(),()=>{o.current=!1}),[e,t]),c.jsx("div",{className:"login-container",children:c.jsxs("div",{className:"login-box",children:[c.jsx("h2",{children:"Google Sign-In"}),s?c.jsx("div",{className:"error-message",children:s}):c.jsxs("div",{children:[c.jsx("p",{children:a}),c.jsx("div",{className:"loading-spinner"})]})]})})},Rh=()=>{const e=Ne(),t=Ie();return l.useEffect(()=>{const n=new URLSearchParams(t.search);console.log("LanderRedirect: Redirecting from /lander to / with params:",Object.fromEntries(n.entries())),e({pathname:"/",search:t.search})},[e,t.search]),c.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontFamily:"Arial, sans-serif"},children:[c.jsx("h2",{children:"Redirecting to Community Map..."}),c.jsx("p",{children:"Please wait while we take you to the community sales map."})]})},Dh=()=>{const[e,t]=l.useState(""),[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[u,f]=l.useState(!1),[p,d]=l.useState({type:"",text:""}),[h,m]=l.useState(!1),g=Ne(),v=Ie(),{resetPassword:y}=qe();l.useEffect(()=>{console.log("URL search:",v.search);const P=new URLSearchParams(v.search),S=P.get("token"),x=P.get("email");if(console.log("URL params extracted - token:",S?"exists":"missing","email:",x),S?(a(S),m(!0)):d({type:"error",text:"Invalid or missing reset token. Please request a new password reset link."}),x)console.log("Setting email from URL param:",x),o(x);else if(S)try{console.log("Attempting to extract email from token");const L=S.split(".");if(L.length===3){const C=JSON.parse(atob(L[1]));console.log("Token payload:",C),C.email&&(console.log("Found email in token:",C.email),o(C.email))}}catch(L){console.error("Error extracting email from token:",L)}},[v]);const b=P=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(P),w=async P=>{var S,x;if(P.preventDefault(),d({type:"",text:""}),!r){d({type:"error",text:"Missing reset token. Please request a new password reset link."});return}if(!i)try{const L=r.split(".");if(L.length===3){const C=JSON.parse(atob(L[1]));if(C.email)o(C.email);else{d({type:"error",text:"Could not retrieve email from reset token. Please contact support."});return}}}catch(L){console.error("Error parsing token:",L),d({type:"error",text:"Invalid token format. Please request a new password reset link."});return}if(!b(e)){d({type:"error",text:"Password must be at least 8 characters with at least one uppercase letter, one lowercase letter, one number, and one special character."});return}if(e!==n){d({type:"error",text:"Passwords do not match."});return}try{f(!0),console.warn("TOKEN: ",r),await y(r,e,i),d({type:"success",text:"Your password has been reset successfully. You will be redirected to the login page shortly."}),setTimeout(()=>{g("/login")},3e3)}catch(L){console.error("Password reset error:",L),d({type:"error",text:((x=(S=L.response)==null?void 0:S.data)==null?void 0:x.message)||"An error occurred during password reset. Please try again or request a new reset link."})}finally{f(!1)}};return console.log("Rendering with email:",i),c.jsx("div",{className:"password-reset-container",children:c.jsxs("div",{className:"password-reset-card",children:[c.jsx("h2",{children:"Reset Your Password"}),p.text&&c.jsx("div",{className:`message ${p.type}`,children:p.text}),h&&p.type!=="success"&&c.jsxs("form",{onSubmit:w,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Email Address"}),c.jsx("div",{className:"email-display",children:i||"No email available"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"New Password"}),c.jsx("input",{type:"password",id:"password",value:e,onChange:P=>t(P.target.value),required:!0}),c.jsx("small",{className:"password-requirements",children:"Password must be at least 8 characters with at least one uppercase letter, one lowercase letter, one number, and one special character."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),c.jsx("input",{type:"password",id:"confirmPassword",value:n,onChange:P=>s(P.target.value),required:!0})]}),c.jsx("button",{type:"submit",className:"reset-password-button",disabled:u,children:u?"Resetting...":"Reset Password"})]}),c.jsx("div",{className:"links",children:c.jsx("a",{href:"/login",className:"login-link",children:"Return to Login"})})]})})},Wl=l.createContext();function Th({children:e}){const[t,n]=l.useState(""),r={searchTerm:t,handleSearchChange:a=>{n(a.target.value.toLowerCase())}};return c.jsx(Wl.Provider,{value:r,children:e})}function Nr(){const e=l.useContext(Wl);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e}const ql=({isOpen:e,onClose:t})=>{const n=Ne();if(!e)return null;const s=()=>{t(),n("/login")};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",children:[c.jsx("h2",{children:"Authentication Required"}),c.jsx("p",{children:"You must be logged in to select garage sales."}),c.jsxs("div",{className:"modal-buttons",children:[c.jsx("button",{className:"modal-button cancel",onClick:t,children:"Return"}),c.jsx("button",{className:"modal-button login",onClick:s,children:"Go to Login"})]})]})})},_h=()=>{const{garageSales:e,loading:t,error:n,fetchGarageSales:s}=ys(),{searchTerm:r,handleSearchChange:a}=Nr(),{selectedSales:i,handleCheckboxChange:o,handleDeselectAll:u}=vs(),{showOnlySelected:f,toggleDisplayMode:p}=tn(),d=Ne(),h=Ie(),{isAuthenticated:m,userEmail:g,userInfo:v}=qe(),{communityName:y,setCommunityName:b,communityId:w,setCommunityId:P}=ot(),[S,x]=l.useState(!1),[L,C]=l.useState(!1),[O,j]=l.useState([]),[D,M]=l.useState(!1);l.useEffect(()=>{const T=new URLSearchParams(h.search).get("communityId");T&&(P(T),P(T),y?(console.log("GarageSales: Using community name from context:",y),b(y)):(console.log("GarageSales: Community name not in context, fetching from API"),(async()=>{try{const K=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/${T}`,z=await fetch(K,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(z.ok){const Z=(await z.json()).name||"Community Sale";b(Z),b(Z)}}catch(K){console.error("Error fetching community name:",K)}})()))},[h,y,P,b]),l.useEffect(()=>{s(w)},[s,w]),l.useEffect(()=>{(async()=>{if(m&&(v!=null&&v.userId))try{console.log("Fetching user address list for user:",v.userId);const T=await we.getUserAddressList(v.userId);if(T&&T.addressList&&T.addressList.length>0){console.log("User has saved address list on server:",T.addressList);const A=new Set(T.addressList);u(),A.forEach(K=>{o(K)}),console.log("Updated selections from server list")}else console.log("User does not have a saved address list on server, using local selections")}catch(T){console.error("Error fetching user address list:",T)}})()},[]);const B=N=>{if(!m){x(!0);return}o(N)},$=async()=>{if(u(),m&&(v!=null&&v.userId))try{console.log("Updating server with empty selection list for user:",v.userId);const N=await we.createUpdateUserAddressList(v.userId,[]);console.log("Successfully updated server with empty selection list:",N)}catch(N){console.error("Error updating server with empty selection list:",N)}},k=async()=>{const N=q.filter(T=>i.has(T.id));if(N.length>0){if(m&&(v!=null&&v.userId))try{console.log("Saving selected sales to server for user:",v.userId);const T=N.map(K=>K.id);console.log(`Filtered ${i.size} total selected sales to ${T.length} sales for current community ID: ${w}`);const A=await we.createUpdateUserAddressList(v.userId,T,w);console.log("Successfully saved selected sales to server:",A)}catch(T){console.error("Error saving selected sales to server:",T)}else console.log("User not authenticated, skipping server save of selected sales");f||p(),localStorage.setItem("selectedSales",JSON.stringify(N)),d(`/?communityId=${w||""}`)}else alert("Please select at least one garage sale to view on the map.")},[E,I]=l.useState(!1),R=async()=>{const N=i.size===0;if(I(N),console.log(`Optimizing ${N?"FULL route":"SELECTED sales route"}`),i.size>0&&m&&(v!=null&&v.userId))try{console.log("Saving selected sales to server before optimization for user:",v.userId);const A=q.filter(z=>i.has(z.id)).map(z=>z.id);console.log(`Saving ${A.length} selected sales for current community ID: ${w}`);const K=await we.createUpdateUserAddressList(v.userId,A,w);console.log("Successfully saved selected sales to server before optimization:",K)}catch(T){console.error("Error saving selected sales to server before optimization:",T)}C(!0)},U=async N=>{try{console.log("Selected first visit:",N);const T=localStorage.getItem("sessionId");let A=null;const K=!E&&i.size>0?"https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getOptimzedRoute/bySavedList":"https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getOptimzedRoute";console.log(`Using endpoint: ${K} (optimizeFullRoute=${E}, selectedSales.size=${i.size})`);const z=!E&&i.size>0?{startingAddressId:N,communityId:w,userId:(v==null?void 0:v.userId)||""}:{startingAddressId:N,communityId:w},G=await fetch(K,{method:"POST",headers:{"Content-Type":"application/json","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c","app-name":"postman-call",sessionId:T},body:JSON.stringify(z)});if(!G.ok)throw new Error(`API call failed: ${G.status} ${G.statusText}`);if(A=await G.json(),console.log("API Response:",A),A&&A.orderedWaypoints){console.log("Using optimised route data:",A);const Z={};e.forEach(re=>{if(re.address){const ae=re.address.toLowerCase().replace(/\s+/g," ").trim();Z[ae]=re}}),console.log("Address to sale map created with",Object.keys(Z).length,"entries");const W=[];console.log("Ordered waypoints from API:",A.orderedWaypoints),A.orderedWaypoints.forEach((re,ae)=>{let xe="";if(typeof re=="string"?xe=re:re&&typeof re=="object"&&(xe=re.address||re.location||""),console.log(`Processing waypoint ${ae+1}:`,xe),xe){const te=xe.toLowerCase().replace(/\s+/g," ").trim(),Oe=Z[te];Oe?(console.log("Found matching sale with ID:",Oe.id),W.push({id:Oe.id,address:Oe.address,description:Oe.description,position:Oe.position,routeOrder:ae+1})):(console.log("No matching sale found for address:",xe),W.push({address:xe,description:`Stop ${ae+1}`,routeOrder:ae+1}))}}),console.log("Filtered waypoints with route order:",W);const Y={...A,orderedWaypoints:W};localStorage.setItem("optimizedRoute",JSON.stringify(Y)),j(W),C(!1),M(!0)}else throw new Error("Invalid route data received")}catch(T){console.error("Error getting optimised route:",T),alert(`Error optimising route: ${T.message}`)}},V=()=>{C(!1),M(!1)},H=()=>{const N=JSON.parse(localStorage.getItem("optimizedRoute")||"{}");if(N.orderedWaypoints&&!E){const T=e.filter(A=>N.orderedWaypoints.some(K=>K.id===A.id));localStorage.setItem("selectedSales",JSON.stringify(T)),f||p()}else E&&p("showAll");d(`/?communityId=${w}&showOptimizedRoute=true`),M(!1)},q=e.filter(N=>(N.address||"").toLowerCase().includes(r.toLowerCase())||(N.description||"").toLowerCase().includes(r.toLowerCase()));if(t)return c.jsx("div",{className:"garage-sales-container",children:c.jsx("div",{className:"loading",children:"Loading garage sales..."})});if(n)return c.jsxs("div",{className:"garage-sales-container",children:[c.jsx("div",{className:"error",children:n}),c.jsx("button",{className:"retry-button",onClick:s,children:"Retry"})]});const J=e.filter(N=>i.has(N.id));if(D&&O.length>0)return c.jsxs("div",{className:"garage-sales-container",children:[c.jsx("h1",{children:y?`${y} - Optimised Route`:"Optimised Route"}),c.jsx("div",{className:"optimize-route-instructions",children:c.jsx("p",{children:c.jsx("strong",{children:"Your optimised route in order of visits:"})})}),c.jsx("div",{className:"optimized-addresses-list",children:O.map((N,T)=>c.jsxs("div",{className:"optimized-address-item",children:[c.jsx("div",{className:"address-number",children:T+1}),c.jsxs("div",{className:"address-content",children:[c.jsx("div",{className:"address-text",children:N.address||"No Address Available"}),c.jsx("div",{className:"address-description",children:N.description||""})]})]},T))}),c.jsxs("div",{className:"optimize-buttons",children:[c.jsx("button",{className:"back-button",onClick:V,children:"← Back to Selection"}),c.jsx("button",{className:"proceed-button",onClick:H,children:"View on Map"})]})]});if(L){const N=i.size>0?J:q,T=i.size>0?`Showing ${N.length} selected garage sales`:`Showing all ${N.length} garage sales`;return c.jsxs("div",{className:"garage-sales-container",children:[c.jsx("h1",{children:y?`${y} - Optimised Route`:"Optimised Route"}),c.jsx("div",{className:"optimize-route-instructions",children:c.jsx("p",{children:c.jsx("strong",{children:"Click on the address which will be your first visit"})})}),c.jsx("button",{className:"back-button",onClick:V,children:"← Back to Selection"}),c.jsx("div",{className:"garage-sales-list",children:N.map(A=>c.jsx("div",{className:"garage-sale-card clickable-card",onClick:()=>U(A.id),children:c.jsxs("div",{className:"sale-content",children:[c.jsx("h3",{children:A.address||"No Address Available"}),c.jsx("p",{children:A.description||"No Description Available"})]})},A.id))}),c.jsx("div",{className:"total-count",children:T})]})}return c.jsxs("div",{className:"garage-sales-container",children:[c.jsx("h1",{children:y?`${y}`:"Garage Sales"}),m&&c.jsxs("div",{className:"user-info",children:[c.jsxs("div",{className:"user-name",children:[v==null?void 0:v.fName," ",v==null?void 0:v.lName]}),c.jsx("div",{className:"user-email",children:g})]}),c.jsxs("div",{className:"controls-container",children:[c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Search by address or description...",value:r,onChange:a,className:"search-input"})}),c.jsxs("div",{className:"selection-controls",children:[i.size>0?c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"select-all-button",onClick:$,children:"Deselect All"}),c.jsxs("button",{className:"view-selected-button",onClick:k,children:["View and Save Selected (",i.size,")"]})]}):null,c.jsx("button",{className:"view-selected-button",onClick:R,children:i.size>0?"Optimise Selected Route":"Optimise Full Route"})]})]}),q.length===0?c.jsx("div",{className:"no-results",children:"No garage sales found matching your search."}):c.jsx("div",{className:"garage-sales-list",children:q.map(N=>c.jsxs("div",{className:"garage-sale-card",children:[c.jsx("div",{className:"card-header",children:c.jsxs("label",{className:"checkbox-container",children:[c.jsx("input",{type:"checkbox",checked:i.has(N.id),onChange:()=>B(N.id)}),c.jsx("span",{className:"checkmark"})]})}),c.jsxs("div",{className:"sale-content",children:[c.jsx("h3",{children:N.address||"No Address Available"}),c.jsx("p",{children:N.description||"No Description Available"})]})]},N.id))}),c.jsxs("div",{className:"total-count",children:["Showing ",q.length," of ",e.length," garage sales",i.size>0&&` (${i.size} selected)`]}),c.jsx(ql,{isOpen:S,onClose:()=>x(!1)})]})},Uh=()=>{const[e,t]=l.useState([]),[n,s]=l.useState(!0),[r,a]=l.useState(null),[i,o]=l.useState("Individual Garage Sales"),{searchTerm:u,handleSearchChange:f}=Nr(),{selectedSales:p,handleCheckboxChange:d,handleDeselectAll:h}=vs(),{showOnlySelected:m,toggleDisplayMode:g}=tn(),v=Ne();Ie();const{isAuthenticated:y,userInfo:b,userEmail:w}=qe(),[P,S]=l.useState(!1);l.useEffect(()=>{(async()=>{s(!0),a(null);try{const B="https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getAddressByCommunity/GENPUB";console.log("SingleGarageSales: Fetching data from API URL:",B);let $;try{const k=await fetch(B,{method:"GET",headers:{"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(!k.ok)throw new Error(`API request failed with status ${k.status}`);$=await k.json(),console.log("SingleGarageSales: Data received from API:",$),sessionStorage.setItem("garageSalesData",JSON.stringify($))}catch(k){console.error("Error fetching from API:",k);const E=sessionStorage.getItem("garageSalesData");if(E)console.log("Using cached data from sessionStorage"),$=JSON.parse(E);else throw new Error("No cached data available and API request failed")}if(console.log("Raw data to process:",$),$&&Array.isArray($)){const k=$.map(E=>{const I=E.address||{},R=[I.streetNum,I.street,I.city,I.provState,I.postalZipCode].filter(Boolean).join(", ");return{id:E.id||`sale-${Math.random().toString(36).substr(2,9)}`,address:R,fullAddress:I,description:E.description||"",name:E.name||"GARAGE SALE",highlightedItems:Array.isArray(E.highlightedItems)?E.highlightedItems.join(", "):"",community:E.community||"GENPUB",position:{lat:parseFloat(I.lat)||0,lng:parseFloat(I.long)||0}}});console.log("Processed sales data:",k),t(k)}else console.log("No valid garage sales data found"),t([])}catch(B){console.error("Error in garage sales processing:",B),a("Failed to load garage sales. Please try again later."),t([])}finally{s(!1)}})()},[]),l.useEffect(()=>{(async()=>{if(y&&(b!=null&&b.userId))try{console.log("Fetching user address list for user:",b.userId);const B=await we.getUserAddressList(b.userId);if(B&&B.addressList&&B.addressList.length>0){console.log("User has saved address list on server:",B.addressList);const $=new Set(B.addressList);h(),$.forEach(k=>{d(k)}),console.log("Updated selections from server list")}else console.log("User does not have a saved address list on server, using local selections")}catch(B){console.error("Error fetching user address list:",B)}})()},[]);const x=M=>{if(!y){S(!0);return}d(M)},L=M=>{const B={...M,lat:M.position.lat,lng:M.position.lng,address:M.address,description:M.description};localStorage.setItem("selectedSales",JSON.stringify([B])),v("/?communityId=GENPUB")},C=async()=>{if(h(),y&&(b!=null&&b.userId))try{console.log("Updating server with empty selection list for user:",b.userId);const M=await we.createUpdateUserAddressList(b.userId,[]);console.log("Successfully updated server with empty selection list:",M)}catch(M){console.error("Error updating server with empty selection list:",M)}},O=()=>{const M=new Set(e.map(B=>B.id));if(setSelectedSales(M),y&&(b!=null&&b.userId))try{console.log("Saving all selections to server for user:",b.userId);const B=Array.from(M);we.createUpdateUserAddressList(b.userId,B,"GENPUB"),console.log("Successfully saved all selections to server")}catch(B){console.error("Error saving all selections to server:",B)}};console.log("Current garageSales state:",e),console.log("Number of garage sales:",e.length);const j=e.filter(M=>{const B=!u||M.address&&M.address.toLowerCase().includes(u.toLowerCase())||M.description&&M.description.toLowerCase().includes(u.toLowerCase())||M.name&&M.name.toLowerCase().includes(u.toLowerCase())||M.highlightedItems&&M.highlightedItems.toLowerCase().includes(u.toLowerCase()),$=!m||p.has(M.id);return B&&$});console.log("Filtered sales:",j),console.log("Number of filtered sales:",j.length);const D=async()=>{const M=j.filter(B=>p.has(B.id));if(M.length>0){if(y&&(b!=null&&b.userId))try{console.log("Saving selected sales to server for user:",b.userId);const B=M.map(k=>k.id),$=await we.createUpdateUserAddressList(b.userId,B,"GENPUB");console.log("Successfully saved selected sales to server:",$)}catch(B){console.error("Error saving selected sales to server:",B)}else console.log("User not authenticated, skipping server save of selected sales");m||g(),localStorage.setItem("selectedSales",JSON.stringify(M)),v("/?communityId=GENPUB")}else alert("Please select at least one garage sale to view on the map.")};return c.jsxs("div",{className:"garage-sales-container",children:[c.jsx("h1",{children:"Individual Garage Sales"}),y&&b&&c.jsxs("div",{className:"user-info",children:[c.jsxs("div",{className:"user-name",children:[b==null?void 0:b.fName," ",b==null?void 0:b.lName]}),(b==null?void 0:b.email)&&c.jsx("div",{className:"user-email",children:b.email})]}),c.jsxs("div",{className:"controls-container",children:[c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Search by address or description...",value:u,onChange:M=>f(M.target.value),className:"search-input"})}),c.jsx("div",{className:"selection-controls",children:p.size>0?c.jsxs(c.Fragment,{children:[c.jsxs("button",{className:"select-all-button",onClick:C,children:["Deselect All (",p.size,")"]}),c.jsx("button",{className:"view-selected-button",onClick:D,disabled:p.size===0,children:"View Selected on Map"})]}):c.jsx("button",{className:"select-all-button",onClick:O,children:"Select All"})})]}),n&&c.jsx("div",{className:"loading",children:"Loading garage sales..."}),r&&c.jsx("div",{className:"error",children:r}),!n&&!r&&c.jsxs(c.Fragment,{children:[j.length===0?c.jsx("div",{className:"no-results",children:"No garage sales found matching your search."}):c.jsx("div",{className:"garage-sales-list",children:j.map(M=>c.jsxs("div",{className:"garage-sale-card",children:[c.jsx("div",{className:"card-header",children:c.jsxs("label",{className:"checkbox-container",children:[c.jsx("input",{type:"checkbox",checked:p.has(M.id),onChange:()=>x(M.id)}),c.jsx("span",{className:"checkmark"})]})}),c.jsxs("div",{className:"sale-content",children:[c.jsx("h3",{children:M.name||"GARAGE SALE"}),c.jsxs("div",{className:"sale-address-details",children:[M.fullAddress&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"address-line",children:[M.fullAddress.streetNum," ",M.fullAddress.street]}),c.jsxs("p",{className:"address-line",children:[M.fullAddress.city,", ",M.fullAddress.provState," ",M.fullAddress.postalZipCode]})]}),!M.fullAddress&&c.jsx("p",{children:"No Address Available"})]}),M.description&&c.jsx("p",{className:"sale-description",children:M.description}),M.highlightedItems&&c.jsxs("p",{className:"sale-items",children:[c.jsx("strong",{children:"Featured Items:"})," ",M.highlightedItems]})]}),c.jsx("button",{className:"view-map-button",onClick:()=>L(M),children:"View on Map"})]},M.id))}),c.jsxs("div",{className:"total-count",children:["Showing ",j.length," of ",e.length," garage sales",p.size>0&&` (${p.size} selected)`]})]}),P&&c.jsx(ql,{onClose:()=>S(!1),message:"Please log in to save garage sales to your list."})]})},Fh=()=>{const e=Ne(),{isAuthenticated:t,userInfo:n}=qe(),[s,r]=l.useState({name:"",description:"",streetNum:"",street:"",city:"",provState:"",postalZipCode:"",highlightedItems:"",startDate:"",endDate:""}),[a,i]=l.useState(!1),[o,u]=l.useState(null),[f,p]=l.useState(!1),[d,h]=l.useState(null),[m,g]=l.useState(!1);l.useEffect(()=>{if(!t){e("/login?returnTo=/register-garage-sale");return}(async()=>{var x,L,C,O,j;i(!0);try{const D=await we.getUserGarageSale(n.id);if(D.data&&D.data.length>0){const M=D.data[0];h(M),r({name:M.name||"",description:M.description||"",streetNum:((x=M.address)==null?void 0:x.streetNum)||"",street:((L=M.address)==null?void 0:L.street)||"",city:((C=M.address)==null?void 0:C.city)||"",provState:((O=M.address)==null?void 0:O.provState)||"",postalZipCode:((j=M.address)==null?void 0:j.postalZipCode)||"",highlightedItems:Array.isArray(M.highlightedItems)?M.highlightedItems.join(", "):M.highlightedItems||"",startDate:M.startDate||"",endDate:M.endDate||""})}}catch(D){console.error("Error fetching user garage sale:",D)}finally{i(!1)}})()},[t,e,n]);const v=S=>{const{name:x,value:L}=S.target;r(C=>({...C,[x]:L}))},y=async S=>{var x,L;S.preventDefault(),i(!0),u(null);try{const C={name:s.name,description:s.description,address:{streetNum:s.streetNum,street:s.street,city:s.city,provState:s.provState,postalZipCode:s.postalZipCode},highlightedItems:s.highlightedItems.split(",").map(M=>M.trim()),startDate:s.startDate,endDate:s.endDate,community:"GENPUB",userId:n.id};let O;d&&m?(O=await we.updateGarageSale(d.id,C),p("Your garage sale has been updated successfully!")):(O=await we.createGarageSale(C),p("Your garage sale has been registered successfully!")),h(O.data),g(!1);const j=JSON.parse(sessionStorage.getItem("garageSalesData")||"[]"),D=m?j.map(M=>M.id===d.id?O.data:M):[...j,O.data];sessionStorage.setItem("garageSalesData",JSON.stringify(D))}catch(C){console.error("Error saving garage sale:",C),u(((L=(x=C.response)==null?void 0:x.data)==null?void 0:L.message)||"Failed to save your garage sale. Please try again.")}finally{i(!1)}},b=async()=>{var S,x;if(d&&window.confirm("Are you sure you want to delete your garage sale? This action cannot be undone.")){i(!0);try{await we.deleteGarageSale(d.id);const C=JSON.parse(sessionStorage.getItem("garageSalesData")||"[]").filter(O=>O.id!==d.id);sessionStorage.setItem("garageSalesData",JSON.stringify(C)),h(null),r({name:"",description:"",streetNum:"",street:"",city:"",provState:"",postalZipCode:"",highlightedItems:"",startDate:"",endDate:""}),p("Your garage sale has been deleted successfully.")}catch(L){console.error("Error deleting garage sale:",L),u(((x=(S=L.response)==null?void 0:S.data)==null?void 0:x.message)||"Failed to delete your garage sale. Please try again.")}finally{i(!1)}}},w=()=>{g(!0),p(null)},P=()=>{var S,x,L,C,O;d&&r({name:d.name||"",description:d.description||"",streetNum:((S=d.address)==null?void 0:S.streetNum)||"",street:((x=d.address)==null?void 0:x.street)||"",city:((L=d.address)==null?void 0:L.city)||"",provState:((C=d.address)==null?void 0:C.provState)||"",postalZipCode:((O=d.address)==null?void 0:O.postalZipCode)||"",highlightedItems:Array.isArray(d.highlightedItems)?d.highlightedItems.join(", "):d.highlightedItems||"",startDate:d.startDate||"",endDate:d.endDate||""}),g(!1),u(null)};return c.jsxs("div",{className:"garage-sales-container",children:[c.jsx("h1",{children:d&&!m?"Your Garage Sale":"Register a Garage Sale"}),a&&c.jsx("div",{className:"loading",children:"Loading..."}),o&&c.jsxs("div",{className:"error",children:[o,c.jsx("button",{className:"retry-button",onClick:()=>u(null),children:"Dismiss"})]}),f&&!m&&c.jsx("div",{className:"success-message",children:f}),d&&!m?c.jsxs("div",{className:"existing-sale-container",children:[c.jsx("div",{className:"garage-sale-card",children:c.jsxs("div",{className:"sale-content",children:[c.jsx("h3",{children:d.name||"GARAGE SALE"}),c.jsx("div",{className:"sale-address-details",children:d.address&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"address-line",children:[d.address.streetNum," ",d.address.street]}),c.jsxs("p",{className:"address-line",children:[d.address.city,", ",d.address.provState," ",d.address.postalZipCode]})]})}),d.description&&c.jsx("p",{className:"sale-description",children:d.description}),d.highlightedItems&&c.jsxs("p",{className:"sale-items",children:[c.jsx("strong",{children:"Featured Items:"})," ",Array.isArray(d.highlightedItems)?d.highlightedItems.join(", "):d.highlightedItems]}),c.jsxs("div",{className:"sale-dates",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Start Date:"})," ",new Date(d.startDate).toLocaleDateString()]}),c.jsxs("p",{children:[c.jsx("strong",{children:"End Date:"})," ",new Date(d.endDate).toLocaleDateString()]})]})]})}),c.jsxs("div",{className:"sale-actions",children:[c.jsx("button",{className:"edit-button",onClick:w,children:"Edit Garage Sale"}),c.jsx("button",{className:"delete-button",onClick:b,children:"Delete Garage Sale"})]})]}):c.jsxs("form",{className:"garage-sale-form",onSubmit:y,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"name",children:"Garage Sale Name"}),c.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:v,placeholder:"e.g., Spring Cleaning Sale",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"description",children:"Description"}),c.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:v,placeholder:"Describe your garage sale...",rows:4,required:!0})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"streetNum",children:"Street Number"}),c.jsx("input",{type:"text",id:"streetNum",name:"streetNum",value:s.streetNum,onChange:v,placeholder:"123",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"street",children:"Street Name"}),c.jsx("input",{type:"text",id:"street",name:"street",value:s.street,onChange:v,placeholder:"Main St",required:!0})]})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"city",children:"City"}),c.jsx("input",{type:"text",id:"city",name:"city",value:s.city,onChange:v,placeholder:"Cityville",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"provState",children:"Province/State"}),c.jsx("input",{type:"text",id:"provState",name:"provState",value:s.provState,onChange:v,placeholder:"ON",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"postalZipCode",children:"Postal/Zip Code"}),c.jsx("input",{type:"text",id:"postalZipCode",name:"postalZipCode",value:s.postalZipCode,onChange:v,placeholder:"A1A 1A1",required:!0})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"highlightedItems",children:"Featured Items (comma separated)"}),c.jsx("input",{type:"text",id:"highlightedItems",name:"highlightedItems",value:s.highlightedItems,onChange:v,placeholder:"Furniture, Electronics, Toys"})]}),c.jsxs("div",{className:"form-row",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"startDate",children:"Start Date"}),c.jsx("input",{type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:v,required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"endDate",children:"End Date"}),c.jsx("input",{type:"date",id:"endDate",name:"endDate",value:s.endDate,onChange:v,required:!0})]})]}),c.jsxs("div",{className:"form-actions",children:[m&&c.jsx("button",{type:"button",className:"cancel-button",onClick:P,children:"Cancel"}),c.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Saving...":m?"Update Garage Sale":"Register Garage Sale"})]})]})]})},Bh=({value:e,onChange:t,minRows:n=3,...s})=>{const r=l.useRef(null),a=()=>{const o=r.current;if(o){o.style.height="auto";const u=n*parseFloat(getComputedStyle(o).lineHeight),f=Math.max(u,o.scrollHeight);o.style.height=`${f}px`}};l.useEffect(()=>{a()},[e]);const i=o=>{const{name:u,value:f}=o.target;t({target:{name:u,value:f}}),a()};return c.jsx("textarea",{ref:r,value:e||"",onChange:i,style:{overflow:"hidden",resize:"none",minHeight:`${n*1.5}em`},...s})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vt=function(){return vt=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},vt.apply(this,arguments)};function Vh(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(f){try{u(s.next(f))}catch(p){a(p)}}function o(f){try{u(s.throw(f))}catch(p){a(p)}}function u(f){var p;f.done?r(f.value):(p=f.value,p instanceof n?p:new n(function(d){d(p)})).then(i,o)}u((s=s.apply(e,[])).next())})}function zh(e,t){var n,s,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return function(p){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(r=2&p[0]?s.return:p[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,p[1])).done)return r;switch(s=0,r&&(p=[2&p[0],r.value]),p[0]){case 0:case 1:r=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,s=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!((r=r.length>0&&r[r.length-1])||p[0]!==6&&p[0]!==2)){i=0;continue}if(p[0]===3&&(!r||p[1]>r[0]&&p[1]<r[3])){i.label=p[1];break}if(p[0]===6&&i.label<r[1]){i.label=r[1],r=p;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(p);break}r[2]&&i.ops.pop(),i.trys.pop();continue}p=t.call(e,i)}catch(d){p=[6,d],s=0}finally{n=r=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([u,f])}}}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},se.apply(this,arguments)}function yt(e){return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yt(e)}function Zl(e){var t=function(n,s){if(yt(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,s);if(yt(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}(e,"string");return yt(t)==="symbol"?t:String(t)}function Et(e,t,n){return(t=Zl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$i(Object(n),!0).forEach(function(s){Et(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$i(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Gi(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Zl(s.key),s)}}function cr(e,t){return cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cr(e,t)}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}function $h(e,t){if(t&&(yt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Gh(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,s=ns(e);if(t){var r=ns(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return $h(this,n)}}function ur(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Jl(e,t){if(e){if(typeof e=="string")return ur(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ur(e,t):void 0}}function Ar(e){return function(t){if(Array.isArray(t))return ur(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Jl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Hh=function(){function e(n){var s=this;this._insertTag=function(r){var a;a=s.tags.length===0?s.insertionPoint?s.insertionPoint.nextSibling:s.prepend?s.container.firstChild:s.before:s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(r,a),s.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(a){var i=document.createElement("style");return i.setAttribute("data-emotion",a.key),a.nonce!==void 0&&i.setAttribute("nonce",a.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(a){if(a.sheet)return a.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===a)return document.styleSheets[i]}(s);try{r.insertRule(n,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Je="-ms-",Hi="-moz-",ve="-webkit-",Rr="decl",Kl="@keyframes",Wh=Math.abs,bs=String.fromCharCode,qh=Object.assign;function Yl(e){return e.trim()}function ye(e,t,n){return e.replace(t,n)}function dr(e,t){return e.indexOf(t)}function _e(e,t){return 0|e.charCodeAt(t)}function Jt(e,t,n){return e.slice(t,n)}function Xe(e){return e.length}function Dr(e){return e.length}function yn(e,t){return t.push(e),e}var ws=1,Mt=1,Ql=0,$e=0,Me=0,Dt="";function xs(e,t,n,s,r,a,i){return{value:e,root:t,parent:n,type:s,props:r,children:a,line:ws,column:Mt,length:i,return:""}}function Vt(e,t){return qh(xs("",null,null,"",null,null,0),e,{length:-e.length},t)}function We(){return Me=$e<Ql?_e(Dt,$e++):0,Mt++,Me===10&&(Mt=1,ws++),Me}function nt(){return _e(Dt,$e)}function kn(){return $e}function sn(e,t){return Jt(Dt,e,t)}function Kt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Xl(e){return ws=Mt=1,Ql=Xe(Dt=e),$e=0,[]}function ec(e){return Dt="",e}function In(e){return Yl(sn($e-1,pr(e===91?e+2:e===40?e+1:e)))}function Zh(e){for(;(Me=nt())&&Me<33;)We();return Kt(e)>2||Kt(Me)>3?"":" "}function Jh(e,t){for(;--t&&We()&&!(Me<48||Me>102||Me>57&&Me<65||Me>70&&Me<97););return sn(e,kn()+(t<6&&nt()==32&&We()==32))}function pr(e){for(;We();)switch(Me){case e:return $e;case 34:case 39:e!==34&&e!==39&&pr(Me);break;case 40:e===41&&pr(e);break;case 92:We()}return $e}function Kh(e,t){for(;We()&&e+Me!==57&&(e+Me!==84||nt()!==47););return"/*"+sn(t,$e-1)+"*"+bs(e===47?e:We())}function Yh(e){for(;!Kt(nt());)We();return sn(e,$e)}function Wi(e){return ec(Nn("",null,null,null,[""],e=Xl(e),0,[0],e))}function Nn(e,t,n,s,r,a,i,o,u){for(var f=0,p=0,d=i,h=0,m=0,g=0,v=1,y=1,b=1,w=0,P="",S=r,x=a,L=s,C=P;y;)switch(g=w,w=We()){case 40:if(g!=108&&_e(C,d-1)==58){dr(C+=ye(In(w),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:C+=In(w);break;case 9:case 10:case 13:case 32:C+=Zh(g);break;case 92:C+=Jh(kn()-1,7);continue;case 47:switch(nt()){case 42:case 47:yn(Qh(Kh(We(),kn()),t,n),u);break;default:C+="/"}break;case 123*v:o[f++]=Xe(C)*b;case 125*v:case 59:case 0:switch(w){case 0:case 125:y=0;case 59+p:m>0&&Xe(C)-d&&yn(m>32?Zi(C+";",s,n,d-1):Zi(ye(C," ","")+";",s,n,d-2),u);break;case 59:C+=";";default:if(yn(L=qi(C,t,n,f,p,r,o,P,S=[],x=[],d),a),w===123)if(p===0)Nn(C,t,L,L,S,a,d,o,x);else switch(h===99&&_e(C,3)===110?100:h){case 100:case 109:case 115:Nn(e,L,L,s&&yn(qi(e,L,L,0,0,r,o,P,r,S=[],d),x),r,x,d,o,s?S:x);break;default:Nn(C,L,L,L,[""],x,0,o,x)}}f=p=m=0,v=b=1,P=C="",d=i;break;case 58:d=1+Xe(C),m=g;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&(Me=$e>0?_e(Dt,--$e):0,Mt--,Me===10&&(Mt=1,ws--),Me==125))continue}switch(C+=bs(w),w*v){case 38:b=p>0?1:(C+="\f",-1);break;case 44:o[f++]=(Xe(C)-1)*b,b=1;break;case 64:nt()===45&&(C+=In(We())),h=nt(),p=d=Xe(P=C+=Yh(kn())),w++;break;case 45:g===45&&Xe(C)==2&&(v=0)}}return a}function qi(e,t,n,s,r,a,i,o,u,f,p){for(var d=r-1,h=r===0?a:[""],m=Dr(h),g=0,v=0,y=0;g<s;++g)for(var b=0,w=Jt(e,d+1,d=Wh(v=i[g])),P=e;b<m;++b)(P=Yl(v>0?h[b]+" "+w:ye(w,/&\f/g,h[b])))&&(u[y++]=P);return xs(e,t,n,r===0?"rule":o,u,f,p)}function Qh(e,t,n){return xs(e,t,n,"comm",bs(Me),Jt(e,2,-2),0)}function Zi(e,t,n,s){return xs(e,t,n,Rr,Jt(e,0,s),Jt(e,s+1,-1),s)}function bt(e,t){for(var n="",s=Dr(e),r=0;r<s;r++)n+=t(e[r],r,e,t)||"";return n}function Ji(e,t,n,s){switch(e.type){case"@import":case Rr:return e.return=e.return||e.value;case"comm":return"";case Kl:return e.return=e.value+"{"+bt(e.children,s)+"}";case"rule":e.value=e.props.join(",")}return Xe(n=bt(e.children,s))?e.return=e.value+"{"+n+"}":""}function Ki(e){var t=Dr(e);return function(n,s,r,a){for(var i="",o=0;o<t;o++)i+=e[o](n,s,r,a)||"";return i}}function Xh(e){return function(t){t.root||(t=t.return)&&e(t)}}function tc(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var eg=function(e,t,n){for(var s=0,r=0;s=r,r=nt(),s===38&&r===12&&(t[n]=1),!Kt(r);)We();return sn(e,$e)},tg=function(e,t){return ec(function(n,s){var r=-1,a=44;do switch(Kt(a)){case 0:a===38&&nt()===12&&(s[r]=1),n[r]+=eg($e-1,s,r);break;case 2:n[r]+=In(a);break;case 4:if(a===44){n[++r]=nt()===58?"&\f":"",s[r]=n[r].length;break}default:n[r]+=bs(a)}while(a=We());return n}(Xl(e),t))},Yi=new WeakMap,ng=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(!(n=n.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||Yi.get(n))&&!s){Yi.set(e,!0);for(var r=[],a=tg(t,r),i=n.props,o=0,u=0;o<a.length;o++)for(var f=0;f<i.length;f++,u++)e.props[u]=r[o]?a[o].replace(/&\f/g,i[f]):i[f]+" "+a[o]}}},sg=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function nc(e,t){switch(function(n,s){return 45^_e(n,0)?(((s<<2^_e(n,0))<<2^_e(n,1))<<2^_e(n,2))<<2^_e(n,3):0}(e,t)){case 5103:return ve+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+e+Hi+e+Je+e+e;case 6828:case 4268:return ve+e+Je+e+e;case 6165:return ve+e+Je+"flex-"+e+e;case 5187:return ve+e+ye(e,/(\w+).+(:[^]+)/,ve+"box-$1$2-ms-flex-$1$2")+e;case 5443:return ve+e+Je+"flex-item-"+ye(e,/flex-|-self/,"")+e;case 4675:return ve+e+Je+"flex-line-pack"+ye(e,/align-content|flex-|-self/,"")+e;case 5548:return ve+e+Je+ye(e,"shrink","negative")+e;case 5292:return ve+e+Je+ye(e,"basis","preferred-size")+e;case 6060:return ve+"box-"+ye(e,"-grow","")+ve+e+Je+ye(e,"grow","positive")+e;case 4554:return ve+ye(e,/([^-])(transform)/g,"$1"+ve+"$2")+e;case 6187:return ye(ye(ye(e,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),e,"")+e;case 5495:case 3959:return ye(e,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return ye(ye(e,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+e+e;case 4095:case 3583:case 4068:case 2532:return ye(e,/(.+)-inline(.+)/,ve+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Xe(e)-1-t>6)switch(_e(e,t+1)){case 109:if(_e(e,t+4)!==45)break;case 102:return ye(e,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+Hi+(_e(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~dr(e,"stretch")?nc(ye(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_e(e,t+1)!==115)break;case 6444:switch(_e(e,Xe(e)-3-(~dr(e,"!important")&&10))){case 107:return ye(e,":",":"+ve)+e;case 101:return ye(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(_e(e,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1-ms-$2box$3")+e}break;case 5936:switch(_e(e,t+11)){case 114:return ve+e+Je+ye(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ve+e+Je+ye(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ve+e+Je+ye(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ve+e+Je+e+e}return e}var Qi,bn,An=typeof document<"u",rg=An?void 0:(Qi=function(){return tc(function(){var e={};return function(t){return e[t]}})},bn=new WeakMap,function(e){if(bn.has(e))return bn.get(e);var t=Qi(e);return bn.set(e,t),t}),og=[function(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case Rr:e.return=nc(e.value,e.length);break;case Kl:return bt([Vt(e,{value:ye(e.value,"@","@"+ve)})],s);case"rule":if(e.length)return function(r,a){return r.map(a).join("")}(e.props,function(r){switch(function(a,i){return(a=i.exec(a))?a[0]:a}(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return bt([Vt(e,{props:[ye(r,/:(read-\w+)/,":-moz-$1")]})],s);case"::placeholder":return bt([Vt(e,{props:[ye(r,/:(plac\w+)/,":"+ve+"input-$1")]}),Vt(e,{props:[ye(r,/:(plac\w+)/,":-moz-$1")]}),Vt(e,{props:[ye(r,/:(plac\w+)/,"-ms-input-$1")]})],s)}return""})}}],sc=function(e){var t=e.key;if(An&&t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){b.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var s=e.stylisPlugins||og,r,a,i={},o=[];An&&(r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(b){for(var w=b.getAttribute("data-emotion").split(" "),P=1;P<w.length;P++)i[w[P]]=!0;o.push(b)}));var u=[ng,sg];if(An){var f,p=[Ji,Xh(function(b){f.insert(b)})],d=Ki(u.concat(s,p));a=function(b,w,P,S){f=P,bt(Wi(b?b+"{"+w.styles+"}":w.styles),d),S&&(y.inserted[w.name]=!0)}}else{var h=[Ji],m=Ki(u.concat(s,h)),g=rg(s)(t),v=function(b,w){var P=w.name;return g[P]===void 0&&(g[P]=bt(Wi(b?b+"{"+w.styles+"}":w.styles),m)),g[P]};a=function(b,w,P,S){var x=w.name,L=v(b,w);return y.compat===void 0?(S&&(y.inserted[x]=!0),L):S?void(y.inserted[x]=L):L}}var y={key:t,sheet:new Hh({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return y.sheet.hydrate(o),y};function be(e,t,n){return e(n={path:t,exports:{},require:function(s,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(r==null&&n.path)}},n.exports),n.exports}var De=typeof Symbol=="function"&&Symbol.for,fr=De?Symbol.for("react.element"):60103,hr=De?Symbol.for("react.portal"):60106,Rn=De?Symbol.for("react.fragment"):60107,Dn=De?Symbol.for("react.strict_mode"):60108,Tn=De?Symbol.for("react.profiler"):60114,_n=De?Symbol.for("react.provider"):60109,Un=De?Symbol.for("react.context"):60110,gr=De?Symbol.for("react.async_mode"):60111,ss=De?Symbol.for("react.concurrent_mode"):60111,Fn=De?Symbol.for("react.forward_ref"):60112,Bn=De?Symbol.for("react.suspense"):60113,ig=De?Symbol.for("react.suspense_list"):60120,Vn=De?Symbol.for("react.memo"):60115,zn=De?Symbol.for("react.lazy"):60116,ag=De?Symbol.for("react.block"):60121,lg=De?Symbol.for("react.fundamental"):60117,cg=De?Symbol.for("react.responder"):60118,ug=De?Symbol.for("react.scope"):60119;function Ge(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fr:switch(e=e.type){case gr:case ss:case Rn:case Tn:case Dn:case Bn:return e;default:switch(e=e&&e.$$typeof){case Un:case Fn:case zn:case Vn:case _n:return e;default:return t}}case hr:return t}}}function Xi(e){return Ge(e)===ss}var dg={AsyncMode:gr,ConcurrentMode:ss,ContextConsumer:Un,ContextProvider:_n,Element:fr,ForwardRef:Fn,Fragment:Rn,Lazy:zn,Memo:Vn,Portal:hr,Profiler:Tn,StrictMode:Dn,Suspense:Bn,isAsyncMode:function(e){return Xi(e)||Ge(e)===gr},isConcurrentMode:Xi,isContextConsumer:function(e){return Ge(e)===Un},isContextProvider:function(e){return Ge(e)===_n},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fr},isForwardRef:function(e){return Ge(e)===Fn},isFragment:function(e){return Ge(e)===Rn},isLazy:function(e){return Ge(e)===zn},isMemo:function(e){return Ge(e)===Vn},isPortal:function(e){return Ge(e)===hr},isProfiler:function(e){return Ge(e)===Tn},isStrictMode:function(e){return Ge(e)===Dn},isSuspense:function(e){return Ge(e)===Bn},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===Rn||e===ss||e===Tn||e===Dn||e===Bn||e===ig||typeof e=="object"&&e!==null&&(e.$$typeof===zn||e.$$typeof===Vn||e.$$typeof===_n||e.$$typeof===Un||e.$$typeof===Fn||e.$$typeof===lg||e.$$typeof===cg||e.$$typeof===ug||e.$$typeof===ag)},typeOf:Ge};be(function(e,t){});var ea=be(function(e){e.exports=dg}),ta={};ta[ea.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ta[ea.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var mr=typeof document<"u";function rc(e,t,n){var s="";return n.split(" ").forEach(function(r){e[r]!==void 0?t.push(e[r]+";"):s+=r+" "}),s}var Tr=function(e,t,n){var s=e.key+"-"+t.name;(n===!1||mr===!1&&e.compat!==void 0)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},_r=function(e,t,n){Tr(e,t,n);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r="",a=t;do{var i=e.insert(t===a?"."+s:"",a,e.sheet,!0);mr||i===void 0||(r+=i),a=a.next}while(a!==void 0);if(!mr&&r.length!==0)return r}},pg={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fg=/[A-Z]|^ms/g,hg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oc=function(e){return e.charCodeAt(1)===45},na=function(e){return e!=null&&typeof e!="boolean"},Bs=tc(function(e){return oc(e)?e:e.replace(fg,"-$&").toLowerCase()}),sa=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(hg,function(n,s,r){return et={name:s,styles:r,next:et},s})}return pg[e]===1||oc(e)||typeof t!="number"||t===0?t:t+"px"};function Gt(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":if(n.anim===1)return et={name:n.name,styles:n.styles,next:et},n.name;if(n.styles!==void 0){var s=n.next;if(s!==void 0)for(;s!==void 0;)et={name:s.name,styles:s.styles,next:et},s=s.next;var r=n.styles+";";return r}return function(u,f,p){var d="";if(Array.isArray(p))for(var h=0;h<p.length;h++)d+=Gt(u,f,p[h])+";";else for(var m in p){var g=p[m];if(typeof g!="object")f!=null&&f[g]!==void 0?d+=m+"{"+f[g]+"}":na(g)&&(d+=Bs(m)+":"+sa(m,g)+";");else if(!Array.isArray(g)||typeof g[0]!="string"||f!=null&&f[g[0]]!==void 0){var v=Gt(u,f,g);switch(m){case"animation":case"animationName":d+=Bs(m)+":"+v+";";break;default:d+=m+"{"+v+"}"}}else for(var y=0;y<g.length;y++)na(g[y])&&(d+=Bs(m)+":"+sa(m,g[y])+";")}return d}(e,t,n);case"function":if(e!==void 0){var a=et,i=n(e);return et=a,Gt(e,t,i)}break}if(t==null)return n;var o=t[n];return o!==void 0?o:n}var et,ra=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ss=function(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,r="";et=void 0;var a=e[0];a==null||a.raw===void 0?(s=!1,r+=Gt(n,t,a)):r+=a[0];for(var i=1;i<e.length;i++)r+=Gt(n,t,e[i]),s&&(r+=a[i]);ra.lastIndex=0;for(var o,u="";(o=ra.exec(r))!==null;)u+="-"+o[1];var f=function(p){for(var d,h=0,m=0,g=p.length;g>=4;++m,g-=4)d=1540483477*(65535&(d=255&p.charCodeAt(m)|(255&p.charCodeAt(++m))<<8|(255&p.charCodeAt(++m))<<16|(255&p.charCodeAt(++m))<<24))+(59797*(d>>>16)<<16),h=1540483477*(65535&(d^=d>>>24))+(59797*(d>>>16)<<16)^1540483477*(65535&h)+(59797*(h>>>16)<<16);switch(g){case 3:h^=(255&p.charCodeAt(m+2))<<16;case 2:h^=(255&p.charCodeAt(m+1))<<8;case 1:h=1540483477*(65535&(h^=255&p.charCodeAt(m)))+(59797*(h>>>16)<<16)}return(((h=1540483477*(65535&(h^=h>>>13))+(59797*(h>>>16)<<16))^h>>>15)>>>0).toString(36)}(r)+u;return{name:f,styles:r,next:et}},gg=typeof document<"u",mg=function(e){return e()},ic=!!l.useInsertionEffect&&l.useInsertionEffect,ac=gg&&ic||mg,oa=ic||l.useLayoutEffect,Pt=typeof document<"u",Ur={}.hasOwnProperty,rs=l.createContext(typeof HTMLElement<"u"?sc({key:"css"}):null);rs.Provider;var Cs=function(e){return l.forwardRef(function(t,n){var s=l.useContext(rs);return e(t,s,n)})};Pt||(Cs=function(e){return function(t){var n=l.useContext(rs);return n===null?(n=sc({key:"css"}),l.createElement(rs.Provider,{value:n},e(t,n))):e(t,n)}});var Fr=l.createContext({}),vr="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vg=function(e,t){var n={};for(var s in t)Ur.call(t,s)&&(n[s]=t[s]);return n[vr]=e,n},yg=function(e){var t=e.cache,n=e.serialized,s=e.isStringTag;Tr(t,n,s);var r=ac(function(){return _r(t,n,s)});if(!Pt&&r!==void 0){for(var a,i=n.name,o=n.next;o!==void 0;)i+=" "+o.name,o=o.next;return l.createElement("style",((a={})["data-emotion"]=t.key+" "+i,a.dangerouslySetInnerHTML={__html:r},a.nonce=t.sheet.nonce,a))}return null},bg=Cs(function(e,t,n){var s=e.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var r=e[vr],a=[s],i="";typeof e.className=="string"?i=rc(t.registered,a,e.className):e.className!=null&&(i=e.className+" ");var o=Ss(a,void 0,l.useContext(Fr));i+=t.key+"-"+o.name;var u={};for(var f in e)!Ur.call(e,f)||f==="css"||f===vr||(u[f]=e[f]);return u.ref=n,u.className=i,l.createElement(l.Fragment,null,l.createElement(yg,{cache:t,serialized:o,isStringTag:typeof r=="string"}),l.createElement(r,u))});be(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});var ee=function(e,t){var n=arguments;if(t==null||!Ur.call(t,"css"))return l.createElement.apply(void 0,n);var s=n.length,r=new Array(s);r[0]=bg,r[1]=vg(e,t);for(var a=2;a<s;a++)r[a]=n[a];return l.createElement.apply(null,r)};Cs(function(e,t){var n=e.styles,s=Ss([n],void 0,l.useContext(Fr));if(!Pt){for(var r,a=s.name,i=s.styles,o=s.next;o!==void 0;)a+=" "+o.name,i+=o.styles,o=o.next;var u=t.compat===!0,f=t.insert("",{name:a,styles:i},t.sheet,u);return u?null:l.createElement("style",((r={})["data-emotion"]=t.key+"-global "+a,r.dangerouslySetInnerHTML={__html:f},r.nonce=t.sheet.nonce,r))}var p=l.useRef();return oa(function(){var d=t.key+"-global",h=new t.sheet.constructor({key:d,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),m=!1,g=document.querySelector('style[data-emotion="'+d+" "+s.name+'"]');return t.sheet.tags.length&&(h.before=t.sheet.tags[0]),g!==null&&(m=!0,g.setAttribute("data-emotion",d),h.hydrate([g])),p.current=[h,m],function(){h.flush()}},[t]),oa(function(){var d=p.current,h=d[0];if(d[1])d[1]=!1;else{if(s.next!==void 0&&_r(t,s.next,!0),h.tags.length){var m=h.tags[h.tags.length-1].nextElementSibling;h.before=m,h.flush()}t.insert("",s,h,!1)}},[t,s.name]),null});function Br(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ss(t)}var wg=function e(t){for(var n=t.length,s=0,r="";s<n;s++){var a=t[s];if(a!=null){var i=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var o in i="",a)a[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=a}i&&(r&&(r+=" "),r+=i)}}return r};function xg(e,t,n){var s=[],r=rc(e,s,n);return s.length<2?n:r+t(s)}var Sg=function(e){var t,n=e.cache,s=e.serializedArr,r=ac(function(){for(var a="",i=0;i<s.length;i++){var o=_r(n,s[i],!1);Pt||o===void 0||(a+=o)}if(!Pt)return a});return Pt||r.length===0?null:l.createElement("style",((t={})["data-emotion"]=n.key+" "+s.map(function(a){return a.name}).join(" "),t.dangerouslySetInnerHTML={__html:r},t.nonce=n.sheet.nonce,t))};Cs(function(e,t){var n=[],s=function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];var f=Ss(o,t.registered);return n.push(f),Tr(t,f,!1),t.key+"-"+f.name},r={css:s,cx:function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return xg(t.registered,s,wg(o))},theme:l.useContext(Fr)},a=e.children(r);return l.createElement(l.Fragment,null,l.createElement(Sg,{cache:t,serializedArr:n}),a)});function Re(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,s){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,i,o,u,f=[],p=!0,d=!1;try{if(o=(r=r.call(n)).next,s===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(a=o.call(r)).done)&&(f.push(a.value),f.length!==s);p=!0);}catch(h){d=!0,i=h}finally{try{if(!p&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(d)throw i}}return f}}(e,t)||Jl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function tt(e,t){if(e==null)return{};var n,s,r=function(i,o){if(i==null)return{};var u,f,p={},d=Object.keys(i);for(f=0;f<d.length;f++)u=d[f],o.indexOf(u)>=0||(p[u]=i[u]);return p}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rt(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lc(e){return rt(e).getComputedStyle(e)}const wn=Math.round;function cc(e){return dc(e)?(e.nodeName||"").toLowerCase():""}let xn;function uc(e){return e instanceof rt(e).HTMLElement}function $n(e){return e instanceof rt(e).Element}function dc(e){return e instanceof rt(e).Node}function ia(e){return typeof ShadowRoot>"u"?!1:e instanceof rt(e).ShadowRoot||e instanceof ShadowRoot}function pc(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=lc(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(r)}function Cg(){return/^((?!chrome|android).)*safari/i.test(function(){if(xn)return xn;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(xn=e.brands.map(t=>t.brand+"/"+t.version).join(" "),xn):navigator.userAgent}())}function fc(e){return $n(e)?e:e.contextElement}const hc={x:1,y:1};function aa(e){const t=fc(e);if(!uc(t))return hc;const n=t.getBoundingClientRect(),{width:s,height:r,fallback:a}=function(u){const f=lc(u);let p=parseFloat(f.width),d=parseFloat(f.height);const h=u.offsetWidth,m=u.offsetHeight,g=wn(p)!==h||wn(d)!==m;return g&&(p=h,d=m),{width:p,height:d,fallback:g}}(t);let i=(a?wn(n.width):n.width)/s,o=(a?wn(n.height):n.height)/r;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}function la(e,t,n,s){var r,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=fc(e);let u=hc;t&&(u=aa(e));const f=o?rt(o):window,p=Cg()&&n;let d=(i.left+(p&&((r=f.visualViewport)==null?void 0:r.offsetLeft)||0))/u.x,h=(i.top+(p&&((a=f.visualViewport)==null?void 0:a.offsetTop)||0))/u.y,m=i.width/u.x,g=i.height/u.y;if(o){const v=rt(o),y=s;let b=v.frameElement;for(;b&&s&&y!==v;){const w=aa(b),P=b.getBoundingClientRect(),S=getComputedStyle(b);P.x+=(b.clientLeft+parseFloat(S.paddingLeft))*w.x,P.y+=(b.clientTop+parseFloat(S.paddingTop))*w.y,d*=w.x,h*=w.y,m*=w.x,g*=w.y,d+=P.x,h+=P.y,b=rt(b).frameElement}}return{width:m,height:g,top:h,right:d+m,bottom:h+g,left:d,x:d,y:h}}function Lg(e){if(cc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ia(e)&&e.host||function(n){return((dc(n)?n.ownerDocument:n.document)||window.document).documentElement}(e);return ia(t)?t.host:t}function gc(e){const t=Lg(e);return function(n){return["html","body","#document"].includes(cc(n))}(t)?t.ownerDocument.body:uc(t)&&pc(t)?t:gc(t)}function Gn(e,t){var n;t===void 0&&(t=[]);const s=gc(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),a=rt(s);return r?t.concat(a,a.visualViewport||[],pc(s)?s:[]):t.concat(s,Gn(s))}var yr=typeof document<"u"?l.useLayoutEffect:l.useEffect,Eg=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],os=function(){};function Og(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function jg(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];var a=[].concat(s);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&a.push("".concat(Og(e,i)));return a.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var ca=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):yt(e)==="object"&&e!==null?[e]:[];var t},ua=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Q({},tt(e,Eg))},Pe=function(e,t,n){var s=e.cx,r=e.getStyles,a=e.getClassNames,i=e.className;return{css:r(t,e),className:s(n??{},a(t,e),i)}};function Ls(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function mc(e){return Ls(e)?window.pageYOffset:e.scrollTop}function is(e,t){Ls(e)?window.scrollTo(0,t):e.scrollTop=t}function Pg(e,t,n,s){return n*((e=e/s-1)*e*e+1)+t}function Sn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:os,r=mc(e),a=t-r,i=10,o=0;function u(){var f=Pg(o+=i,r,a,n);is(e,f),o<n?window.requestAnimationFrame(u):s(e)}u()}function da(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),r=t.offsetHeight/3;s.bottom+r>n.bottom?is(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):s.top-r<n.top&&is(e,Math.max(t.offsetTop-r,0))}function pa(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var vc=!1,Mg={get passive(){return vc=!0}},Cn=typeof window<"u"?window:{};Cn.addEventListener&&Cn.removeEventListener&&(Cn.addEventListener("p",os,Mg),Cn.removeEventListener("p",os,!1));var kg=vc;function Ig(e){return e!=null}function Ln(e,t,n){return e?t:n}var Ng=["children","innerProps"],Ag=["children","innerProps"];function Rg(e){var t=e.maxHeight,n=e.menuEl,s=e.minHeight,r=e.placement,a=e.shouldScroll,i=e.isFixedPosition,o=e.controlHeight,u=function(E){var I=getComputedStyle(E),R=I.position==="absolute",U=/(auto|scroll)/;if(I.position==="fixed")return document.documentElement;for(var V=E;V=V.parentElement;)if(I=getComputedStyle(V),(!R||I.position!=="static")&&U.test(I.overflow+I.overflowY+I.overflowX))return V;return document.documentElement}(n),f={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return f;var p,d=u.getBoundingClientRect().height,h=n.getBoundingClientRect(),m=h.bottom,g=h.height,v=h.top,y=n.offsetParent.getBoundingClientRect().top,b=i||Ls(p=u)?window.innerHeight:p.clientHeight,w=mc(u),P=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),x=y-S,L=b-v,C=x+w,O=d-w-v,j=m-b+w+P,D=w+v-S,M=160;switch(r){case"auto":case"bottom":if(L>=g)return{placement:"bottom",maxHeight:t};if(O>=g&&!i)return a&&Sn(u,j,M),{placement:"bottom",maxHeight:t};if(!i&&O>=s||i&&L>=s)return a&&Sn(u,j,M),{placement:"bottom",maxHeight:i?L-P:O-P};if(r==="auto"||i){var B=t,$=i?x:C;return $>=s&&(B=Math.min($-P-o,t)),{placement:"top",maxHeight:B}}if(r==="bottom")return a&&is(u,j),{placement:"bottom",maxHeight:t};break;case"top":if(x>=g)return{placement:"top",maxHeight:t};if(C>=g&&!i)return a&&Sn(u,D,M),{placement:"top",maxHeight:t};if(!i&&C>=s||i&&x>=s){var k=t;return(!i&&C>=s||i&&x>=s)&&(k=i?x-S:C-S),a&&Sn(u,D,M),{placement:"top",maxHeight:k}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return f}var fa,yc=function(e){return e==="auto"?"bottom":e},bc=l.createContext(null),Dg=function(e){var t=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,r=e.menuPlacement,a=e.menuPosition,i=e.menuShouldScrollIntoView,o=e.theme,u=(l.useContext(bc)||{}).setPortalPlacement,f=l.useRef(null),p=Re(l.useState(s),2),d=p[0],h=p[1],m=Re(l.useState(null),2),g=m[0],v=m[1],y=o.spacing.controlHeight;return yr(function(){var b=f.current;if(b){var w=a==="fixed",P=Rg({maxHeight:s,menuEl:b,minHeight:n,placement:r,shouldScroll:i&&!w,isFixedPosition:w,controlHeight:y});h(P.maxHeight),v(P.placement),u==null||u(P.placement)}},[s,r,a,i,n,u,y]),t({ref:f,placerProps:Q(Q({},e),{},{placement:g||yc(r),maxHeight:d})})},Tg=function(e){var t=e.children,n=e.innerRef,s=e.innerProps;return ee("div",se({},Pe(e,"menu",{menu:!0}),{ref:n},s),t)},wc=function(e,t){var n=e.theme,s=n.spacing.baseUnit,r=n.colors;return Q({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*s,"px ").concat(3*s,"px")})},_g=wc,Ug=wc,Fg=["size"],Bg=["innerProps","isRtl","size"],Vs,zs,Vg={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},xc=function(e){var t=e.size,n=tt(e,Fg);return ee("svg",se({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Vg},n))},$s=function(e){return ee(xc,se({size:20},e),ee("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ha=function(e){return ee(xc,se({size:20},e),ee("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Sc=function(e,t){var n=e.isFocused,s=e.theme,r=s.spacing.baseUnit,a=s.colors;return Q({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*r,":hover":{color:n?a.neutral80:a.neutral40}})},zg=Sc,$g=Sc,Gg=function(){var e=Br.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(fa||(Vs=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],zs||(zs=Vs.slice(0)),fa=Object.freeze(Object.defineProperties(Vs,{raw:{value:Object.freeze(zs)}})))),Gs=function(e){var t=e.delay,n=e.offset;return ee("span",{css:Br({animation:"".concat(Gg," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Hg=function(e){var t=e.children,n=e.isDisabled,s=e.isFocused,r=e.innerRef,a=e.innerProps,i=e.menuIsOpen;return ee("div",se({ref:r},Pe(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":i}),a,{"aria-disabled":n||void 0}),t)},Wg=["data"],qg=function(e){var t=e.children,n=e.cx,s=e.getStyles,r=e.getClassNames,a=e.Heading,i=e.headingProps,o=e.innerProps,u=e.label,f=e.theme,p=e.selectProps;return ee("div",se({},Pe(e,"group",{group:!0}),o),ee(a,se({},i,{selectProps:p,theme:f,getStyles:s,getClassNames:r,cx:n}),u),ee("div",null,t))},Zg=["innerRef","isDisabled","isHidden","inputClassName"],Cc={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Jg={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Q({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Cc)},Kg=function(e){return Q({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Cc)},ga=function(e){var t=e.children,n=e.innerProps;return ee("div",n,t)},Yg=function(e){var t=e.children,n=e.components,s=e.data,r=e.innerProps,a=e.isDisabled,i=e.removeProps,o=e.selectProps,u=n.Container,f=n.Label,p=n.Remove;return ee(u,{data:s,innerProps:Q(Q({},Pe(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),r),selectProps:o},ee(f,{data:s,innerProps:Q({},Pe(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),ee(p,{data:s,innerProps:Q(Q({},Pe(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:o}))},Qg={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return ee("div",se({},Pe(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||ee($s,null))},Control:Hg,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return ee("div",se({},Pe(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||ee(ha,null))},DownChevron:ha,CrossIcon:$s,Group:qg,GroupHeading:function(e){var t=ua(e);t.data;var n=tt(t,Wg);return ee("div",se({},Pe(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return ee("div",se({},Pe(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return ee("span",se({},t,Pe(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,s=ua(e),r=s.innerRef,a=s.isDisabled,i=s.isHidden,o=s.inputClassName,u=tt(s,Zg);return ee("div",se({},Pe(e,"input",{"input-container":!0}),{"data-value":n||""}),ee("input",se({className:t({input:!0},o),ref:r,style:Kg(i),disabled:a},u)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,s=e.size,r=s===void 0?4:s,a=tt(e,Bg);return ee("div",se({},Pe(Q(Q({},a),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ee(Gs,{delay:0,offset:n}),ee(Gs,{delay:160,offset:!0}),ee(Gs,{delay:320,offset:!n}))},Menu:Tg,MenuList:function(e){var t=e.children,n=e.innerProps,s=e.innerRef,r=e.isMulti;return ee("div",se({},Pe(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:s},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,s=e.controlElement,r=e.innerProps,a=e.menuPlacement,i=e.menuPosition,o=l.useRef(null),u=l.useRef(null),f=Re(l.useState(yc(a)),2),p=f[0],d=f[1],h=l.useMemo(function(){return{setPortalPlacement:d}},[]),m=Re(l.useState(null),2),g=m[0],v=m[1],y=l.useCallback(function(){if(s){var S=function(C){var O=C.getBoundingClientRect();return{bottom:O.bottom,height:O.height,left:O.left,right:O.right,top:O.top,width:O.width}}(s),x=i==="fixed"?0:window.pageYOffset,L=S[p]+x;L===(g==null?void 0:g.offset)&&S.left===(g==null?void 0:g.rect.left)&&S.width===(g==null?void 0:g.rect.width)||v({offset:L,rect:S})}},[s,i,p,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);yr(function(){y()},[y]);var b=l.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),s&&o.current&&(u.current=function(S,x,L,C){C===void 0&&(C={});const{ancestorScroll:O=!0,ancestorResize:j=!0,elementResize:D=!0,animationFrame:M=!1}=C,B=O&&!M,$=B||j?[...$n(S)?Gn(S):S.contextElement?Gn(S.contextElement):[],...Gn(x)]:[];$.forEach(R=>{B&&R.addEventListener("scroll",L,{passive:!0}),j&&R.addEventListener("resize",L)});let k,E=null;if(D){let R=!0;E=new ResizeObserver(()=>{R||L(),R=!1}),$n(S)&&!M&&E.observe(S),$n(S)||!S.contextElement||M||E.observe(S.contextElement),E.observe(x)}let I=M?la(S):null;return M&&function R(){const U=la(S);!I||U.x===I.x&&U.y===I.y&&U.width===I.width&&U.height===I.height||L(),I=U,k=requestAnimationFrame(R)}(),L(),()=>{var R;$.forEach(U=>{B&&U.removeEventListener("scroll",L),j&&U.removeEventListener("resize",L)}),(R=E)==null||R.disconnect(),E=null,M&&cancelAnimationFrame(k)}}(s,o.current,y,{elementResize:"ResizeObserver"in window}))},[s,y]);yr(function(){b()},[b]);var w=l.useCallback(function(S){o.current=S,b()},[b]);if(!t&&i!=="fixed"||!g)return null;var P=ee("div",se({ref:w},Pe(Q(Q({},e),{},{offset:g.offset,position:i,rect:g.rect}),"menuPortal",{"menu-portal":!0}),r),n);return ee(bc.Provider,{value:h},t?xt.createPortal(P,t):P)},LoadingMessage:function(e){var t=e.children,n=t===void 0?"Loading...":t,s=e.innerProps,r=tt(e,Ag);return ee("div",se({},Pe(Q(Q({},r),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},NoOptionsMessage:function(e){var t=e.children,n=t===void 0?"No options":t,s=e.innerProps,r=tt(e,Ng);return ee("div",se({},Pe(Q(Q({},r),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},MultiValue:Yg,MultiValueContainer:ga,MultiValueLabel:ga,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return ee("div",se({role:"button"},n),t||ee($s,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,s=e.isFocused,r=e.isSelected,a=e.innerRef,i=e.innerProps;return ee("div",se({},Pe(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":r}),{ref:a,"aria-disabled":n},i),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return ee("div",se({},Pe(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,s=e.isDisabled,r=e.isRtl;return ee("div",se({},Pe(e,"container",{"--is-disabled":s,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,s=e.innerProps;return ee("div",se({},Pe(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,s=e.isMulti,r=e.hasValue;return ee("div",se({},Pe(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":r}),n),t)}},ma=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function Xg(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(s=e[n],r=t[n],!(s===r||ma(s)&&ma(r)))return!1;var s,r;return!0}for(var em={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},va=function(e){return ee("span",se({css:em},e))},tm={guidance:function(e){var t=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,r=e.context,a=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,s=n===void 0?"":n,r=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(s,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,s=e.options,r=e.label,a=r===void 0?"":r,i=e.selectValue,o=e.isDisabled,u=e.isSelected,f=e.isAppleDevice,p=function(m,g){return m&&m.length?"".concat(m.indexOf(g)+1," of ").concat(m.length):""};if(t==="value"&&i)return"value ".concat(a," focused, ").concat(p(i,n),".");if(t==="menu"&&f){var d=o?" disabled":"",h="".concat(u?" selected":"").concat(d);return"".concat(a).concat(h,", ").concat(p(s,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},nm=function(e){var t=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,r=e.focusableOptions,a=e.isFocused,i=e.selectValue,o=e.selectProps,u=e.id,f=e.isAppleDevice,p=o.ariaLiveMessages,d=o.getOptionLabel,h=o.inputValue,m=o.isMulti,g=o.isOptionDisabled,v=o.isSearchable,y=o.menuIsOpen,b=o.options,w=o.screenReaderStatus,P=o.tabSelectsValue,S=o.isLoading,x=o["aria-label"],L=o["aria-live"],C=l.useMemo(function(){return Q(Q({},tm),p||{})},[p]),O=l.useMemo(function(){var k,E="";if(t&&C.onChange){var I=t.option,R=t.options,U=t.removedValue,V=t.removedValues,H=t.value,q=U||I||(k=H,Array.isArray(k)?null:k),J=q?d(q):"",N=R||V||void 0,T=N?N.map(d):[],A=Q({isDisabled:q&&g(q,i),label:J,labels:T},t);E=C.onChange(A)}return E},[t,C,g,i,d]),j=l.useMemo(function(){var k="",E=n||s,I=!!(n&&i&&i.includes(n));if(E&&C.onFocus){var R={focused:E,label:d(E),isDisabled:g(E,i),isSelected:I,options:r,context:E===n?"menu":"value",selectValue:i,isAppleDevice:f};k=C.onFocus(R)}return k},[n,s,d,g,C,r,i,f]),D=l.useMemo(function(){var k="";if(y&&b.length&&!S&&C.onFilter){var E=w({count:r.length});k=C.onFilter({inputValue:h,resultsMessage:E})}return k},[r,h,y,C,b,w,S]),M=(t==null?void 0:t.action)==="initial-input-focus",B=l.useMemo(function(){var k="";if(C.guidance){var E=s?"value":y?"menu":"input";k=C.guidance({"aria-label":x,context:E,isDisabled:n&&g(n,i),isMulti:m,isSearchable:v,tabSelectsValue:P,isInitialFocus:M})}return k},[x,n,s,m,g,v,y,C,i,P,M]),$=ee(l.Fragment,null,ee("span",{id:"aria-selection"},O),ee("span",{id:"aria-focused"},j),ee("span",{id:"aria-results"},D),ee("span",{id:"aria-guidance"},B));return ee(l.Fragment,null,ee(va,{id:u},M&&$),ee(va,{"aria-live":L,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!M&&$))},Hs=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],sm=new RegExp("["+Hs.map(function(e){return e.letters}).join("")+"]","g"),Lc={},Ws=0;Ws<Hs.length;Ws++)for(var qs=Hs[Ws],Zs=0;Zs<qs.letters.length;Zs++)Lc[qs.letters[Zs]]=qs.base;var Ec=function(e){return e.replace(sm,function(t){return Lc[t]})},rm=function(e,t){t===void 0&&(t=Xg);var n=null;function s(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return s.clear=function(){n=null},s}(Ec),ya=function(e){return e.replace(/^\s+|\s+$/g,"")},om=function(e){return"".concat(e.label," ").concat(e.value)},im=["innerRef"];function am(e){var t=e.innerRef,n=function(s){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=Object.entries(s).filter(function(u){var f=Re(u,1)[0];return!a.includes(f)});return o.reduce(function(u,f){var p=Re(f,2),d=p[0],h=p[1];return u[d]=h,u},{})}(tt(e,im),"onExited","in","enter","exit","appear");return ee("input",se({ref:t},n,{css:Br({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var ba=["boxSizing","height","overflow","paddingRight","position"],wa={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xa(e){e.preventDefault()}function Sa(e){e.stopPropagation()}function Ca(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function La(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ea=!(typeof window>"u"||!window.document||!window.document.createElement),zt=0,Lt={capture:!1,passive:!1},lm=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},cm={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function um(e){var t=e.children,n=e.lockEnabled,s=e.captureEnabled,r=function(i){var o=i.isEnabled,u=i.onBottomArrive,f=i.onBottomLeave,p=i.onTopArrive,d=i.onTopLeave,h=l.useRef(!1),m=l.useRef(!1),g=l.useRef(0),v=l.useRef(null),y=l.useCallback(function(L,C){if(v.current!==null){var O=v.current,j=O.scrollTop,D=O.scrollHeight,M=O.clientHeight,B=v.current,$=C>0,k=D-M-j,E=!1;k>C&&h.current&&(f&&f(L),h.current=!1),$&&m.current&&(d&&d(L),m.current=!1),$&&C>k?(u&&!h.current&&u(L),B.scrollTop=D,E=!0,h.current=!0):!$&&-C>j&&(p&&!m.current&&p(L),B.scrollTop=0,E=!0,m.current=!0),E&&function(I){I.cancelable&&I.preventDefault(),I.stopPropagation()}(L)}},[u,f,p,d]),b=l.useCallback(function(L){y(L,L.deltaY)},[y]),w=l.useCallback(function(L){g.current=L.changedTouches[0].clientY},[]),P=l.useCallback(function(L){var C=g.current-L.changedTouches[0].clientY;y(L,C)},[y]),S=l.useCallback(function(L){if(L){var C=!!kg&&{passive:!1};L.addEventListener("wheel",b,C),L.addEventListener("touchstart",w,C),L.addEventListener("touchmove",P,C)}},[P,w,b]),x=l.useCallback(function(L){L&&(L.removeEventListener("wheel",b,!1),L.removeEventListener("touchstart",w,!1),L.removeEventListener("touchmove",P,!1))},[P,w,b]);return l.useEffect(function(){if(o){var L=v.current;return S(L),function(){x(L)}}},[o,S,x]),function(L){v.current=L}}({isEnabled:s===void 0||s,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(i){var o=i.isEnabled,u=i.accountForScrollbars,f=u===void 0||u,p=l.useRef({}),d=l.useRef(null),h=l.useCallback(function(g){if(Ea){var v=document.body,y=v&&v.style;if(f&&ba.forEach(function(S){var x=y&&y[S];p.current[S]=x}),f&&zt<1){var b=parseInt(p.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,P=window.innerWidth-w+b||0;Object.keys(wa).forEach(function(S){var x=wa[S];y&&(y[S]=x)}),y&&(y.paddingRight="".concat(P,"px"))}v&&La()&&(v.addEventListener("touchmove",xa,Lt),g&&(g.addEventListener("touchstart",Ca,Lt),g.addEventListener("touchmove",Sa,Lt))),zt+=1}},[f]),m=l.useCallback(function(g){if(Ea){var v=document.body,y=v&&v.style;zt=Math.max(zt-1,0),f&&zt<1&&ba.forEach(function(b){var w=p.current[b];y&&(y[b]=w)}),v&&La()&&(v.removeEventListener("touchmove",xa,Lt),g&&(g.removeEventListener("touchstart",Ca,Lt),g.removeEventListener("touchmove",Sa,Lt)))}},[f]);return l.useEffect(function(){if(o){var g=d.current;return h(g),function(){m(g)}}},[o,h,m]),function(g){d.current=g}}({isEnabled:n});return ee(l.Fragment,null,n&&ee("div",{onClick:lm,css:cm}),t(function(i){r(i),a(i)}))}var dm={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},pm=function(e){var t=e.name,n=e.onFocus;return ee("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:dm,value:"",onChange:function(){}})};function br(e){var t;return typeof window<"u"&&window.navigator!=null&&e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform)}function Oc(){return br(/^Mac/i)}function fm(){return br(/^iPhone/i)||br(/^iPad/i)||Oc()&&navigator.maxTouchPoints>1}var hm,gm={clearIndicator:$g,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,s=e.isFocused,r=e.theme,a=r.colors,i=r.borderRadius;return Q({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:s?a.primary:a.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},dropdownIndicator:zg,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,s=n.colors,r=n.spacing;return Q({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,s=e.theme,r=s.spacing.baseUnit,a=s.colors;return Q({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,s=e.value,r=e.theme,a=r.spacing,i=r.colors;return Q(Q({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},Jg),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,s=e.size,r=e.theme,a=r.colors,i=r.spacing.baseUnit;return Q({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i})},loadingMessage:Ug,menu:function(e,t){var n,s=e.placement,r=e.theme,a=r.borderRadius,i=r.spacing,o=r.colors;return Q((Et(n={label:"menu"},function(u){return u?{bottom:"top",top:"bottom"}[u]:"bottom"}(s),"100%"),Et(n,"position","absolute"),Et(n,"width","100%"),Et(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Q({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},menuPortal:function(e){var t=e.rect,n=e.offset,s=e.position;return{left:t.left,position:s,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,s=n.spacing,r=n.borderRadius,a=n.colors;return Q({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:r/2,margin:s.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,s=n.borderRadius,r=n.colors,a=e.cropWithEllipsis;return Q({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,s=n.spacing,r=n.borderRadius,a=n.colors,i=e.isFocused;return Q({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:i?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:_g,option:function(e,t){var n=e.isDisabled,s=e.isFocused,r=e.isSelected,a=e.theme,i=a.spacing,o=a.colors;return Q({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?o.primary:s?o.primary25:"transparent",color:n?o.neutral20:r?o.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,s=n.spacing,r=n.colors;return Q({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,s=e.theme,r=s.spacing,a=s.colors;return Q({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,s=e.isMulti,r=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Q({alignItems:"center",display:s&&r&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},Js={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},mm={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:pa(),captureMenuScroll:!pa(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Q({ignoreCase:!0,ignoreAccents:!0,stringify:om,trim:!0,matchFrom:"any"},hm),s=n.ignoreCase,r=n.ignoreAccents,a=n.stringify,i=n.trim,o=n.matchFrom,u=i?ya(t):t,f=i?ya(a(e)):a(e);return s&&(u=u.toLowerCase(),f=f.toLowerCase()),r&&(u=rm(u),f=Ec(f)),o==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Oa(e,t,n,s){return{type:"option",data:t,isDisabled:Pc(e,t,n),isSelected:Mc(e,t,n),label:jc(e,t),value:as(e,t),index:s}}function En(e,t){return e.options.map(function(n,s){if("options"in n){var r=n.options.map(function(i,o){return Oa(e,i,t,o)}).filter(function(i){return Ma(e,i)});return r.length>0?{type:"group",data:n,options:r,index:s}:void 0}var a=Oa(e,n,t,s);return Ma(e,a)?a:void 0}).filter(Ig)}function ja(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Ar(n.options.map(function(s){return s.data}))):t.push(n.data),t},[])}function Pa(e,t){return e.reduce(function(n,s){return s.type==="group"?n.push.apply(n,Ar(s.options.map(function(r){return{data:r.data,id:"".concat(t,"-").concat(s.index,"-").concat(r.index)}}))):n.push({data:s.data,id:"".concat(t,"-").concat(s.index)}),n},[])}function Ma(e,t){var n=e.inputValue,s=n===void 0?"":n,r=t.data,a=t.isSelected,i=t.label,o=t.value;return(!Ic(e)||!a)&&kc(e,{label:i,value:o,data:r},s)}var Ks=function(e,t){var n;return((n=e.find(function(s){return s.data===t}))===null||n===void 0?void 0:n.id)||null},jc=function(e,t){return e.getOptionLabel(t)},as=function(e,t){return e.getOptionValue(t)};function Pc(e,t,n){return typeof e.isOptionDisabled=="function"&&e.isOptionDisabled(t,n)}function Mc(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var s=as(e,t);return n.some(function(r){return as(e,r)===s})}function kc(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Ic=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return t===void 0?n:t},vm=1,Nc=function(e){(function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&cr(i,o)})(a,l.Component);var t,n,s,r=Gh(a);function a(i){var o;if(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(o=r.call(this,i)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=Oc()||fm(),o.controlRef=null,o.getControlRef=function(d){o.controlRef=d},o.focusedOptionRef=null,o.getFocusedOptionRef=function(d){o.focusedOptionRef=d},o.menuListRef=null,o.getMenuListRef=function(d){o.menuListRef=d},o.inputRef=null,o.getInputRef=function(d){o.inputRef=d},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(d,h){var m=o.props,g=m.onChange,v=m.name;h.name=v,o.ariaOnChange(d,h),g(d,h)},o.setValue=function(d,h,m){var g=o.props,v=g.closeMenuOnSelect,y=g.isMulti,b=g.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:b}),v&&(o.setState({inputIsHiddenAfterUpdate:!y}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(d,{action:h,option:m})},o.selectOption=function(d){var h=o.props,m=h.blurInputOnSelect,g=h.isMulti,v=h.name,y=o.state.selectValue,b=g&&o.isOptionSelected(d,y),w=o.isOptionDisabled(d,y);if(b){var P=o.getOptionValue(d);o.setValue(y.filter(function(S){return o.getOptionValue(S)!==P}),"deselect-option",d)}else{if(w)return void o.ariaOnChange(d,{action:"select-option",option:d,name:v});g?o.setValue([].concat(Ar(y),[d]),"select-option",d):o.setValue(d,"select-option")}m&&o.blurInput()},o.removeValue=function(d){var h=o.props.isMulti,m=o.state.selectValue,g=o.getOptionValue(d),v=m.filter(function(b){return o.getOptionValue(b)!==g}),y=Ln(h,v,v[0]||null);o.onChange(y,{action:"remove-value",removedValue:d}),o.focusInput()},o.clearValue=function(){var d=o.state.selectValue;o.onChange(Ln(o.props.isMulti,[],null),{action:"clear",removedValues:d})},o.popValue=function(){var d=o.props.isMulti,h=o.state.selectValue,m=h[h.length-1],g=h.slice(0,h.length-1),v=Ln(d,g,g[0]||null);o.onChange(v,{action:"pop-value",removedValue:m})},o.getFocusedOptionId=function(d){return Ks(o.state.focusableOptionsWithIds,d)},o.getFocusableOptionsWithIds=function(){return Pa(En(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return jg.apply(void 0,[o.props.classNamePrefix].concat(h))},o.getOptionLabel=function(d){return jc(o.props,d)},o.getOptionValue=function(d){return as(o.props,d)},o.getStyles=function(d,h){var m=o.props.unstyled,g=gm[d](h,m);g.boxSizing="border-box";var v=o.props.styles[d];return v?v(g,h):g},o.getClassNames=function(d,h){var m,g;return(m=(g=o.props.classNames)[d])===null||m===void 0?void 0:m.call(g,h)},o.getElementId=function(d){return"".concat(o.state.instancePrefix,"-").concat(d)},o.getComponents=function(){return d=o.props,Q(Q({},Qg),d.components);var d},o.buildCategorizedOptions=function(){return En(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return ja(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(d,h){o.setState({ariaSelection:Q({value:d},h)})},o.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(d){o.blockOptionHover=!1},o.onControlMouseDown=function(d){if(!d.defaultPrevented){var h=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&o.onMenuClose():h&&o.openMenu("first"):(h&&(o.openAfterFocus=!0),o.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},o.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0||o.props.isDisabled)){var h=o.props,m=h.isMulti,g=h.menuIsOpen;o.focusInput(),g?(o.setState({inputIsHiddenAfterUpdate:!m}),o.onMenuClose()):o.openMenu("first"),d.preventDefault()}},o.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(o.clearValue(),d.preventDefault(),o.openAfterFocus=!1,d.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(d){typeof o.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Ls(d.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(d)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(d){var h=d.touches,m=h&&h.item(0);m&&(o.initialTouchX=m.clientX,o.initialTouchY=m.clientY,o.userIsDragging=!1)},o.onTouchMove=function(d){var h=d.touches,m=h&&h.item(0);if(m){var g=Math.abs(m.clientX-o.initialTouchX),v=Math.abs(m.clientY-o.initialTouchY);o.userIsDragging=g>5||v>5}},o.onTouchEnd=function(d){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(d.target)&&o.menuListRef&&!o.menuListRef.contains(d.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(d){o.userIsDragging||o.onControlMouseDown(d)},o.onClearIndicatorTouchEnd=function(d){o.userIsDragging||o.onClearIndicatorMouseDown(d)},o.onDropdownIndicatorTouchEnd=function(d){o.userIsDragging||o.onDropdownIndicatorMouseDown(d)},o.handleInputChange=function(d){var h=o.props.inputValue,m=d.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(m,{action:"input-change",prevInputValue:h}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(d){o.props.onFocus&&o.props.onFocus(d),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(d){var h=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(d),o.onInputChange("",{action:"input-blur",prevInputValue:h}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(d){if(!o.blockOptionHover&&o.state.focusedOption!==d){var h=o.getFocusableOptions().indexOf(d);o.setState({focusedOption:d,focusedOptionId:h>-1?o.getFocusedOptionId(d):null})}},o.shouldHideSelectedOptions=function(){return Ic(o.props)},o.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),o.focus()},o.onKeyDown=function(d){var h=o.props,m=h.isMulti,g=h.backspaceRemovesValue,v=h.escapeClearsValue,y=h.inputValue,b=h.isClearable,w=h.isDisabled,P=h.menuIsOpen,S=h.onKeyDown,x=h.tabSelectsValue,L=h.openMenuOnFocus,C=o.state,O=C.focusedOption,j=C.focusedValue,D=C.selectValue;if(!(w||typeof S=="function"&&(S(d),d.defaultPrevented))){switch(o.blockOptionHover=!0,d.key){case"ArrowLeft":if(!m||y)return;o.focusValue("previous");break;case"ArrowRight":if(!m||y)return;o.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(j)o.removeValue(j);else{if(!g)return;m?o.popValue():b&&o.clearValue()}break;case"Tab":if(o.isComposing||d.shiftKey||!P||!x||!O||L&&o.isOptionSelected(O,D))return;o.selectOption(O);break;case"Enter":if(d.keyCode===229)break;if(P){if(!O||o.isComposing)return;o.selectOption(O);break}return;case"Escape":P?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:y}),o.onMenuClose()):b&&v&&o.clearValue();break;case" ":if(y)return;if(!P){o.openMenu("first");break}if(!O)return;o.selectOption(O);break;case"ArrowUp":P?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":P?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!P)return;o.focusOption("pageup");break;case"PageDown":if(!P)return;o.focusOption("pagedown");break;case"Home":if(!P)return;o.focusOption("first");break;case"End":if(!P)return;o.focusOption("last");break;default:return}d.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++vm),o.state.selectValue=ca(i.value),i.menuIsOpen&&o.state.selectValue.length){var u=o.getFocusableOptionsWithIds(),f=o.buildFocusableOptions(),p=f.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=u,o.state.focusedOption=f[p],o.state.focusedOptionId=Ks(u,f[p])}return o}return t=a,n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&da(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,u=o.isDisabled,f=o.menuIsOpen,p=this.state.isFocused;(p&&!u&&i.isDisabled||p&&f&&!i.menuIsOpen)&&this.focusInput(),p&&u&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):p||u||!i.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(da(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,u=this.state,f=u.selectValue,p=u.isFocused,d=this.buildFocusableOptions(),h=i==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(f[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(p&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,u=o.selectValue,f=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var p=u.indexOf(f);f||(p=-1);var d=u.length-1,h=-1;if(u.length){switch(i){case"previous":h=p===0?0:p===-1?d:p-1;break;case"next":p>-1&&p<d&&(h=p+1)}this.setState({inputIsHidden:h!==-1,focusedValue:u[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,u=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var p=0,d=f.indexOf(u);u||(d=-1),i==="up"?p=d>0?d-1:f.length-1:i==="down"?p=(d+1)%f.length:i==="pageup"?(p=d-o)<0&&(p=0):i==="pagedown"?(p=d+o)>f.length-1&&(p=f.length-1):i==="last"&&(p=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[p],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[p])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Js):Q(Q({},Js),this.props.theme):Js}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,u=this.getStyles,f=this.getClassNames,p=this.getValue,d=this.selectOption,h=this.setValue,m=this.props,g=m.isMulti,v=m.isRtl,y=m.options;return{clearValue:i,cx:o,getStyles:u,getClassNames:f,getValue:p,hasValue:this.hasValue(),isMulti:g,isRtl:v,options:y,selectOption:d,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,u=i.isMulti;return o===void 0?u:o}},{key:"isOptionDisabled",value:function(i,o){return Pc(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return Mc(this.props,i,o)}},{key:"filterOption",value:function(i,o){return kc(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:u,selectValue:f})}return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,u=i.isSearchable,f=i.inputId,p=i.inputValue,d=i.tabIndex,h=i.form,m=i.menuIsOpen,g=i.required,v=this.getComponents().Input,y=this.state,b=y.inputIsHidden,w=y.ariaSelection,P=this.commonProps,S=f||this.getElementId("input"),x=Q(Q(Q({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?l.createElement(v,se({},P,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:o,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:p},x)):l.createElement(am,se({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:os,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:h,value:""},x))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),u=o.MultiValue,f=o.MultiValueContainer,p=o.MultiValueLabel,d=o.MultiValueRemove,h=o.SingleValue,m=o.Placeholder,g=this.commonProps,v=this.props,y=v.controlShouldRenderValue,b=v.isDisabled,w=v.isMulti,P=v.inputValue,S=v.placeholder,x=this.state,L=x.selectValue,C=x.focusedValue,O=x.isFocused;if(!this.hasValue()||!y)return P?null:l.createElement(m,se({},g,{key:"placeholder",isDisabled:b,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),S);if(w)return L.map(function(D,M){var B=D===C,$="".concat(i.getOptionLabel(D),"-").concat(i.getOptionValue(D));return l.createElement(u,se({},g,{components:{Container:f,Label:p,Remove:d},isFocused:B,isDisabled:b,key:$,index:M,removeProps:{onClick:function(){return i.removeValue(D)},onTouchEnd:function(){return i.removeValue(D)},onMouseDown:function(k){k.preventDefault()}},data:D}),i.formatOptionLabel(D,"value"))});if(P)return null;var j=L[0];return l.createElement(h,se({},g,{data:j,isDisabled:b}),this.formatOptionLabel(j,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents().ClearIndicator,o=this.commonProps,u=this.props,f=u.isDisabled,p=u.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||f||!this.hasValue()||p)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(i,se({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents().LoadingIndicator,o=this.commonProps,u=this.props,f=u.isDisabled,p=u.isLoading,d=this.state.isFocused;return i&&p?l.createElement(i,se({},o,{innerProps:{"aria-hidden":"true"},isDisabled:f,isFocused:d})):null}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,u=i.IndicatorSeparator;if(!o||!u)return null;var f=this.commonProps,p=this.props.isDisabled,d=this.state.isFocused;return l.createElement(u,se({},f,{isDisabled:p,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents().DropdownIndicator;if(!i)return null;var o=this.commonProps,u=this.props.isDisabled,f=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(i,se({},o,{innerProps:p,isDisabled:u,isFocused:f}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),u=o.Group,f=o.GroupHeading,p=o.Menu,d=o.MenuList,h=o.MenuPortal,m=o.LoadingMessage,g=o.NoOptionsMessage,v=o.Option,y=this.commonProps,b=this.state.focusedOption,w=this.props,P=w.captureMenuScroll,S=w.inputValue,x=w.isLoading,L=w.loadingMessage,C=w.minMenuHeight,O=w.maxMenuHeight,j=w.menuIsOpen,D=w.menuPlacement,M=w.menuPosition,B=w.menuPortalTarget,$=w.menuShouldBlockScroll,k=w.menuShouldScrollIntoView,E=w.noOptionsMessage,I=w.onMenuScrollToTop,R=w.onMenuScrollToBottom;if(!j)return null;var U,V=function(T,A){var K=T.type,z=T.data,G=T.isDisabled,Z=T.isSelected,W=T.label,Y=T.value,re=b===z,ae=G?void 0:function(){return i.onOptionHover(z)},xe=G?void 0:function(){return i.selectOption(z)},te="".concat(i.getElementId("option"),"-").concat(A),Oe={id:te,onClick:xe,onMouseMove:ae,onMouseOver:ae,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return l.createElement(v,se({},y,{innerProps:Oe,data:z,isDisabled:G,isSelected:Z,key:te,label:W,type:K,value:Y,isFocused:re,innerRef:re?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(T.data,"menu"))};if(this.hasOptions())U=this.getCategorizedOptions().map(function(T){if(T.type==="group"){var A=T.data,K=T.options,z=T.index,G="".concat(i.getElementId("group"),"-").concat(z),Z="".concat(G,"-heading");return l.createElement(u,se({},y,{key:G,data:A,options:K,Heading:f,headingProps:{id:Z,data:T.data},label:i.formatGroupLabel(T.data)}),T.options.map(function(W){return V(W,"".concat(z,"-").concat(W.index))}))}if(T.type==="option")return V(T,"".concat(T.index))});else if(x){var H=L({inputValue:S});if(H===null)return null;U=l.createElement(m,y,H)}else{var q=E({inputValue:S});if(q===null)return null;U=l.createElement(g,y,q)}var J={minMenuHeight:C,maxMenuHeight:O,menuPlacement:D,menuPosition:M,menuShouldScrollIntoView:k},N=l.createElement(Dg,se({},y,J),function(T){var A=T.ref,K=T.placerProps,z=K.placement,G=K.maxHeight;return l.createElement(p,se({},y,J,{innerRef:A,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:x,placement:z}),l.createElement(um,{captureEnabled:P,onTopArrive:I,onBottomArrive:R,lockEnabled:$},function(Z){return l.createElement(d,se({},y,{innerRef:function(W){i.getMenuListRef(W),Z(W)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:i.getElementId("listbox")},isLoading:x,maxHeight:G,focusedOption:b}),U)}))});return B||M==="fixed"?l.createElement(h,se({},y,{appendTo:B,controlElement:this.controlRef,menuPlacement:D,menuPosition:M}),N):N}},{key:"renderFormField",value:function(){var i=this,o=this.props,u=o.delimiter,f=o.isDisabled,p=o.isMulti,d=o.name,h=o.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!f)return l.createElement(pm,{name:d,onFocus:this.onValueInputFocus});if(d&&!f){if(p){if(u){var g=m.map(function(b){return i.getOptionValue(b)}).join(u);return l.createElement("input",{name:d,type:"hidden",value:g})}var v=m.length>0?m.map(function(b,w){return l.createElement("input",{key:"i-".concat(w),name:d,type:"hidden",value:i.getOptionValue(b)})}):l.createElement("input",{name:d,type:"hidden",value:""});return l.createElement("div",null,v)}var y=m[0]?this.getOptionValue(m[0]):"";return l.createElement("input",{name:d,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,u=o.ariaSelection,f=o.focusedOption,p=o.focusedValue,d=o.isFocused,h=o.selectValue,m=this.getFocusableOptions();return l.createElement(nm,se({},i,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:f,focusedValue:p,isFocused:d,selectValue:h,focusableOptions:m,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,u=i.IndicatorsContainer,f=i.SelectContainer,p=i.ValueContainer,d=this.props,h=d.className,m=d.id,g=d.isDisabled,v=d.menuIsOpen,y=this.state.isFocused,b=this.commonProps=this.getCommonProps();return l.createElement(f,se({},b,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:y}),this.renderLiveRegion(),l.createElement(o,se({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:y,menuIsOpen:v}),l.createElement(p,se({},b,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),l.createElement(u,se({},b,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],s=[{key:"getDerivedStateFromProps",value:function(i,o){var u=o.prevProps,f=o.clearFocusValueOnUpdate,p=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,h=o.isFocused,m=o.prevWasFocused,g=o.instancePrefix,v=i.options,y=i.value,b=i.menuIsOpen,w=i.inputValue,P=i.isMulti,S=ca(y),x={};if(u&&(y!==u.value||v!==u.options||b!==u.menuIsOpen||w!==u.inputValue)){var L=b?function($,k){return ja(En($,k))}(i,S):[],C=b?Pa(En(i,S),"".concat(g,"-option")):[],O=f?function($,k){var E=$.focusedValue,I=$.selectValue.indexOf(E);if(I>-1){if(k.indexOf(E)>-1)return E;if(I<k.length)return k[I]}return null}(o,S):null,j=function($,k){var E=$.focusedOption;return E&&k.indexOf(E)>-1?E:k[0]}(o,L);x={selectValue:S,focusedOption:j,focusedOptionId:Ks(C,j),focusableOptionsWithIds:C,focusedValue:O,clearFocusValueOnUpdate:!1}}var D=p!=null&&i!==u?{inputIsHidden:p,inputIsHiddenAfterUpdate:void 0}:{},M=d,B=h&&m;return h&&!B&&(M={value:Ln(P,S,S[0]||null),options:S,action:"initial-input-focus"},B=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(M=null),Q(Q(Q({},x),D),{},{prevProps:i,ariaSelection:M,prevWasFocused:B})}}],n&&Gi(t.prototype,n),s&&Gi(t,s),Object.defineProperty(t,"prototype",{writable:!1}),a}();Nc.defaultProps=mm;var ym=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],bm=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],Vr=be(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),wm=be(function(e){var t=Vr.default;e.exports=function(n,s){if(t(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,s||"default");if(t(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)},e.exports.__esModule=!0,e.exports.default=e.exports}),Ac=be(function(e){var t=Vr.default;e.exports=function(n){var s=wm(n,"string");return t(s)==="symbol"?s:String(s)},e.exports.__esModule=!0,e.exports.default=e.exports}),xm=be(function(e){e.exports=function(t,n,s){return(n=Ac(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t},e.exports.__esModule=!0,e.exports.default=e.exports});be(function(e){function t(n,s){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);s&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.push.apply(r,a)}return r}e.exports=function(n){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?t(Object(r),!0).forEach(function(a){xm(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n},e.exports.__esModule=!0,e.exports.default=e.exports}),be(function(e){e.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),be(function(e){function t(n,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Ac(a.key),a)}}e.exports=function(n,s,r){return s&&t(n.prototype,s),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n},e.exports.__esModule=!0,e.exports.default=e.exports});var Sm=be(function(e){function t(n,s){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});be(function(e){e.exports=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&Sm(t,n)},e.exports.__esModule=!0,e.exports.default=e.exports});var ka=be(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),Cm=be(function(e){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}),Lm=be(function(e){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports}),Em=be(function(e){var t=Vr.default;e.exports=function(n,s){if(s&&(t(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lm(n)},e.exports.__esModule=!0,e.exports.default=e.exports});be(function(e){e.exports=function(t){var n=Cm();return function(){var s,r=ka(t);if(n){var a=ka(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return Em(this,s)}},e.exports.__esModule=!0,e.exports.default=e.exports});var wr=be(function(e){e.exports=function(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=t[s];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),Om=be(function(e){e.exports=function(t){if(Array.isArray(t))return wr(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),jm=be(function(e){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),Rc=be(function(e){e.exports=function(t,n){if(t){if(typeof t=="string")return wr(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?wr(t,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),Pm=be(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});be(function(e){e.exports=function(t){return Om(t)||jm(t)||Rc(t)||Pm()},e.exports.__esModule=!0,e.exports.default=e.exports});var Mm=be(function(e){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports}),km=be(function(e){e.exports=function(t,n){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var r,a,i,o,u=[],f=!0,p=!1;try{if(i=(s=s.call(t)).next,n===0){if(Object(s)!==s)return;f=!1}else for(;!(f=(r=i.call(s)).done)&&(u.push(r.value),u.length!==n);f=!0);}catch(d){p=!0,a=d}finally{try{if(!f&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(p)throw a}}return u}},e.exports.__esModule=!0,e.exports.default=e.exports}),Im=be(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});be(function(e){e.exports=function(t,n){return Mm(t)||km(t,n)||Rc(t,n)||Im()},e.exports.__esModule=!0,e.exports.default=e.exports});var Nm=be(function(e){e.exports=function(t,n){if(t==null)return{};var s,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)s=i[r],n.indexOf(s)>=0||(a[s]=t[s]);return a},e.exports.__esModule=!0,e.exports.default=e.exports});be(function(e){e.exports=function(t,n){if(t==null)return{};var s,r,a=Nm(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a},e.exports.__esModule=!0,e.exports.default=e.exports}),be(function(e){e.exports=function(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))},e.exports.__esModule=!0,e.exports.default=e.exports});var Am=l.forwardRef(function(e,t){var n=function(r){var a=r.defaultOptions,i=a!==void 0&&a,o=r.cacheOptions,u=o!==void 0&&o,f=r.loadOptions;r.options;var p=r.isLoading,d=p!==void 0&&p,h=r.onInputChange,m=r.filterOption,g=m===void 0?null:m,v=tt(r,bm),y=v.inputValue,b=l.useRef(void 0),w=l.useRef(!1),P=Re(l.useState(Array.isArray(i)?i:void 0),2),S=P[0],x=P[1],L=Re(l.useState(y!==void 0?y:""),2),C=L[0],O=L[1],j=Re(l.useState(i===!0),2),D=j[0],M=j[1],B=Re(l.useState(void 0),2),$=B[0],k=B[1],E=Re(l.useState([]),2),I=E[0],R=E[1],U=Re(l.useState(!1),2),V=U[0],H=U[1],q=Re(l.useState({}),2),J=q[0],N=q[1],T=Re(l.useState(void 0),2),A=T[0],K=T[1],z=Re(l.useState(void 0),2),G=z[0],Z=z[1];u!==G&&(N({}),Z(u)),i!==A&&(x(Array.isArray(i)?i:void 0),K(i)),l.useEffect(function(){return w.current=!0,function(){w.current=!1}},[]);var W=l.useCallback(function(ae,xe){if(!f)return xe();var te=f(ae,xe);te&&typeof te.then=="function"&&te.then(xe,function(){return xe()})},[f]);l.useEffect(function(){i===!0&&W(C,function(ae){w.current&&(x(ae||[]),M(!!b.current))})},[]);var Y=l.useCallback(function(ae,xe){var te=function(X,ne,ce){if(ce){var he=ce(X,ne);if(typeof he=="string")return he}return X}(ae,xe,h);if(!te)return b.current=void 0,O(""),k(""),R([]),M(!1),void H(!1);if(u&&J[te])O(te),k(te),R(J[te]),M(!1),H(!1);else{var Oe=b.current={};O(te),M(!0),H(!$),W(te,function(X){w&&Oe===b.current&&(b.current=void 0,M(!1),k(te),R(X||[]),H(!1),N(X?Q(Q({},J),{},Et({},te,X)):J))})}},[u,W,$,J,h]),re=V?[]:C&&$?I:S||[];return Q(Q({},v),{},{options:re,isLoading:D||d,onInputChange:Y,filterOption:g})}(e),s=function(r){var a=r.defaultInputValue,i=a===void 0?"":a,o=r.defaultMenuIsOpen,u=o!==void 0&&o,f=r.defaultValue,p=f===void 0?null:f,d=r.inputValue,h=r.menuIsOpen,m=r.onChange,g=r.onInputChange,v=r.onMenuClose,y=r.onMenuOpen,b=r.value,w=tt(r,ym),P=Re(l.useState(d!==void 0?d:i),2),S=P[0],x=P[1],L=Re(l.useState(h!==void 0?h:u),2),C=L[0],O=L[1],j=Re(l.useState(b!==void 0?b:p),2),D=j[0],M=j[1],B=l.useCallback(function(V,H){typeof m=="function"&&m(V,H),M(V)},[m]),$=l.useCallback(function(V,H){var q;typeof g=="function"&&(q=g(V,H)),x(q!==void 0?q:V)},[g]),k=l.useCallback(function(){typeof y=="function"&&y(),O(!0)},[y]),E=l.useCallback(function(){typeof v=="function"&&v(),O(!1)},[v]),I=d!==void 0?d:S,R=h!==void 0?h:C,U=b!==void 0?b:D;return Q(Q({},w),{},{inputValue:I,menuIsOpen:R,onChange:B,onInputChange:$,onMenuClose:E,onMenuOpen:k,value:U})}(n);return l.createElement(Nc,se({ref:t},s))}),Rm=Am,Dm=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,r,a;if(Array.isArray(t)){if((s=t.length)!=n.length)return!1;for(r=s;r--!=0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((s=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=s;r--!=0;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!=0;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n},Ot;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(Ot||(Ot={}));class pt{constructor({apiKey:t,authReferrerPolicy:n,channel:s,client:r,id:a="__googleMapsScriptId",language:i,libraries:o=[],mapIds:u,nonce:f,region:p,retries:d=3,url:h="https://maps.googleapis.com/maps/api/js",version:m}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=s,this.client=r,this.id=a||"__googleMapsScriptId",this.language=i,this.libraries=o,this.mapIds=u,this.nonce=f,this.region=p,this.retries=d,this.url=h,this.version=m,pt.instance){if(!Dm(this.options,pt.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(pt.instance.options)}`);return pt.instance}pt.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Ot.FAILURE:this.done?Ot.SUCCESS:this.loading?Ot.LOADING:Ot.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(s=>{s?n(s.error):t(window.google)})})}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),n=document.createElement("script");n.id=this.id,n.type="text/javascript",n.src=t,n.onerror=this.loadErrorCallback.bind(this),n.defer=!0,n.async=!0,this.nonce&&(n.nonce=this.nonce),document.head.appendChild(n)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var Tm=function(e,t,n){var s,r=e.bounds,a=e.location,i=function(u,f){var p={};for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&f.indexOf(d)<0&&(p[d]=u[d]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(d=Object.getOwnPropertySymbols(u);h<d.length;h++)f.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(u,d[h])&&(p[d[h]]=u[d[h]])}return p}(e,["bounds","location"]),o=vt({input:t},i);return n&&(o.sessionToken=n),r&&(o.bounds=new((s=google.maps.LatLngBounds).bind.apply(s,function(){for(var u=0,f=0,p=arguments.length;f<p;f++)u+=arguments[f].length;var d=Array(u),h=0;for(f=0;f<p;f++)for(var m=arguments[f],g=0,v=m.length;g<v;g++,h++)d[h]=m[g];return d}([void 0],r)))),a&&(o.location=new google.maps.LatLng(a)),o},_m=function(e){var t=e.autocompletionRequest,n=e.debounce,s=e.minLengthAutocomplete,r=e.placesService,a=e.sessionToken,i=e.withSessionToken,o=function(u,f,p){p===void 0&&(p={});var d=p.maxWait,h=l.useRef(null),m=l.useRef([]),g=p.leading,v=p.trailing===void 0||p.trailing,y=l.useRef(!1),b=l.useRef(null),w=l.useRef(!1),P=l.useRef(u);P.current=u;var S=l.useCallback(function(){clearTimeout(b.current),clearTimeout(h.current),h.current=null,m.current=[],b.current=null,y.current=!1},[]);l.useEffect(function(){return w.current=!1,function(){w.current=!0}},[]);var x=l.useCallback(function(){for(var C=[],O=0;O<arguments.length;O++)C[O]=arguments[O];m.current=C,clearTimeout(b.current),y.current&&(y.current=!1),b.current||!g||y.current||(P.current.apply(P,C),y.current=!0),b.current=setTimeout(function(){var j=!0;g&&y.current&&(j=!1),S(),!w.current&&v&&j&&P.current.apply(P,C)},f),d&&!h.current&&v&&(h.current=setTimeout(function(){var j=m.current;S(),w.current||P.current.apply(null,j)},d))},[d,f,S,g,v]),L=l.useCallback(function(){b.current&&(P.current.apply(null,m.current),S())},[S]);return[x,S,L]}(function(u,f){if(!r)return f([]);if(u.length<s)return f([]);var p=vt({},t);r.getPlacePredictions(Tm(p,u,i&&a),function(d){f((d||[]).map(function(h){return{label:h.description,value:h}}))})},n)[0];return o},Um=l.forwardRef(function(e,t){var n,s,r,a,i,o,u,f,p=function(v){var y=v.apiKey,b=v.apiOptions,w=v.onLoadFailed,P=l.useState(void 0),S=P[0],x=P[1],L=l.useState(void 0),C=L[0],O=L[1],j=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");x(new window.google.maps.places.AutocompleteService),O(new google.maps.places.AutocompleteSessionToken)};return l.useEffect(function(){y?Vh(void 0,void 0,void 0,function(){var D;return zh(this,function(M){switch(M.label){case 0:if(!y)return[2];M.label=1;case 1:return M.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new pt(vt({apiKey:y},vt({libraries:["places"]},b))).load()];case 2:M.sent(),M.label=3;case 3:return j(),[3,5];case 4:return D=M.sent(),typeof w=="function"&&w(D),[3,5];case 5:return[2]}})}):j()},[]),{placesService:S,sessionToken:C,setSessionToken:O}}({apiKey:(n=e.apiKey)!==null&&n!==void 0?n:"",apiOptions:(s=e.apiOptions)!==null&&s!==void 0?s:{},onLoadFailed:(r=e.onLoadFailed)!==null&&r!==void 0?r:console.error}),d=p.placesService,h=p.sessionToken,m=p.setSessionToken,g=_m({autocompletionRequest:(a=e.autocompletionRequest)!==null&&a!==void 0?a:{},debounce:(i=e.debounce)!==null&&i!==void 0?i:300,minLengthAutocomplete:(o=e.minLengthAutocomplete)!==null&&o!==void 0?o:0,placesService:d,sessionToken:h,withSessionToken:(u=e.withSessionToken)!==null&&u!==void 0&&u});return l.useImperativeHandle(t,function(){return{getSessionToken:function(){return h},refreshSessionToken:function(){m(new google.maps.places.AutocompleteSessionToken)}}},[h]),Fc.createElement(Rm,vt({},(f=e.selectProps)!==null&&f!==void 0?f:{},{loadOptions:g,getOptionValue:function(v){return v.value.place_id}}))});const Fm="_garageSalesAdmin_971bx_1",Bm="_title_971bx_7",Vm="_userInfo_971bx_13",zm="_userName_971bx_23",$m="_userEmail_971bx_30",Gm="_adminControls_971bx_35",Hm="_searchContainer_971bx_42",Wm="_searchInput_971bx_47",qm="_buttonsContainer_971bx_61",Zm="_addNewButton_971bx_87",Jm="_selectAllButton_971bx_104",Km="_deselectAllButton_971bx_121",Ym="_deleteSelectedButton_971bx_138",Qm="_backToCommunityButton_971bx_172",Xm="_garageForm_971bx_189",ev="_formGroup_971bx_197",tv="_descriptionTextarea_971bx_207",nv="_formActions_971bx_216",sv="_saveButton_971bx_222",rv="_cancelButton_971bx_239",ov="_salesGrid_971bx_256",iv="_saleCard_971bx_267",av="_singleCard_971bx_273",lv="_cardHeader_971bx_295",cv="_saleActions_971bx_315",uv="_editButton_971bx_339",dv="_deleteButton_971bx_356",pv="_qrCodeButton_971bx_373",fv="_noResults_971bx_392",hv="_totalCount_971bx_420",gv="_checkboxContainer_971bx_428",mv="_checkmark_971bx_444",ge={garageSalesAdmin:Fm,title:Bm,userInfo:Vm,userName:zm,userEmail:$m,adminControls:Gm,searchContainer:Hm,searchInput:Wm,buttonsContainer:qm,addNewButton:Zm,selectAllButton:Jm,deselectAllButton:Km,deleteSelectedButton:Ym,backToCommunityButton:Qm,garageForm:Xm,formGroup:ev,descriptionTextarea:tv,formActions:nv,saveButton:sv,cancelButton:rv,salesGrid:ov,saleCard:iv,singleCard:av,cardHeader:lv,saleActions:cv,editButton:uv,deleteButton:dv,qrCodeButton:pv,noResults:fv,totalCount:hv,checkboxContainer:gv,checkmark:mv},vv=()=>{const{garageSales:e,loading:t,error:n,fetchGarageSales:s}=ys(),r=Ne(),a=Ie(),{isAuthenticated:i,userEmail:o,userInfo:u}=qe(),{searchTerm:f,handleSearchChange:p}=Nr(),{communityName:d,communityId:h}=ot(),m=new URLSearchParams(a.search),g=m.get("communityId");console.warn("GarageSalesAdmin: Extracted communityId from URL:",g);const[v,y]=l.useState(new Set),{showOnlySelected:b,toggleDisplayMode:w}=tn(),[P,S]=l.useState(!1),[x,L]=l.useState(null),[C,O]=l.useState({address:"",description:""}),[j,D]=l.useState("");l.useEffect(()=>{console.log("GarageSalesAdmin: Context values:",{communityName:d,communityId:h});const z=m.get("communityId")||h;z&&z!==h&&(console.log("GarageSalesAdmin: Community ID changed, updating context:",z),typeof setCommunityId=="function"&&setCommunityId(z),y(new Set),s(z,!0))},[a.search,s,d,h]),l.useEffect(()=>{!d&&h&&typeof setCommunityName=="function"?(console.log("GarageSalesAdmin: Community name not in context, fetching from API"),(async()=>{try{const G=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getAddressByCommunity/${h}`,Z=await fetch(G,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(Z.ok){const W=await Z.json();setCommunityName(W.name||"Community Sale")}}catch(G){console.error("Error fetching community name:",G)}})()):d&&console.log("GarageSalesAdmin: Using community name from context:",d)},[h,d]),l.useEffect(()=>{const z=localStorage.getItem("adminSelectedSaleIds");if(z)try{y(new Set(JSON.parse(z)))}catch(G){console.error("Error parsing admin selections:",G)}},[]),l.useEffect(()=>{localStorage.setItem("adminSelectedSaleIds",JSON.stringify([...v]))},[v]),l.useEffect(()=>{h&&(console.log("GarageSalesAdmin: Fetching garage sales for communityId:",h),s(h,!0))},[s,h]);const M=z=>{const G=z.split(",").map(W=>W.trim()),Z=G[0].split(" ");return{streetNumber:Z[0],street:Z.slice(1).join(" "),city:G[1]||"",state:G[2]||"",postalCode:"",unit:""}},B=()=>{L(null),O({address:"",description:""}),S(!0),D("")},$=z=>{S(!1),L(z),O({address:z.address,description:z.description}),window.scrollTo(0,0)},k=()=>{L(null),O({address:"",description:""}),S(!1)},E=z=>{const{name:G,value:Z}=z.target;O(W=>({...W,[G]:Z}))},I=z=>{O(G=>({...G,address:z?z.label:""}))},R=async z=>{z.preventDefault();try{if(x){const G={community:h};if(C.address!==x.address){const Z=M(C.address);G.address={street:Z.street,streetNum:Z.streetNumber,city:Z.city,provState:Z.state,postalZipCode:"",unit:""}}C.description!==x.description&&(G.description=C.description),await we.updateGarageSale(x.id,G)}else{const G=M(C.address);await we.createGarageSale(G,C.description,"Garage Sale",[],h)}S(!1),L(null),O({address:"",description:""}),await s(h,!0)}catch(G){console.error("Error submitting garage sale:",G),G.message==="A garage sale already exists at this address"?window.alert("A garage sale already exists at this address"):window.alert("Failed to save garage sale. Please try again.")}},U=async z=>{if(window.confirm("Are you sure you want to delete this garage sale?"))try{await we.deleteGarageSale(z),await s(h,!0)}catch(G){console.error("Error deleting garage sale:",G)}},V=z=>{y(G=>{const Z=new Set(G);return Z.has(z)?Z.delete(z):Z.add(z),Z})},H=()=>{y(new Set)},q=async()=>{const z=Array.from(v);if(z.length===0){alert("Please select garage sales to delete");return}if(window.confirm(`Are you sure you want to delete ${z.length} selected garage sales?`))try{await we.deleteGarageSale(z),await s(h,!0),H()}catch(G){console.error("Error deleting selected garage sales:",G),alert("An error occurred while deleting selected garage sales.")}},J=()=>{let z;z.includes("://")&&!z.includes("://www.")?z=z.replace("://","://www."):z.includes("://")||(z=`https://www.${z}`);const G=`${z}/?communityId=${h||""}`,Z=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(G)}`,W=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${d||"Community Garage Sale"} QR Code</title>
        <style>
          body {
            background-color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
          }
          h1 {
            color: #333;
            margin-bottom: 30px;
            text-align: center;
          }
          .qr-container {
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-color: white;
          }
          .instructions {
            margin-top: 20px;
            text-align: center;
            color: #666;
            max-width: 500px;
          }
        </style>
      </head>
      <body>
        <h1>${d||"Community Garage Sale"}</h1>
        <div class="qr-container">
          <img src="${Z}" alt="QR Code for Community Garage Sale" />
        </div>
        <div class="instructions">
          <p>Scan this QR code to access the ${d||"Community Garage Sale"} map on your mobile device.</p>
          <p>You can print this page or save the QR code image for distribution.</p>
        </div>
      </body>
      </html>
    `,Y=new Blob([W],{type:"text/html"}),re=URL.createObjectURL(Y),ae=window.open(re,"_blank");ae&&(ae.onload=()=>{URL.revokeObjectURL(re)})},N=e.filter(z=>(z.address||"").toLowerCase().includes(f.toLowerCase())||(z.description||"").toLowerCase().includes(f.toLowerCase())),T=()=>{const z=new Set(e.map(G=>G.id));y(z)},A=()=>{y(new Set)},K=()=>{r("/admin/community-sales")};return t?c.jsx("div",{className:"garage-sales-admin",children:c.jsx("div",{className:"loading",children:"Loading garage sales..."})}):n?c.jsxs("div",{className:"garage-sales-admin",children:[c.jsx("div",{className:"error",children:n}),c.jsx("button",{className:"retry-button",onClick:s,children:"Retry"})]}):c.jsxs("div",{className:ge.garageSalesAdmin,children:[c.jsx("h1",{className:ge.title,children:d?`${d}`:"Garage Sales Administration"}),c.jsxs("div",{className:ge.userInfo,children:[c.jsxs("div",{className:ge.userName,children:[u==null?void 0:u.fName," ",u==null?void 0:u.lName]}),c.jsx("div",{className:ge.userEmail,children:o})]}),c.jsxs("div",{className:ge.adminControls,children:[c.jsx("div",{className:ge.searchContainer,children:c.jsx("input",{type:"text",placeholder:"Search by address or description...",value:f,onChange:p,className:ge.searchInput})}),c.jsxs("div",{className:ge.buttonsContainer,children:[c.jsx("button",{className:ge.addNewButton,onClick:B,disabled:P,children:"Add New Garage Sale"}),c.jsx("button",{className:ge.qrCodeButton,onClick:J,children:"Create QR Code"}),v.size>0&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:ge.selectAllButton,onClick:T,children:"Select All"}),c.jsx("button",{className:ge.deselectAllButton,onClick:A,children:"Deselect All"}),c.jsxs("button",{className:ge.deleteSelectedButton,onClick:q,children:["Delete Selected (",v.size,")"]})]}),c.jsx("button",{className:ge.backToCommunityButton,onClick:K,children:"Back to Community Sales"})]})]}),(P||x)&&c.jsxs("form",{onSubmit:R,className:ge.garageForm,children:[c.jsxs("div",{className:ge.formGroup,children:[c.jsx("label",{children:"Address:"}),c.jsx(Um,{selectProps:{value:{label:C.address,value:C.address},onChange:z=>I(z),placeholder:"Enter address..."}})]}),c.jsxs("div",{className:ge.formGroup,children:[c.jsx("label",{children:"Description:"}),c.jsx(Bh,{name:"description",value:C.description,onChange:E,placeholder:"Enter description...",minRows:6,className:ge.descriptionTextarea})]}),c.jsxs("div",{className:ge.formActions,children:[c.jsx("button",{type:"submit",className:ge.saveButton,children:x?"Save Changes":"Create Garage Sale"}),c.jsx("button",{type:"button",className:ge.cancelButton,onClick:k,children:"Cancel"})]})]}),c.jsx("div",{className:`${ge.salesGrid} ${N.length===1?ge.singleCard:""}`,children:N&&N.length>0?N.map(z=>c.jsxs("div",{className:ge.saleCard,children:[c.jsx("div",{className:ge.cardHeader,children:c.jsxs("label",{className:ge.checkboxContainer,children:[c.jsx("input",{type:"checkbox",checked:v.has(z.id),onChange:()=>V(z.id)}),c.jsx("span",{className:ge.checkmark})]})}),c.jsx("h3",{children:z.address}),c.jsx("p",{children:z.description}),c.jsxs("div",{className:ge.saleActions,children:[c.jsx("button",{className:ge.editButton,onClick:()=>$(z),children:"Edit"}),c.jsx("button",{className:ge.deleteButton,onClick:()=>U(z.id),children:"Delete"})]})]},z.id)):c.jsx("div",{className:ge.noResults,children:"No garage sales found"})}),c.jsxs("div",{className:ge.totalCount,children:["Showing ",N.length," of ",e.length," garage sales",v.size>0&&` (${v.size} selected)`]})]})},yv=()=>{const[e,t]=l.useState(""),[n,s]=l.useState(null),[r,a]=l.useState(!1),[i,o]=l.useState({success:0,failed:0,total:0}),[u,f]=l.useState([]),[p,d]=l.useState(""),h=l.useRef(null),m=Ne(),g=S=>{t(S.target.value)},v=S=>{S.target.files&&S.target.files.length>0&&s(S.target.files[0])},y=async()=>{if(e)try{const S=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getAddressByCommunity/${e}`,x=await fetch(S,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(x.ok){const L=await x.json();d(L.name||"Community Sale")}else d("")}catch(S){console.error("Error fetching community name:",S),d("")}},b=async S=>{if(S.preventDefault(),!e||!n){alert("Please enter a Community ID and select a JSON file");return}a(!0),o({success:0,failed:0,total:0}),f([]);try{await y();const x=new FileReader;x.onload=async L=>{try{const C=JSON.parse(L.target.result);if(!Array.isArray(C))throw new Error("Invalid JSON format. Expected an array of garage sales.");o(D=>({...D,total:C.length}));const O=[],j=[];for(const D of C)try{if(!D.street||!D.address)throw new Error(`Missing required fields: ${JSON.stringify(D)}`);const M={street:D.street,streetNumber:D.address,city:D.city||"",state:D.state||"",postalCode:D.postalCode||"",unit:D.unit||""};await we.createGarageSale(M,D.description||"Garage Sale",D.name||"Garage Sale",D.highlightedItems||[],e),O.push(D)}catch(M){j.push({sale:D,error:M.message})}o({success:O.length,failed:j.length,total:C.length}),f(j.map(D=>({address:`${D.sale.address} ${D.sale.street}`,error:D.error})))}catch(C){console.error("Error processing JSON:",C),f([{address:"N/A",error:`Error processing JSON file: ${C.message}`}])}finally{a(!1)}},x.onerror=()=>{f([{address:"N/A",error:"Error reading file"}]),a(!1)},x.readAsText(n)}catch(x){console.error("Error during upload:",x),f([{address:"N/A",error:`Error during upload: ${x.message}`}]),a(!1)}},w=()=>{t(""),s(null),o({success:0,failed:0,total:0}),f([]),d(""),h.current&&(h.current.value="")},P=()=>{m(`/admin/sales?communityId=${e}`)};return c.jsxs("div",{className:"garage-sales-bulk-upload",children:[c.jsx("h1",{children:"Bulk Upload Garage Sales"}),c.jsxs("form",{onSubmit:b,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"communityId",children:"Community ID:"}),c.jsx("input",{type:"text",id:"communityId",value:e,onChange:g,onBlur:y,placeholder:"Enter community ID",required:!0}),p&&c.jsxs("div",{className:"community-name",children:["Community Name: ",c.jsx("strong",{children:p})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"jsonFile",children:"JSON File:"}),c.jsx("input",{type:"file",id:"jsonFile",accept:".json",onChange:v,ref:h,required:!0}),c.jsxs("div",{className:"file-format-info",children:[c.jsx("h3",{children:"Expected JSON Format:"}),c.jsx("pre",{children:`[
  {
    "street": "STREET NAME",
    "address": "STREET NUMBER",
    "description": "DESCRIPTION",
    "city": "CITY", // optional
    "state": "STATE", // optional
    "postalCode": "POSTAL CODE", // optional
    "unit": "UNIT" // optional
  },
  ...
]`})]})]}),c.jsxs("div",{className:"button-group",children:[c.jsx("button",{type:"submit",className:"submit-button",disabled:r||!e||!n,children:r?"Uploading...":"Upload Garage Sales"}),c.jsx("button",{type:"button",className:"reset-button",onClick:w,disabled:r,children:"Reset"}),i.success>0&&c.jsx("button",{type:"button",className:"admin-button",onClick:P,children:"Go to Garage Sales Admin"})]})]}),(i.success>0||i.failed>0)&&c.jsxs("div",{className:"upload-results",children:[c.jsx("h2",{children:"Upload Results"}),c.jsxs("div",{className:"results-summary",children:[c.jsxs("p",{children:["Total: ",c.jsx("strong",{children:i.total})]}),c.jsxs("p",{children:["Successful: ",c.jsx("strong",{className:"success",children:i.success})]}),c.jsxs("p",{children:["Failed: ",c.jsx("strong",{className:"error",children:i.failed})]})]}),u.length>0&&c.jsxs("div",{className:"error-list",children:[c.jsx("h3",{children:"Failed Uploads:"}),c.jsxs("table",{children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Address"}),c.jsx("th",{children:"Error"})]})}),c.jsx("tbody",{children:u.map((S,x)=>c.jsxs("tr",{children:[c.jsx("td",{children:S.address}),c.jsx("td",{children:S.error})]},x))})]})]})]})]})},bv=()=>{const e=Ne(),{userInfo:t,userEmail:n,sessionId:s}=qe(),{setCommunityName:r,setCommunityId:a}=ot(),[i,o]=l.useState([]),[u,f]=l.useState(!0),[p,d]=l.useState(null),[h,m]=l.useState(!1),[g,v]=l.useState(null);l.useEffect(()=>{const N=async()=>{try{if(f(!0),d(null),!t)throw new Error("User information is missing. Please log in again.");const T=t.userId||t.id;if(!T)throw new Error("User ID is missing. Please log in again.");console.log("Fetching community sales for userId:",T);const A=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/byUser/${T}`,K=await fetch(A,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff",sessionId:s||""}});if(!K.ok)throw new Error(`API request failed with status ${K.status}`);const z=await K.json(),G=Array.isArray(z)?z.map(Z=>({id:Z.id,name:Z.name,description:Z.description,startDate:Z.startDate?new Date(Z.startDate).toISOString().split("T")[0]:"",endDate:Z.endDate?new Date(Z.endDate).toISOString().split("T")[0]:"",location:Z.location})):[];o(G)}catch(T){console.error("Error fetching community sales:",T),d("Failed to load community sales. Please try again later.")}finally{f(!1)}};t&&(t.userId||t.id)?(console.log("User is logged in, fetching community sales..."),N()):(console.log("User not logged in or missing userId, skipping fetch"),f(!1))},[t,s]);const[y,b]=l.useState(new Set),[w,P]=l.useState(""),[S,x]=l.useState(!1),[L,C]=l.useState(null),[O,j]=l.useState({name:"",description:"",startDate:"",endDate:"",location:""}),D=N=>{P(N.target.value)},M=()=>{C(null),j({name:"",description:"",startDate:"",endDate:"",location:""}),x(!0)},B=N=>{x(!1),C(N),j({name:N.name,description:N.description,startDate:N.startDate||"",endDate:N.endDate||"",location:N.location||""}),window.scrollTo(0,0)},$=()=>{C(null),j({name:"",description:"",startDate:"",endDate:"",location:""}),x(!1)},k=N=>{const{name:T,value:A}=N.target;j(K=>({...K,[T]:A}))},E=async N=>{N.preventDefault();try{if(m(!0),v(null),L){const T=Y=>{if(!Y)return"";const re="T09:00:00",ae="T18:00:00";return Y+(O.startDate===O.endDate,Y===O.startDate?re:ae)};if(!t)throw new Error("User information is missing. Please log in again.");const A=t.userId||t.id;if(!A)throw new Error("User ID is missing. Please log in again.");const K={userId:A,name:O.name,description:O.description,startDate:T(O.startDate),endDate:T(O.endDate),location:O.location};console.log("API Update Data:",K),console.log("Updating community sale with ID:",L.id);const z=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/update/${L.id}`,G={"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff",sessionId:s||"","Content-Type":"application/json"};console.log("Making PATCH request to update community sale with ID:",L.id),console.log("Request headers:",G),console.log("Request payload:",K);const Z=await fetch(z,{method:"PATCH",headers:G,body:JSON.stringify(K)});if(!Z.ok)throw new Error(`API request failed with status ${Z.status}`);const W=await Z.json();o(Y=>Y.map(re=>{var ae,xe,te,Oe,X,ne,ce;return re.id===L.id?{id:((ae=W.data)==null?void 0:ae.id)||L.id,name:((xe=W.data)==null?void 0:xe.name)||O.name,description:((te=W.data)==null?void 0:te.description)||O.description,startDate:(Oe=W.data)!=null&&Oe.startDate?new Date(W.data.startDate).toISOString().split("T")[0]:O.startDate,endDate:(X=W.data)!=null&&X.endDate?new Date(W.data.endDate).toISOString().split("T")[0]:O.endDate,location:((ne=W.data)==null?void 0:ne.location)||O.location,userId:((ce=W.data)==null?void 0:ce.userId)||A}:re})),alert("Community sale updated successfully!")}else{const T=Y=>{if(!Y)return"";const re="T09:00:00",ae="T18:00:00";return Y+(O.startDate===O.endDate,Y===O.startDate?re:ae)};if(!t)throw new Error("User information is missing. Please log in again.");const A=t.userId||t.id;if(!A)throw new Error("User ID is missing. Please log in again.");const K={userId:A,name:O.name,description:O.description,startDate:T(O.startDate),endDate:T(O.endDate),location:O.location};console.log("API Request Data:",K),console.log("UserInfo:",t),console.log("Using sessionId:",s),console.log("App Key:","j+cHATnnYUUjz+ff");const G=await fetch("https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/create",{method:"POST",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff",sessionId:s||"","Content-Type":"application/json"},body:JSON.stringify(K)});if(!G.ok)throw new Error(`API request failed with status ${G.status}`);const Z=await G.json(),W={id:Z.data.id,name:Z.data.name,description:Z.data.description,startDate:Z.data.startDate?new Date(Z.data.startDate).toISOString().split("T")[0]:"",endDate:Z.data.endDate?new Date(Z.data.endDate).toISOString().split("T")[0]:"",location:Z.data.location,userId:Z.data.userId};o(Y=>[...Y,W]),alert("Community sale created successfully!")}x(!1),C(null),j({name:"",description:"",startDate:"",endDate:"",location:""})}catch(T){console.error("Error creating/updating community sale:",T),v("Failed to save community sale. Please try again."),alert(`Error: ${T.message||"Failed to save community sale. Please try again."}`)}finally{m(!1)}},I=async N=>{if(window.confirm("Are you sure you want to delete this community sale?"))try{const T=await we.deleteCommunitySale(N);T===!0?(o(A=>A.filter(K=>K.id!==N)),y.has(N)&&b(A=>{const K=new Set(A);return K.delete(N),K})):(console.warn("Unexpected response from delete API:",T),alert("Unexpected response when deleting community sale. Please try again."))}catch(T){console.error("Error deleting community sale:",T),alert(`Failed to delete community sale: ${T.message||"Unknown error"}`)}},R=N=>{b(T=>{const A=new Set(T);return A.has(N)?A.delete(N):A.add(N),A})},U=()=>{b(new Set)},V=()=>{const N=Array.from(y);if(N.length===0){alert("Please select community sales to delete");return}window.confirm(`Are you sure you want to delete ${N.length} selected community sales?`)&&(o(T=>T.filter(A=>!N.includes(A.id))),b(new Set))},H=N=>{r(N.name),a(N.id),e(`/admin/sales?communityId=${N.id}`)},q=N=>{r(N.name),a(N.id),e(`/?communityId=${N.id}`)},J=i.filter(N=>(N.name||"").toLowerCase().includes(w.toLowerCase())||(N.description||"").toLowerCase().includes(w.toLowerCase())||(N.location||"").toLowerCase().includes(w.toLowerCase()));return c.jsxs("div",{className:"sales-admin",children:[c.jsx("h1",{children:"Community Sales Events Administration"}),c.jsxs("div",{className:"user-info",children:[c.jsxs("div",{className:"user-name",children:[(t==null?void 0:t.fName)||""," ",(t==null?void 0:t.lName)||""]}),c.jsx("div",{className:"user-email",children:n})]}),c.jsx("div",{className:"admin-controls",children:c.jsx("div",{className:"search-container",children:c.jsx("input",{type:"text",placeholder:"Search by name, description, or location...",value:w,onChange:D,className:"search-input"})})}),c.jsxs("div",{className:"admin-button-row",children:[c.jsx("button",{className:"create-community-sales-button",onClick:M,disabled:S,children:"Create a New Community Sales Event"}),c.jsx("button",{className:"create-garage-sale-button",onClick:()=>{if(i.length>0){const N=i[0];r(N.name),a(N.id),e(`/admin/sales?communityId=${N.id}`)}else alert("Please create a Community Sales Event first before creating garage sales.")},children:"Create a New Garage Sale"}),y.size>0&&c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"select-all-button",onClick:U,children:"Deselect All"}),c.jsxs("button",{className:"delete-selected-button",onClick:V,children:["Delete Selected (",y.size,")"]})]})]}),(S||L)&&c.jsxs("form",{onSubmit:E,className:"sale-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Name:"}),c.jsx("input",{type:"text",name:"name",value:O.name,onChange:k,placeholder:"Enter community sale name...",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Description:"}),c.jsx("textarea",{name:"description",value:O.description,onChange:k,placeholder:"Enter description...",rows:4})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Start Date:"}),c.jsx("input",{type:"date",name:"startDate",value:O.startDate,onChange:k,placeholder:"Select start date..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"End Date:"}),c.jsx("input",{type:"date",name:"endDate",value:O.endDate,onChange:k,placeholder:"Select end date..."})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{children:"Location:"}),c.jsx("input",{type:"text",name:"location",value:O.location,onChange:k,placeholder:"Enter location..."})]}),c.jsxs("div",{className:"form-actions",children:[c.jsx("button",{type:"submit",className:"save-button",disabled:h,children:h?"Saving...":L?"Save Changes":"Create Community Sale"}),c.jsx("button",{type:"button",className:"cancel-button",onClick:$,disabled:h,children:"Cancel"})]}),g&&c.jsx("div",{className:"error-message",children:g})]}),u?c.jsx("div",{className:"loading-state",children:c.jsx("h3",{children:"Loading community sales..."})}):p?c.jsxs("div",{className:"error-state",children:[c.jsx("h3",{children:"Error"}),c.jsx("p",{children:p})]}):J.length===0?c.jsx("div",{className:"empty-state",children:c.jsx("h3",{children:"No Community Sales Found"})}):c.jsx("div",{className:"sales-grid",children:J.map(N=>c.jsxs("div",{className:"sale-card",children:[c.jsxs("label",{className:"checkbox-container",children:[c.jsx("input",{type:"checkbox",checked:y.has(N.id),onChange:()=>R(N.id)}),c.jsx("span",{className:"checkmark"})]}),c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"card-title",children:N.name})}),N.date&&c.jsxs("div",{className:"card-date",children:["Date: ",new Date(N.date).toLocaleDateString()]}),N.location&&c.jsxs("div",{className:"card-location",children:["Location: ",N.location]}),c.jsx("div",{className:"card-description",children:N.description}),c.jsxs("div",{className:"card-actions",children:[c.jsxs("div",{className:"left-buttons",children:[c.jsx("button",{className:"edit-button",onClick:()=>B(N),children:"Edit"}),c.jsx("button",{className:"delete-button",onClick:()=>I(N.id),children:"Delete"})]}),c.jsxs("div",{className:"right-buttons",children:[c.jsx("button",{className:"view-on-map-button",onClick:()=>q(N),children:"View the Map"}),c.jsx("button",{className:"manage-button",onClick:()=>H(N),children:"Manage Garage Sales"})]})]})]},N.id))})]})},wv="/assets/community-map-example--KEEdgk_.jpg",Ia=()=>{const e=Ne(),{setFromLanding:t,fromMap:n,setFromMap:s}=nn(),{currentCommunityId:r}=ot();l.useEffect(()=>{sessionStorage.setItem("initialPage","/landing"),console.log('LandingPage: Recorded initial page as "/landing" in sessionStorage')},[]);const a=i=>{t(!0),e(i)};return c.jsxs("div",{className:"landing-page",children:[c.jsxs("header",{className:"landing-header",children:[c.jsx("h1",{className:"landing-title",children:"Community Sale Events on Google Maps"}),c.jsx("p",{className:"landing-subtitle",children:"Create interactive maps for your neighborhood's community sales, making it easy for visitors to find what they're looking for."})]}),c.jsxs("div",{className:"landing-content",children:[c.jsx("img",{src:wv,alt:"Example of a community sale map",className:"landing-image",onError:i=>{i.target.onerror=null,i.target.src="https://via.placeholder.com/1200x600?text=Community+Sale+Map+Example"}}),c.jsxs("section",{className:"landing-section",children:[c.jsx("h2",{className:"landing-section-title",children:"Simplify Your Community Sale Event"}),c.jsx("p",{children:"Are you organizing a community sale event for your neighbourhood and would like to map out all the community sales on Google Maps? This makes it easy for visitors to find the sales they want to go to, or even just to see where the sales are in relation to them without the need for those old fashioned maps."}),c.jsx("p",{children:"We have created a simple way to do it right. All you have to do is login to your account, create the garage sale event, enter in the addresses and the descriptions. It's really easy."}),c.jsxs("div",{style:{textAlign:"center",marginTop:"2rem"},children:[c.jsx("div",{className:"cta-button",onClick:()=>a("/login"),children:"Get Started Today"}),n&&c.jsx("div",{className:"cta-button secondary",onClick:()=>{e(`/?communityId=${r||""}`)},style:{marginLeft:"1rem"},children:"Return to Map"})]})]}),c.jsxs("section",{className:"landing-section",children:[c.jsx("h2",{className:"landing-section-title",children:"How It Works"}),c.jsxs("div",{className:"landing-steps",children:[c.jsxs("div",{className:"landing-step",children:[c.jsx("div",{className:"step-number",children:"1"}),c.jsxs("div",{className:"step-content",children:[c.jsx("h3",{className:"step-title",children:"Create an Account"}),c.jsx("p",{className:"step-description",children:"Sign up for a free account to get started. It only takes a minute and you'll be ready to create your first community sale event."})]})]}),c.jsxs("div",{className:"landing-step",children:[c.jsx("div",{className:"step-number",children:"2"}),c.jsxs("div",{className:"step-content",children:[c.jsx("h3",{className:"step-title",children:"Set Up Your Community Sale"}),c.jsx("p",{className:"step-description",children:"Create a new community sale event with details like name, date, and location. This will be the main hub for all the individual garage sales."})]})]}),c.jsxs("div",{className:"landing-step",children:[c.jsx("div",{className:"step-number",children:"3"}),c.jsxs("div",{className:"step-content",children:[c.jsx("h3",{className:"step-title",children:"Add Garage Sales"}),c.jsx("p",{className:"step-description",children:"Add individual garage sales to your community event by entering addresses and descriptions. Our system automatically places them on the map."})]})]}),c.jsxs("div",{className:"landing-step",children:[c.jsx("div",{className:"step-number",children:"4"}),c.jsxs("div",{className:"step-content",children:[c.jsx("h3",{className:"step-title",children:"Share With Your Community"}),c.jsx("p",{className:"step-description",children:"Share your interactive map with everyone in your community. Visitors can easily browse and find the sales they're interested in."})]})]})]})]}),c.jsxs("section",{className:"landing-section",children:[c.jsx("h2",{className:"landing-section-title",children:"Features"}),c.jsxs("div",{className:"landing-grid",children:[c.jsxs("div",{className:"landing-card",children:[c.jsx("h3",{className:"landing-card-title",children:"Interactive Maps"}),c.jsx("p",{className:"landing-card-content",children:"Fully interactive Google Maps integration that makes it easy for visitors to explore and find sales."})]}),c.jsxs("div",{className:"landing-card",children:[c.jsx("h3",{className:"landing-card-title",children:"Sale Management"}),c.jsx("p",{className:"landing-card-content",children:"Easy-to-use tools for adding, editing, and removing garage sales from your community event."})]}),c.jsxs("div",{className:"landing-card",children:[c.jsx("h3",{className:"landing-card-title",children:"Search Functionality"}),c.jsx("p",{className:"landing-card-content",children:"Visitors can search for specific items or categories to find exactly what they're looking for."})]}),c.jsxs("div",{className:"landing-card",children:[c.jsx("h3",{className:"landing-card-title",children:"Mobile Friendly"}),c.jsx("p",{className:"landing-card-content",children:"Responsive design works great on smartphones and tablets, perfect for visitors on the go."})]})]})]}),c.jsxs("section",{className:"landing-section",style:{textAlign:"center"},children:[c.jsx("h2",{className:"landing-section-title",children:"Ready to Get Started?"}),c.jsx("p",{children:"Create your first community garage sale map today and make it easier for everyone to find what they're looking for."}),c.jsx("div",{className:"cta-button",onClick:()=>a("/login"),children:"Sign Up Now"})]})]}),c.jsx("footer",{className:"landing-footer"})]})},xv=({error:e})=>c.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f9fa",border:"1px solid #ddd",borderRadius:"4px",padding:"20px"},children:[c.jsx("h3",{style:{color:"#dc3545"},children:"Google Maps failed to load"}),c.jsx("p",{children:e||"Please check your internet connection and try again."}),c.jsx("button",{style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},onClick:()=>window.location.reload(),children:"Reload Page"})]});function Sv({mapContainerStyle:e,mapOptions:t}){const[n,s]=l.useState(null),[r,a]=l.useState(!1),[i,o]=l.useState(!1),[u,f]=l.useState(null),[p,d]=l.useState(!1),[h,m]=l.useState(null),[g,v]=l.useState({lat:43.8384,lng:-79.0868}),{width:y}=Gl(),b=y<1045,w=l.useRef(null),P=l.useRef([]),S=l.useRef(null),x=l.useRef(!1),L=l.useRef(!1),{fetchGarageSales:C,garageSales:O,loading:j,error:D}=ys(),{showOnlySelected:M}=tn(),{isAuthenticated:B,userInfo:$}=qe(),{handleCheckboxChange:k,handleDeselectAll:E}=vs(),{userLocation:I,shouldCenterOnUser:R,clearCenterOnUser:U,centerOnUserLocation:V}=_l(),{communityId:H,setCommunityId:q,communityName:J,setCommunityName:N}=ot(),T=J||"Loading community...",A=Ie(),K=Ne(),z=l.useMemo(()=>new URLSearchParams(A.search),[A.search]),G=z.get("communityId"),Z=z.get("showOptimizedRoute")==="true";l.useEffect(()=>{if(o(!0),Z){const X=localStorage.getItem("optimizedRoute");if(X)try{const ne=JSON.parse(X);m(ne),d(!0)}catch(ne){console.error("Error parsing optimized route data:",ne)}}},[Z]),l.useEffect(()=>{if(i){if(A.search&&!G){console.log("MapView: URL has search params but communityId not found yet, waiting...");return}G?(console.log("MapView: Setting community ID from URL:",G),q(G)):!H&&!A.search&&(console.log("MapView: No community ID provided and no URL params, navigating to landing page"),K("/about"))}},[G,H,q,K,i,A.search]),l.useEffect(()=>{H&&!J&&(console.log("MapView: Community name not in context, fetching from API for communityId:",H),(async()=>{try{const ne=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/byId/${H}`,ce=await fetch(ne,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(ce.ok){const he=await ce.json();he.name?(console.log("MapView: Successfully fetched community name:",he.name),N(he.name)):(console.log("MapView: Community name not found in API response, using default"),N("Community Sales Day"))}else console.error("MapView: Failed to fetch community name, status:",ce.status),N("Community Sales Day")}catch(ne){console.error("MapView: Error fetching community name:",ne),N("Community Sales Day")}})())},[H,J,N]);const W=l.useMemo(()=>{const X=localStorage.getItem("selectedSaleIds");return X?JSON.parse(X):[]},[]);l.useEffect(()=>{const X="/";sessionStorage.setItem("initialPage",X),console.log(`MapView: Recorded initial page as "${X}" in sessionStorage`)},[]),l.useEffect(()=>{!x.current&&H&&(console.log("MapView: Initial load - fetching garage sales with communityId:",H),C(H),x.current=!0)},[C,H]),l.useEffect(()=>{(async()=>{if(B&&!L.current&&($!=null&&$.userId))try{console.log("MapView: User is logged in, fetching saved selections for user:",$.userId);const ne=await we.getUserAddressList($.userId);ne&&ne.addressList&&ne.addressList.length>0?(console.log("MapView: User has saved selections on server:",ne.addressList),E(),ne.addressList.forEach(ce=>{k(ce)}),console.log("MapView: Updated selections from server list")):console.log("MapView: User does not have saved selections on server, using local selections"),L.current=!0}catch(ne){console.error("MapView: Error fetching user selections:",ne)}})()},[B,$,k,E]);const Y=l.useCallback(()=>{console.log("MapView: Cleaning up markers"),P.current&&(P.current.forEach(X=>{X&&(X.map=null)}),P.current=[]),S.current&&(S.current.map=null,S.current=null)},[]);l.useEffect(()=>()=>{console.log("MapView: Component unmounting, cleaning up"),Y(),w.current&&(console.log("MapView: Clearing map reference"),w.current=null,a(!1))},[Y]);const re=l.useCallback(()=>{if(!w.current||!window.google||!O){console.log("MapView: Cannot create markers - missing requirements",{hasMap:!!w.current,hasGoogle:!!window.google,salesCount:O==null?void 0:O.length});return}console.log("MapView: Creating markers for",O.length,"sales"),P.current.length>0&&(console.log("MapView: Cleaning up existing markers before creating new ones"),Y());const X=M?O.filter(ue=>W.includes(ue.id)):O,{AdvancedMarkerElement:ne}=window.google.maps.marker;if(!ne){console.error("AdvancedMarkerElement not available");return}console.log("MapView: Starting to create",X.length,"markers");let ce=0;const he={},Se={};if(p&&h&&h.orderedWaypoints){console.log("MapView: Using optimized route data for marker numbering");const ue={};O.forEach(pe=>{pe&&pe.id&&pe.address&&(ue[pe.id]=pe.address)}),h.orderedWaypoints.forEach((pe,Ee)=>{try{if(typeof pe=="object"&&pe.id){if(Se[pe.id]=pe.routeOrder||Ee+1,console.log(`MapView: Mapped sale ID ${pe.id} to order ${Se[pe.id]}`),pe.address){const je=pe.address.toLowerCase().replace(/\s+/g," ").trim();he[je]=pe.routeOrder||Ee+1}}else{const je=typeof pe=="string"?pe:pe&&pe.address?pe.address:pe&&pe.id&&ue[pe.id]?ue[pe.id]:"";if(!je){console.log("MapView: Could not extract address string from waypoint:",pe);return}const Ce=je.toLowerCase().replace(/\s+/g," ").trim();he[Ce]=Ee+1;const Ze=Ce.replace(/\b(road|rd|street|st|avenue|ave|drive|dr|court|ct|place|pl|lane|ln|way|circle|cir|boulevard|blvd)\b/g,"").replace(/\s+/g," ").trim();Ze!==Ce&&(he[Ze]=Ee+1);const ct=Ce.split(",");if(ct.length>0){const Ct=ct[0].trim();he[Ct]=Ee+1}console.log(`MapView: Mapped waypoint ${Ee+1}:`,je)}}catch(je){console.error("MapView: Error processing waypoint address:",je,pe)}})}X.forEach(ue=>{const pe=W.includes(ue.id)?"#4CAF50":"#FF0000",Ee=document.createElement("div");Ee.className="custom-pin",Ee.style.cursor="pointer",Ee.style.width="28px",Ee.style.height="28px",Ee.style.borderRadius="50%",Ee.style.backgroundColor=pe,Ee.style.border="2px solid white",Ee.style.boxShadow="0 2px 4px rgba(0,0,0,0.3)",Ee.style.display="flex",Ee.style.justifyContent="center",Ee.style.alignItems="center",Ee.style.position="relative";let je=null;if(ue.id&&Se[ue.id])je=Se[ue.id],console.log(`MapView: Found order number ${je} for sale ID ${ue.id}`);else if(ue.address)try{const Ce=ue.address.toLowerCase().replace(/\s+/g," ").trim();if(je=he[Ce],!je){const Ze=Ce.replace(/\b(road|rd|street|st|avenue|ave|drive|dr|court|ct|place|pl|lane|ln|way|circle|cir|boulevard|blvd)\b/g,"").replace(/\s+/g," ").trim();je=he[Ze]}if(!je){const Ze=Ce.split(",");if(Ze.length>0){const ct=Ze[0].trim();je=he[ct]}}je&&console.log(`MapView: Found order number ${je} for sale at ${ue.address}`)}catch(Ce){console.error("MapView: Error matching sale address:",Ce,ue.address)}if(p&&je){const Ce=document.createElement("span");Ce.textContent=je.toString(),Ce.style.color="white",Ce.style.fontSize="12px",Ce.style.fontWeight="bold",Ce.style.userSelect="none",Ee.appendChild(Ce)}try{const Ce=new ne({map:w.current,position:{lat:ue.position.lat,lng:ue.position.lng},content:Ee,title:ue.address});Ce.addListener("gmp-click",()=>{s(ue)}),P.current.push(Ce),ce++}catch(Ce){console.error("Error creating marker:",Ce,ue)}}),console.log("MapView: Successfully created",ce,"markers")},[O,W,M,Y,p,h]);l.useEffect(()=>{w.current&&(O!=null&&O.length)&&window.google&&r&&(console.log("DIRECT EFFECT: Map and data both ready, creating markers now!"),re())},[w,O,re,r,p]);const ae=l.useCallback(()=>{if(!(O!=null&&O.length)||!w.current)return;let X=0,ne=0,ce=0;const he=new window.google.maps.LatLngBounds;if(O.forEach(Se=>{Se.position&&Se.position.lat&&Se.position.lng&&(X+=Se.position.lat,ne+=Se.position.lng,ce++,he.extend({lat:Se.position.lat,lng:Se.position.lng}))}),ce>0){const Se={lat:X/ce,lng:ne/ce};console.log("MapView: Centering on community sales at",Se),v(Se),w.current.panTo(Se),w.current.fitBounds(he),w.current.getZoom()>15&&w.current.setZoom(15)}},[O]);l.useEffect(()=>{R&&I&&w.current&&(console.log("MapView: Centering on user location",I),w.current.panTo(I),w.current.setZoom(15),U())},[R,I,U]),l.useEffect(()=>{(O==null?void 0:O.length)>0&&w.current&&window.google&&ae()},[O,ae]),l.useEffect(()=>{if(!r){console.log("MapView: Map not yet loaded, waiting...");return}if(!I){console.log("MapView: No user location yet, waiting...");return}if(!window.google){console.log("MapView: Google Maps not yet available, waiting...");return}if(!w.current){console.log("MapView: Map reference not yet available, waiting...");return}console.log("MapView: All requirements met, creating user location marker",{hasMap:!!w.current,hasLocation:!!I,hasGoogle:!!window.google,isLoaded:r});try{const{AdvancedMarkerElement:X}=window.google.maps.marker;if(!X){console.error("AdvancedMarkerElement not available");return}S.current&&(S.current.map=null,S.current=null);const ne=document.createElement("div");ne.style.position="relative",ne.style.width="20px",ne.style.height="20px";const ce=document.createElement("div");ce.style.width="20px",ce.style.height="20px",ce.style.borderRadius="50%",ce.style.backgroundColor="#4285F4",ce.style.border="3px solid white",ce.style.boxShadow="0 2px 4px rgba(0,0,0,0.3)",ne.appendChild(ce);const he=document.createElement("div");if(he.style.position="absolute",he.style.top="-5px",he.style.left="-5px",he.style.width="30px",he.style.height="30px",he.style.borderRadius="50%",he.style.backgroundColor="rgba(66, 133, 244, 0.2)",he.style.animation="pulse 2s infinite",ne.appendChild(he),!document.getElementById("pulse-animation")){const Se=document.createElement("style");Se.id="pulse-animation",Se.textContent=`
          @keyframes pulse {
            0% {
              transform: scale(1);
              opacity: 1;
            }
            100% {
              transform: scale(2);
              opacity: 0;
            }
          }
        `,document.head.appendChild(Se)}S.current=new X({map:w.current,position:I,content:ne,title:"Your Location"}),console.log("MapView: Successfully created user location marker")}catch(X){console.error("Error creating user location marker:",X)}},[I,r]),l.useEffect(()=>{if(!r){console.log("MapView: Map not loaded yet, waiting to create markers...");return}if(!(O!=null&&O.length)){console.log("MapView: No garage sales data yet, waiting...");return}if(!window.google){console.log("MapView: Google Maps not available yet, waiting...");return}if(!w.current){console.log("MapView: Map reference not available yet, waiting...");return}console.log("MapView: All requirements met, creating",O.length,"markers"),re()},[r,O,re]);const xe=l.useCallback(X=>{if(!w.current||!window.google||!X){console.error("MapView: Cannot display optimized route - missing requirements");return}console.log("MapView: Displaying optimized route with data:",X);try{const ne=new window.google.maps.DirectionsService,ce=X.orderedWaypoints||[];if(ce.length<2){console.error("MapView: Not enough waypoints to create a route");return}const he=ce.map(ue=>typeof ue=="string"?ue:ue&&ue.address?ue.address:ue&&ue.position?new window.google.maps.LatLng(ue.position.lat,ue.position.lng):ue),Se=he.slice(1,he.length-1).map(ue=>({location:ue,stopover:!0}));ne.route({origin:he[0],destination:he[he.length-1],waypoints:Se,optimizeWaypoints:!1,travelMode:window.google.maps.TravelMode.DRIVING},(ue,pe)=>{pe===window.google.maps.DirectionsStatus.OK?(console.log("MapView: Successfully received directions for optimized route"),f(ue)):(console.error("MapView: Error getting directions for optimized route:",pe),alert(`Error getting directions: ${pe}`))})}catch(ne){console.error("MapView: Error displaying optimized route:",ne)}},[]);l.useEffect(()=>{r&&p&&h&&window.google&&(console.log("MapView: Optimized route data changed, displaying route and recreating markers"),xe(h),setTimeout(()=>{w.current&&re()},100))},[r,p,h,xe,re]),l.useCallback(X=>{console.log("MapView: Map loaded"),w.current=X,a(!0)},[]),l.useCallback(()=>{n&&s(null),window.closeHamburgerMenu&&window.closeHamburgerMenu()},[n]);const te={textAlign:"center",padding:"15px",fontSize:b?"10px":"24px",fontWeight:"bold",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1,borderRadius:"5px"};console.log("MapView: Rendering Google Map component");let Oe;return window.google?j?Oe=c.jsx("div",{children:"Loading garage sales..."}):D?Oe=c.jsxs("div",{children:["Error loading garage sales: ",D]}):Oe=c.jsxs("div",{className:"map-container",children:[c.jsx("div",{style:te,children:T}),c.jsxs(Yu,{mapContainerStyle:e||{width:"100%",height:"100vh"},center:g,zoom:13,onClick:()=>{n&&s(null),window.closeHamburgerMenu&&window.closeHamburgerMenu()},onLoad:X=>{console.log("Map component loaded"),w.current=X,X&&window.google&&(console.log("Setting map options with screen width:",y,"isCompactView:",b),b?X.setOptions({disableDefaultUI:!0,mapTypeControl:!0,mapTypeControlOptions:{position:window.google.maps.ControlPosition.LEFT_BOTTOM,style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR},zoomControl:!1,fullscreenControl:!0,fullscreenControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT},streetViewControl:!0,scaleControl:!0}):X.setOptions({disableDefaultUI:!0,mapTypeControl:!0,mapTypeControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT,style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR},zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_CENTER},fullscreenControl:!0,fullscreenControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT},streetViewControl:!0,scaleControl:!0})),a(!0);const ne=document.createElement("button");ne.title="My Location",ne.classList.add("my-location-button");const ce=document.createElement("div");ce.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4285F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle><line x1="12" y1="2" x2="12" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg>',ce.classList.add("icon-container"),ne.appendChild(ce),X.controls[window.google.maps.ControlPosition.RIGHT_BOTTOM].push(ne),ne.addEventListener("click",()=>{V()}),O!=null&&O.length&&window.google&&(console.log("Map loaded with data available, creating markers immediately"),setTimeout(()=>{re(),ae()},100))},onUnmount:X=>{console.log("Map component unmounted"),w.current=null},options:t,children:[u&&p&&c.jsx(al,{directions:u,options:{suppressMarkers:!0,suppressPolylines:!0,polylineOptions:{strokeColor:"#4285F4",strokeWeight:5,strokeOpacity:.8}}}),n&&c.jsx(sl,{position:{lat:n.position.lat,lng:n.position.lng},onCloseClick:()=>s(null),children:c.jsxs("div",{className:"info-window-content",children:[c.jsx("h3",{children:n.address}),c.jsx("p",{children:n.description||"No description available"}),c.jsxs("button",{onClick:()=>{const X=encodeURIComponent(n.address);let ne;I?ne=`https://www.google.com/maps/dir/?api=1&origin=${`${I.lat},${I.lng}`}&destination=${X}&travelmode=driving`:ne=`https://www.google.com/maps/dir/?api=1&destination=${X}&travelmode=driving`,window.open(ne,"_blank")},style:{backgroundColor:"#4285F4",color:"white",border:"none",borderRadius:"4px",padding:"8px 12px",marginTop:"10px",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:[c.jsx("span",{style:{marginRight:"5px"},children:"📍"})," Navigate here"]})]})})]})]}):(console.error("Google Maps API not loaded yet"),Oe=c.jsx(xv,{error:"Google Maps not loaded yet. Please try refreshing the page."})),Oe}function Cv(){const{communityName:e}=ot();return l.useEffect(()=>{const t="Community Map";return e?document.title=`${e} - Community Sale Day`:document.title=t,()=>{document.title=t}},[e]),null}function Lv(){dt.initialize("G-N8DHMWKCTQ");const t=Ie(),n=l.useMemo(()=>["places","marker"],[]),s=l.useMemo(()=>({width:"100%",height:"100vh"}),[]),r=l.useMemo(()=>{var a,i,o,u,f,p,d,h,m,g,v,y;return{disableDefaultUI:!1,zoomControl:!0,mapId:"d9eb5bc421d27b34",streetViewControl:!0,mapTypeControl:!0,mapTypeControlOptions:{position:(o=(i=(a=window.google)==null?void 0:a.maps)==null?void 0:i.ControlPosition)==null?void 0:o.TOP_RIGHT,style:(p=(f=(u=window.google)==null?void 0:u.maps)==null?void 0:f.MapTypeControlStyle)==null?void 0:p.DROPDOWN_MENU},fullscreenControl:!0,fullscreenControlOptions:{position:(m=(h=(d=window.google)==null?void 0:d.maps)==null?void 0:h.ControlPosition)==null?void 0:m.TOP_RIGHT},zoomControlOptions:{position:(y=(v=(g=window.google)==null?void 0:g.maps)==null?void 0:v.ControlPosition)==null?void 0:y.RIGHT_CENTER}}},[]);return l.useEffect(()=>{dt.send({hitType:"pageview",page:t.pathname+t.search})},[t]),c.jsx(gh,{children:c.jsx(Ya,{googleMapsApiKey:"AIzaSyA6_Ip4EpqzfW1JjKOgcb8pPPGMgjAUvos",libraries:n,loadingElement:c.jsx("div",{children:"Loading Google Maps..."}),children:c.jsx(zl,{children:c.jsx(yh,{children:c.jsx(mh,{children:c.jsx(Sh,{children:c.jsx(kh,{children:c.jsxs(vh,{children:[c.jsx(Cv,{}),c.jsx("div",{className:"app",children:c.jsxs(Iu,{children:[c.jsx(Te,{path:"/loginRedirect",element:c.jsx(Ah,{})}),c.jsx(Te,{path:"/about",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Ia,{})]})}),c.jsx(Te,{path:"/info",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Lh,{})]})}),c.jsx(Te,{path:"/help",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Mh,{})]})}),c.jsx(Te,{path:"/list-active-community-sales-events",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(jh,{})]})}),c.jsx(Te,{path:"/login",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Nh,{})]})}),c.jsx(Te,{path:"/reset-password",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Dh,{})]})}),c.jsx(Te,{path:"/sales",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(_h,{})]})}),c.jsx(Te,{path:"/single-garage-sales",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Uh,{})]})}),c.jsx(Te,{path:"/",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx("div",{className:"map-container",children:c.jsx(Sv,{mapContainerStyle:s,mapOptions:r})})]})}),c.jsx(Te,{path:"/landing",element:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Ia,{})]})}),c.jsx(Te,{path:"/lander",element:c.jsx(Rh,{})}),c.jsx(Te,{path:"/admin/community-sales",element:c.jsx(On,{children:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(bv,{})]})})}),c.jsx(Te,{path:"/admin/sales",element:c.jsx(On,{children:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(vv,{})]})})}),c.jsx(Te,{path:"/admin/bulk-upload",element:c.jsx(On,{children:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(yv,{})]})})}),c.jsx(Te,{path:"/register-garage-sale",element:c.jsx(On,{children:c.jsxs(c.Fragment,{children:[c.jsx(Fe,{}),c.jsx(Fh,{})]})})})]})})]})})})})})})})})}const On=({children:e})=>{const{isAuthenticated:t}=qe();return t?e:c.jsx(Mu,{to:"/login",replace:!0})},Ev={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};Bc.createRoot(document.getElementById("root")).render(c.jsx(zl,{children:c.jsx(Th,{children:c.jsx(bh,{children:c.jsx(Ru,{...Ev,children:c.jsx(Lv,{})})})})}));
