import{r as Lc,a as l,R as Ec,j as u,b as Oc,c as Pc}from"./index-DvoynsD9.js";var dt=Lc();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dt(){return Dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Dt.apply(this,arguments)}var Qe;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qe||(Qe={}));const qr="popstate";function jc(e){e===void 0&&(e={});function t(s,r){let{pathname:a,search:i,hash:o}=s.location;return Bs("",{pathname:a,search:i,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Ca(r)}return kc(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mc(){return Math.random().toString(36).substr(2,8)}function Zr(e,t){return{usr:e.state,key:e.key,idx:t}}function Bs(e,t,n,s){return n===void 0&&(n=null),Dt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bt(t):t,{state:n,key:t&&t.key||s||Mc()})}function Ca(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function bt(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function kc(e,t,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,i=r.history,o=Qe.Pop,c=null,f=p();f==null&&(f=0,i.replaceState(Dt({},i.state,{idx:f}),""));function p(){return(i.state||{idx:null}).idx}function d(){o=Qe.Pop;let y=p(),b=y==null?null:y-f;f=y,c&&c({action:o,location:v.location,delta:b})}function h(y,b){o=Qe.Push;let x=Bs(v.location,y,b);f=p()+1;let E=Zr(x,f),C=v.createHref(x);try{i.pushState(E,"",C)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;r.location.assign(C)}a&&c&&c({action:o,location:v.location,delta:1})}function g(y,b){o=Qe.Replace;let x=Bs(v.location,y,b);f=p();let E=Zr(x,f),C=v.createHref(x);i.replaceState(E,"",C),a&&c&&c({action:o,location:v.location,delta:0})}function m(y){let b=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof y=="string"?y:Ca(y);return x=x.replace(/ $/,"%20"),ye(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let v={get action(){return o},get location(){return e(r,i)},listen(y){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(qr,d),c=y,()=>{r.removeEventListener(qr,d),c=null}},createHref(y){return t(r,y)},createURL:m,encodeLocation(y){let b=m(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(y){return i.go(y)}};return v}var Kr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kr||(Kr={}));function Ic(e,t,n){return n===void 0&&(n="/"),Nc(e,t,n)}function Nc(e,t,n,s){let r=typeof t=="string"?bt(t):t,a=Ea(r.pathname||"/",n);if(a==null)return null;let i=Sa(e);Rc(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let f=Gc(a);o=$c(i[c],f)}return o}function Sa(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,i,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};c.relativePath.startsWith("/")&&(ye(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let f=ot([s,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(ye(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Sa(a.children,t,p,f)),!(a.path==null&&!a.index)&&t.push({path:f,score:Bc(f,a.index),routesMeta:p})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,i);else for(let c of La(a.path))r(a,i,c)}),t}function La(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let i=La(s.join("/")),o=[];return o.push(...i.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Rc(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vc(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Tc=/^:[\w-]+$/,Dc=3,Ac=2,Uc=1,_c=10,Fc=-2,Jr=e=>e==="*";function Bc(e,t){let n=e.split("/"),s=n.length;return n.some(Jr)&&(s+=Fc),t&&(s+=Ac),n.filter(r=>!Jr(r)).reduce((r,a)=>r+(Tc.test(a)?Dc:a===""?Uc:_c),s)}function Vc(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function $c(e,t,n){let{routesMeta:s}=e,r={},a="/",i=[];for(let o=0;o<s.length;++o){let c=s[o],f=o===s.length-1,p=a==="/"?t:t.slice(a.length)||"/",d=zc({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},p),h=c.route;if(!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:ot([a,d.pathname]),pathnameBase:Kc(ot([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=ot([a,d.pathnameBase]))}return i}function zc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Hc(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],i=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((f,p,d)=>{let{paramName:h,isOptional:g}=p;if(h==="*"){let v=o[d]||"";i=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?f[h]=void 0:f[h]=(m||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:i,pattern:e}}function Hc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function Gc(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ea(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Wc(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?bt(e):e;return{pathname:n?n.startsWith("/")?n:qc(n,t):t,search:Jc(s),hash:Yc(r)}}function qc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function vs(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zc(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Oa(e,t){let n=Zc(e);return t?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function Pa(e,t,n,s){s===void 0&&(s=!1);let r;typeof e=="string"?r=bt(e):(r=Dt({},e),ye(!r.pathname||!r.pathname.includes("?"),vs("?","pathname","search",r)),ye(!r.pathname||!r.pathname.includes("#"),vs("#","pathname","hash",r)),ye(!r.search||!r.search.includes("#"),vs("#","search","hash",r)));let a=e===""||r.pathname==="",i=a?"/":r.pathname,o;if(i==null)o=n;else{let d=t.length-1;if(!s&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}o=d>=0?t[d]:"/"}let c=Wc(r,o),f=i&&i!=="/"&&i.endsWith("/"),p=(a||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||p)&&(c.pathname+="/"),c}const ot=e=>e.join("/").replace(/\/\/+/g,"/"),Kc=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jc=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yc=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ja=["post","put","patch","delete"];new Set(ja);const Qc=["get",...ja];new Set(Qc);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},At.apply(this,arguments)}const ur=l.createContext(null),eu=l.createContext(null),Vt=l.createContext(null),es=l.createContext(null),pt=l.createContext({outlet:null,matches:[],isDataRoute:!1}),Ma=l.createContext(null);function $t(){return l.useContext(es)!=null}function xe(){return $t()||ye(!1),l.useContext(es).location}function ka(e){l.useContext(Vt).static||l.useLayoutEffect(e)}function Ce(){let{isDataRoute:e}=l.useContext(pt);return e?fu():tu()}function tu(){$t()||ye(!1);let e=l.useContext(ur),{basename:t,future:n,navigator:s}=l.useContext(Vt),{matches:r}=l.useContext(pt),{pathname:a}=xe(),i=JSON.stringify(Oa(r,n.v7_relativeSplatPath)),o=l.useRef(!1);return ka(()=>{o.current=!0}),l.useCallback(function(f,p){if(p===void 0&&(p={}),!o.current)return;if(typeof f=="number"){s.go(f);return}let d=Pa(f,JSON.parse(i),a,p.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ot([t,d.pathname])),(p.replace?s.replace:s.push)(d,p.state,p)},[t,s,i,a,e])}function nu(e,t){return su(e,t)}function su(e,t,n,s){$t()||ye(!1);let{navigator:r}=l.useContext(Vt),{matches:a}=l.useContext(pt),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let f=xe(),p;if(t){var d;let y=typeof t=="string"?bt(t):t;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||ye(!1),p=y}else p=f;let h=p.pathname||"/",g=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=Ic(e,{pathname:g}),v=lu(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:ot([c,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:ot([c,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,s);return t&&v?l.createElement(es.Provider,{value:{location:At({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Qe.Pop}},v):v}function ru(){let e=pu(),t=Xc(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:r},n):null,null)}const ou=l.createElement(ru,null);class iu extends l.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?l.createElement(pt.Provider,{value:this.props.routeContext},l.createElement(Ma.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function au(e){let{routeContext:t,match:n,children:s}=e,r=l.useContext(ur);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(pt.Provider,{value:t},s)}function lu(e,t,n,s){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(r=n)==null?void 0:r.errors;if(o!=null){let p=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);p>=0||ye(!1),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,f=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<i.length;p++){let d=i[p];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(f=p),d.route.id){let{loaderData:h,errors:g}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){c=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((p,d,h)=>{let g,m=!1,v=null,y=null;n&&(g=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||ou,c&&(f<0&&h===0?(hu("route-fallback"),m=!0,y=null):f===h&&(m=!0,y=d.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),x=()=>{let E;return g?E=v:m?E=y:d.route.Component?E=l.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=p,l.createElement(au,{match:d,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?l.createElement(iu,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var Ia=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ia||{}),Na=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Na||{});function cu(e){let t=l.useContext(ur);return t||ye(!1),t}function uu(e){let t=l.useContext(eu);return t||ye(!1),t}function du(e){let t=l.useContext(pt);return t||ye(!1),t}function Ra(e){let t=du(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function pu(){var e;let t=l.useContext(Ma),n=uu(),s=Ra();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function fu(){let{router:e}=cu(Ia.UseNavigateStable),t=Ra(Na.UseNavigateStable),n=l.useRef(!1);return ka(()=>{n.current=!0}),l.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,At({fromRouteId:t},a)))},[e,t])}const Yr={};function hu(e,t,n){Yr[e]||(Yr[e]=!0)}function mu(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gu(e){let{to:t,replace:n,state:s,relative:r}=e;$t()||ye(!1);let{future:a,static:i}=l.useContext(Vt),{matches:o}=l.useContext(pt),{pathname:c}=xe(),f=Ce(),p=Pa(t,Oa(o,a.v7_relativeSplatPath),c,r==="path"),d=JSON.stringify(p);return l.useEffect(()=>f(JSON.parse(d),{replace:n,state:s,relative:r}),[f,d,r,n,s]),null}function Pe(e){ye(!1)}function vu(e){let{basename:t="/",children:n=null,location:s,navigationType:r=Qe.Pop,navigator:a,static:i=!1,future:o}=e;$t()&&ye(!1);let c=t.replace(/^\/*/,"/"),f=l.useMemo(()=>({basename:c,navigator:a,static:i,future:At({v7_relativeSplatPath:!1},o)}),[c,o,a,i]);typeof s=="string"&&(s=bt(s));let{pathname:p="/",search:d="",hash:h="",state:g=null,key:m="default"}=s,v=l.useMemo(()=>{let y=Ea(p,c);return y==null?null:{location:{pathname:y,search:d,hash:h,state:g,key:m},navigationType:r}},[c,p,d,h,g,m,r]);return v==null?null:l.createElement(Vt.Provider,{value:f},l.createElement(es.Provider,{children:n,value:v}))}function yu(e){let{children:t,location:n}=e;return nu(Vs(t),n)}new Promise(()=>{});function Vs(e,t){t===void 0&&(t=[]);let n=[];return l.Children.forEach(e,(s,r)=>{if(!l.isValidElement(s))return;let a=[...t,r];if(s.type===l.Fragment){n.push.apply(n,Vs(s.props.children,a));return}s.type!==Pe&&ye(!1),!s.props.index||!s.props.children||ye(!1);let i={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=Vs(s.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bu="6";try{window.__reactRouterVersion=bu}catch{}const wu="startTransition",Xr=Ec[wu];function xu(e){let{basename:t,children:n,future:s,window:r}=e,a=l.useRef();a.current==null&&(a.current=jc({window:r,v5Compat:!0}));let i=a.current,[o,c]=l.useState({action:i.action,location:i.location}),{v7_startTransition:f}=s||{},p=l.useCallback(d=>{f&&Xr?Xr(()=>c(d)):c(d)},[c,f]);return l.useLayoutEffect(()=>i.listen(p),[i,p]),l.useEffect(()=>mu(s),[s]),l.createElement(vu,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}var Qr;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qr||(Qr={}));var eo;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(eo||(eo={}));function Ut(e){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ut(e)}function Cu(e,t){if(Ut(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(Ut(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Su(e){var t=Cu(e,"string");return Ut(t)=="symbol"?t:t+""}function N(e,t,n){return(t=Su(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ta(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ys,to;function Lu(){if(to)return ys;to=1;var e=function(n,s,r,a,i,o,c,f){if(!n){var p;if(s===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,a,i,o,c,f],h=0;p=new Error(s.replace(/%s/g,function(){return d[h++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return ys=e,ys}var Eu=Lu(),be=Ta(Eu),re=l.createContext(null);function Ou(){be(!!l.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=l.useContext(re);return be(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}function Pu(e,t,n){return Object.keys(e).reduce(function(r,a){return t(r,e[a],a)},n)}function ju(e,t){Object.keys(e).forEach(n=>t(e[n],n))}function Mu(e,t,n,s){var r={},a=(i,o)=>{var c=n[o];c!==t[o]&&(r[o]=c,i(s,c))};return ju(e,a),r}function ku(e,t,n){var s=Pu(n,function(a,i,o){return typeof e[o]=="function"&&a.push(google.maps.event.addListener(t,i,e[o])),a},[]);return s}function Iu(e){google.maps.event.removeListener(e)}function ie(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];e.forEach(Iu)}function oe(e){var{updaterMap:t,eventMap:n,prevProps:s,nextProps:r,instance:a}=e,i=ku(r,a,n);return Mu(t,s,r,a),i}var no={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},so={extraMapTypes(e,t){t.forEach(function(s,r){e.mapTypes.set(String(r),s)})},center(e,t){e.setCenter(t)},clickableIcons(e,t){e.setClickableIcons(t)},heading(e,t){e.setHeading(t)},mapTypeId(e,t){e.setMapTypeId(t)},options(e,t){e.setOptions(t)},streetView(e,t){e.setStreetView(t)},tilt(e,t){e.setTilt(t)},zoom(e,t){e.setZoom(t)}};function Nu(e){var{children:t,options:n,id:s,mapContainerStyle:r,mapContainerClassName:a,center:i,onClick:o,onDblClick:c,onDrag:f,onDragEnd:p,onDragStart:d,onMouseMove:h,onMouseOut:g,onMouseOver:m,onMouseDown:v,onMouseUp:y,onRightClick:b,onCenterChanged:x,onLoad:E,onUnmount:C}=e,[w,L]=l.useState(null),S=l.useRef(null),[P,O]=l.useState(null),[k,M]=l.useState(null),[U,F]=l.useState(null),[A,B]=l.useState(null),[z,Z]=l.useState(null),[W,q]=l.useState(null),[G,K]=l.useState(null),[X,R]=l.useState(null),[_,j]=l.useState(null),[$,D]=l.useState(null),[T,H]=l.useState(null),[V,J]=l.useState(null);return l.useEffect(()=>{n&&w!==null&&w.setOptions(n)},[w,n]),l.useEffect(()=>{w!==null&&typeof i<"u"&&w.setCenter(i)},[w,i]),l.useEffect(()=>{w&&c&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(w,"dblclick",c)))},[c]),l.useEffect(()=>{w&&p&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(w,"dragend",p)))},[p]),l.useEffect(()=>{w&&d&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(w,"dragstart",d)))},[d]),l.useEffect(()=>{w&&v&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(w,"mousedown",v)))},[v]),l.useEffect(()=>{w&&h&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(w,"mousemove",h)))},[h]),l.useEffect(()=>{w&&g&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(w,"mouseout",g)))},[g]),l.useEffect(()=>{w&&m&&(X!==null&&google.maps.event.removeListener(X),R(google.maps.event.addListener(w,"mouseover",m)))},[m]),l.useEffect(()=>{w&&y&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(w,"mouseup",y)))},[y]),l.useEffect(()=>{w&&b&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(w,"rightclick",b)))},[b]),l.useEffect(()=>{w&&o&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(w,"click",o)))},[o]),l.useEffect(()=>{w&&f&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(w,"drag",f)))},[f]),l.useEffect(()=>{w&&x&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(w,"center_changed",x)))},[o]),l.useEffect(()=>{var fe=S.current===null?null:new google.maps.Map(S.current,n);return L(fe),fe!==null&&E&&E(fe),()=>{fe!==null&&C&&C(fe)}},[]),u.jsx("div",{id:s,ref:S,style:r,className:a,children:u.jsx(re.Provider,{value:w,children:w!==null?t:null})})}l.memo(Nu);class Ru extends l.PureComponent{constructor(){super(...arguments),N(this,"state",{map:null}),N(this,"registeredEvents",[]),N(this,"mapRef",null),N(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),N(this,"panTo",t=>{var n=this.getInstance();n&&n.panTo(t)}),N(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),N(this,"getRef",t=>{this.mapRef=t})}componentDidMount(){var t=this.getInstance();this.registeredEvents=oe({updaterMap:so,eventMap:no,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{map:t}},this.setMapCallback)}componentDidUpdate(t){this.state.map!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:so,eventMap:no,prevProps:t,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),ie(this.registeredEvents))}render(){return u.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:u.jsx(re.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function ro(e,t,n,s,r,a,i){try{var o=e[a](i),c=o.value}catch(f){return void n(f)}o.done?t(c):Promise.resolve(c).then(s,r)}function Da(e){return function(){var t=this,n=arguments;return new Promise(function(s,r){var a=e.apply(t,n);function i(c){ro(a,s,r,i,o,"next",c)}function o(c){ro(a,s,r,i,o,"throw",c)}i(void 0)})}}function Aa(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:s="weekly",language:r,region:a,libraries:i,channel:o,mapIds:c,authReferrerPolicy:f}=e,p=[];return be(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?p.push("key=".concat(t)):n&&p.push("client=".concat(n)),s&&p.push("v=".concat(s)),r&&p.push("language=".concat(r)),a&&p.push("region=".concat(a)),i&&i.length&&p.push("libraries=".concat(i.sort().join(","))),o&&p.push("channel=".concat(o)),c&&c.length&&p.push("map_ids=".concat(c.join(","))),f&&p.push("auth_referrer_policy=".concat(f)),p.push("loading=async"),p.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(p.join("&"))}var st=typeof document<"u";function Ua(e){var{url:t,id:n,nonce:s}=e;return st?new Promise(function(a,i){var o=document.getElementById(n),c=window;if(o){var f=o.getAttribute("data-state");if(o.src===t&&f!=="error"){if(f==="ready")return a(n);var p=c.initMap,d=o.onerror;c.initMap=function(){p&&p(),a(n)},o.onerror=function(g){d&&d(g),i(g)};return}else o.remove()}var h=document.createElement("script");h.type="text/javascript",h.src=t,h.id=n,h.async=!0,h.nonce=s||"",h.onerror=function(m){h.setAttribute("data-state","error"),i(m)},c.initMap=function(){h.setAttribute("data-state","ready"),a(n)},document.head.appendChild(h)}).catch(r=>{throw console.error("injectScript error: ",r),r}):Promise.reject(new Error("document is undefined"))}function oo(e){var t=e.href;return t&&(t.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:e.tagName.toLowerCase()==="style"&&e.styleSheet&&e.styleSheet.cssText&&e.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(e.styleSheet.cssText="",!0):e.tagName.toLowerCase()==="style"&&e.innerHTML&&e.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(e.innerHTML="",!0):e.tagName.toLowerCase()==="style"&&!e.styleSheet&&!e.innerHTML}function _a(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(r,a){return oo(r)||Reflect.apply(t,e,[r,a]),r};var n=e.appendChild.bind(e);e.appendChild=function(r){return oo(r)||Reflect.apply(n,e,[r]),r}}}var Pt=!1;function Fa(){return u.jsx("div",{children:"Loading..."})}var $s={id:"script-loader",version:"weekly"};class Ba extends l.PureComponent{constructor(){super(...arguments),N(this,"check",null),N(this,"state",{loaded:!1}),N(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),N(this,"isCleaningUp",Da(function*(){function t(n){if(!Pt)n();else if(st)var s=window.setInterval(function(){Pt||(window.clearInterval(s),n())},1)}return new Promise(t)})),N(this,"cleanup",()=>{Pt=!0;var t=document.getElementById(this.props.id);t&&t.parentNode&&t.parentNode.removeChild(t),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(s){return typeof s.src=="string"&&s.src.includes("maps.googleapis")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(s){return s.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(s){return s.innerText!==void 0&&s.innerText.length>0&&s.innerText.includes(".gm-")}).forEach(function(s){s.parentNode&&s.parentNode.removeChild(s)})}),N(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&_a(),be(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var t={id:this.props.id,nonce:this.props.nonce,url:Aa(this.props)};Ua(t).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),N(this,"getRef",t=>{this.check=t})}componentDidMount(){if(st){if(window.google&&window.google.maps&&!Pt){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(t){this.props.libraries!==t.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),st&&t.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(st){this.cleanup();var t=()=>{this.check||(delete window.google,Pt=!1)};window.setTimeout(t,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||u.jsx(Fa,{})]})}}N(Ba,"defaultProps",$s);function Tu(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;n[s]=e[s]}return n}function dr(e,t){if(e==null)return{};var n,s,r=Tu(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var io;function Du(e){var{id:t=$s.id,version:n=$s.version,nonce:s,googleMapsApiKey:r,googleMapsClientId:a,language:i,region:o,libraries:c,preventGoogleFontsLoading:f,channel:p,mapIds:d,authReferrerPolicy:h}=e,g=l.useRef(!1),[m,v]=l.useState(!1),[y,b]=l.useState(void 0);l.useEffect(function(){return g.current=!0,()=>{g.current=!1}},[]),l.useEffect(function(){st&&f&&_a()},[f]),l.useEffect(function(){m&&be(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[m]);var x=Aa({version:n,googleMapsApiKey:r,googleMapsClientId:a,language:i,region:o,libraries:c,channel:p,mapIds:d,authReferrerPolicy:h});l.useEffect(function(){if(!st)return;function w(){g.current&&(v(!0),io=x)}if(window.google&&window.google.maps&&io===x){w();return}Ua({id:t,url:x,nonce:s}).then(w).catch(function(S){g.current&&b(S),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(r||"-",") or Client ID (").concat(a||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(S)})},[t,x,s]);var E=l.useRef(void 0);return l.useEffect(function(){E.current&&c!==E.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),E.current=c},[c]),{isLoaded:m,loadError:y,url:x}}var Au=["loadingElement","onLoad","onError","onUnmount","children"],Uu=u.jsx(Fa,{});function _u(e){var{loadingElement:t,onLoad:n,onError:s,onUnmount:r,children:a}=e,i=dr(e,Au),{isLoaded:o,loadError:c}=Du(i);return l.useEffect(function(){o&&typeof n=="function"&&n()},[o,n]),l.useEffect(function(){c&&typeof s=="function"&&s(c)},[c,s]),l.useEffect(function(){return()=>{r&&r()}},[r]),o?a:t||Uu}l.memo(_u);var ao;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(ao||(ao={}));function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var co={},uo={options(e,t){e.setOptions(t)}};function Fu(e){var{options:t,onLoad:n,onUnmount:s}=e,r=l.useContext(re),[a,i]=l.useState(null);return l.useEffect(()=>{a!==null&&a.setMap(r)},[r]),l.useEffect(()=>{t&&a!==null&&a.setOptions(t)},[a,t]),l.useEffect(()=>{var o=new google.maps.TrafficLayer(Un(Un({},t),{},{map:r}));return i(o),n&&n(o),()=>{a!==null&&(s&&s(a),a.setMap(null))}},[]),null}l.memo(Fu);class Bu extends l.PureComponent{constructor(){super(...arguments),N(this,"state",{trafficLayer:null}),N(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),N(this,"registeredEvents",[])}componentDidMount(){var t=new google.maps.TrafficLayer(Un(Un({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:uo,eventMap:co,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{trafficLayer:t}},this.setTrafficLayerCallback)}componentDidUpdate(t){this.state.trafficLayer!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:uo,eventMap:co,prevProps:t,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ie(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}N(Bu,"contextType",re);function Vu(e){var{onLoad:t,onUnmount:n}=e,s=l.useContext(re),[r,a]=l.useState(null);return l.useEffect(()=>{r!==null&&r.setMap(s)},[s]),l.useEffect(()=>{var i=new google.maps.BicyclingLayer;return a(i),i.setMap(s),t&&t(i),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}l.memo(Vu);class $u extends l.PureComponent{constructor(){super(...arguments),N(this,"state",{bicyclingLayer:null}),N(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var t=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:t}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}N($u,"contextType",re);function zu(e){var{onLoad:t,onUnmount:n}=e,s=l.useContext(re),[r,a]=l.useState(null);return l.useEffect(()=>{r!==null&&r.setMap(s)},[s]),l.useEffect(()=>{var i=new google.maps.TransitLayer;return a(i),i.setMap(s),t&&t(i),()=>{r!==null&&(n&&n(r),r.setMap(null))}},[]),null}l.memo(zu);class Hu extends l.PureComponent{constructor(){super(...arguments),N(this,"state",{transitLayer:null}),N(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var t=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:t}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}N(Hu,"contextType",re);function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?po(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var fo={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},ho={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};function Gu(e){var{options:t,drawingMode:n,onCircleComplete:s,onMarkerComplete:r,onOverlayComplete:a,onPolygonComplete:i,onPolylineComplete:o,onRectangleComplete:c,onLoad:f,onUnmount:p}=e,d=l.useContext(re),[h,g]=l.useState(null),[m,v]=l.useState(null),[y,b]=l.useState(null),[x,E]=l.useState(null),[C,w]=l.useState(null),[L,S]=l.useState(null),[P,O]=l.useState(null);return l.useEffect(()=>{h!==null&&h.setMap(d)},[d]),l.useEffect(()=>{t&&h!==null&&h.setOptions(t)},[h,t]),l.useEffect(()=>{h!==null&&h.setDrawingMode(n??null)},[h,n]),l.useEffect(()=>{h&&s&&(m!==null&&google.maps.event.removeListener(m),v(google.maps.event.addListener(h,"circlecomplete",s)))},[h,s]),l.useEffect(()=>{h&&r&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(h,"markercomplete",r)))},[h,r]),l.useEffect(()=>{h&&a&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(h,"overlaycomplete",a)))},[h,a]),l.useEffect(()=>{h&&i&&(C!==null&&google.maps.event.removeListener(C),w(google.maps.event.addListener(h,"polygoncomplete",i)))},[h,i]),l.useEffect(()=>{h&&o&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(h,"polylinecomplete",o)))},[h,o]),l.useEffect(()=>{h&&c&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(h,"rectanglecomplete",c)))},[h,c]),l.useEffect(()=>{be(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var k=new google.maps.drawing.DrawingManager(_n(_n({},t),{},{map:d}));return n&&k.setDrawingMode(n),s&&v(google.maps.event.addListener(k,"circlecomplete",s)),r&&b(google.maps.event.addListener(k,"markercomplete",r)),a&&E(google.maps.event.addListener(k,"overlaycomplete",a)),i&&w(google.maps.event.addListener(k,"polygoncomplete",i)),o&&S(google.maps.event.addListener(k,"polylinecomplete",o)),c&&O(google.maps.event.addListener(k,"rectanglecomplete",c)),g(k),f&&f(k),()=>{h!==null&&(m&&google.maps.event.removeListener(m),y&&google.maps.event.removeListener(y),x&&google.maps.event.removeListener(x),C&&google.maps.event.removeListener(C),L&&google.maps.event.removeListener(L),P&&google.maps.event.removeListener(P),p&&p(h),h.setMap(null))}},[]),null}l.memo(Gu);class Wu extends l.PureComponent{constructor(t){super(t),N(this,"registeredEvents",[]),N(this,"state",{drawingManager:null}),N(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),be(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var t=new google.maps.drawing.DrawingManager(_n(_n({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:ho,eventMap:fo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{drawingManager:t}},this.setDrawingManagerCallback)}componentDidUpdate(t){this.state.drawingManager!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:ho,eventMap:fo,prevProps:t,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ie(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}N(Wu,"contextType",re);function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var go={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},vo={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},Fn={};function qu(e){var{position:t,options:n,clusterer:s,noClustererRedraw:r,children:a,draggable:i,visible:o,animation:c,clickable:f,cursor:p,icon:d,label:h,opacity:g,shape:m,title:v,zIndex:y,onClick:b,onDblClick:x,onDrag:E,onDragEnd:C,onDragStart:w,onMouseOut:L,onMouseOver:S,onMouseUp:P,onMouseDown:O,onRightClick:k,onClickableChanged:M,onCursorChanged:U,onAnimationChanged:F,onDraggableChanged:A,onFlatChanged:B,onIconChanged:z,onPositionChanged:Z,onShapeChanged:W,onTitleChanged:q,onVisibleChanged:G,onZindexChanged:K,onLoad:X,onUnmount:R}=e,_=l.useContext(re),[j,$]=l.useState(null),[D,T]=l.useState(null),[H,V]=l.useState(null),[J,fe]=l.useState(null),[ue,Le]=l.useState(null),[te,Ze]=l.useState(null),[je,et]=l.useState(null),[Ve,Et]=l.useState(null),[qt,Ir]=l.useState(null),[Zt,Nr]=l.useState(null),[Rr,Tr]=l.useState(null),[Kt,Dr]=l.useState(null),[Jt,Ar]=l.useState(null),[Yt,Ur]=l.useState(null),[Xt,_r]=l.useState(null),[Qt,Fr]=l.useState(null),[en,Br]=l.useState(null),[tn,Vr]=l.useState(null),[$r,zr]=l.useState(null),[nn,Hr]=l.useState(null),[sn,Gr]=l.useState(null),[rn,Wr]=l.useState(null);l.useEffect(()=>{j!==null&&j.setMap(_)},[_]),l.useEffect(()=>{typeof n<"u"&&j!==null&&j.setOptions(n)},[j,n]),l.useEffect(()=>{typeof i<"u"&&j!==null&&j.setDraggable(i)},[j,i]),l.useEffect(()=>{t&&j!==null&&j.setPosition(t)},[j,t]),l.useEffect(()=>{typeof o<"u"&&j!==null&&j.setVisible(o)},[j,o]),l.useEffect(()=>{j==null||j.setAnimation(c)},[j,c]),l.useEffect(()=>{j&&f!==void 0&&j.setClickable(f)},[j,f]),l.useEffect(()=>{j&&p!==void 0&&j.setCursor(p)},[j,p]),l.useEffect(()=>{j&&d!==void 0&&j.setIcon(d)},[j,d]),l.useEffect(()=>{j&&h!==void 0&&j.setLabel(h)},[j,h]),l.useEffect(()=>{j&&g!==void 0&&j.setOpacity(g)},[j,g]),l.useEffect(()=>{j&&m!==void 0&&j.setShape(m)},[j,m]),l.useEffect(()=>{j&&v!==void 0&&j.setTitle(v)},[j,v]),l.useEffect(()=>{j&&y!==void 0&&j.setZIndex(y)},[j,y]),l.useEffect(()=>{j&&x&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(j,"dblclick",x)))},[x]),l.useEffect(()=>{j&&C&&(H!==null&&google.maps.event.removeListener(H),V(google.maps.event.addListener(j,"dragend",C)))},[C]),l.useEffect(()=>{j&&w&&(J!==null&&google.maps.event.removeListener(J),fe(google.maps.event.addListener(j,"dragstart",w)))},[w]),l.useEffect(()=>{j&&O&&(ue!==null&&google.maps.event.removeListener(ue),Le(google.maps.event.addListener(j,"mousedown",O)))},[O]),l.useEffect(()=>{j&&L&&(te!==null&&google.maps.event.removeListener(te),Ze(google.maps.event.addListener(j,"mouseout",L)))},[L]),l.useEffect(()=>{j&&S&&(je!==null&&google.maps.event.removeListener(je),et(google.maps.event.addListener(j,"mouseover",S)))},[S]),l.useEffect(()=>{j&&P&&(Ve!==null&&google.maps.event.removeListener(Ve),Et(google.maps.event.addListener(j,"mouseup",P)))},[P]),l.useEffect(()=>{j&&k&&(qt!==null&&google.maps.event.removeListener(qt),Ir(google.maps.event.addListener(j,"rightclick",k)))},[k]),l.useEffect(()=>{j&&b&&(Zt!==null&&google.maps.event.removeListener(Zt),Nr(google.maps.event.addListener(j,"click",b)))},[b]),l.useEffect(()=>{j&&E&&(Rr!==null&&google.maps.event.removeListener(Rr),Tr(google.maps.event.addListener(j,"drag",E)))},[E]),l.useEffect(()=>{j&&M&&(Kt!==null&&google.maps.event.removeListener(Kt),Dr(google.maps.event.addListener(j,"clickable_changed",M)))},[M]),l.useEffect(()=>{j&&U&&(Jt!==null&&google.maps.event.removeListener(Jt),Ar(google.maps.event.addListener(j,"cursor_changed",U)))},[U]),l.useEffect(()=>{j&&F&&(Yt!==null&&google.maps.event.removeListener(Yt),Ur(google.maps.event.addListener(j,"animation_changed",F)))},[F]),l.useEffect(()=>{j&&A&&(Xt!==null&&google.maps.event.removeListener(Xt),_r(google.maps.event.addListener(j,"draggable_changed",A)))},[A]),l.useEffect(()=>{j&&B&&(Qt!==null&&google.maps.event.removeListener(Qt),Fr(google.maps.event.addListener(j,"flat_changed",B)))},[B]),l.useEffect(()=>{j&&z&&(en!==null&&google.maps.event.removeListener(en),Br(google.maps.event.addListener(j,"icon_changed",z)))},[z]),l.useEffect(()=>{j&&Z&&(tn!==null&&google.maps.event.removeListener(tn),Vr(google.maps.event.addListener(j,"position_changed",Z)))},[Z]),l.useEffect(()=>{j&&W&&($r!==null&&google.maps.event.removeListener($r),zr(google.maps.event.addListener(j,"shape_changed",W)))},[W]),l.useEffect(()=>{j&&q&&(nn!==null&&google.maps.event.removeListener(nn),Hr(google.maps.event.addListener(j,"title_changed",q)))},[q]),l.useEffect(()=>{j&&G&&(sn!==null&&google.maps.event.removeListener(sn),Gr(google.maps.event.addListener(j,"visible_changed",G)))},[G]),l.useEffect(()=>{j&&K&&(rn!==null&&google.maps.event.removeListener(rn),Wr(google.maps.event.addListener(j,"zindex_changed",K)))},[K]),l.useEffect(()=>{var Ot=gt(gt(gt({},n||Fn),s?Fn:{map:_}),{},{position:t}),ne=new google.maps.Marker(Ot);return s?s.addMarker(ne,!!r):ne.setMap(_),t&&ne.setPosition(t),typeof o<"u"&&ne.setVisible(o),typeof i<"u"&&ne.setDraggable(i),typeof f<"u"&&ne.setClickable(f),typeof p=="string"&&ne.setCursor(p),d&&ne.setIcon(d),typeof h<"u"&&ne.setLabel(h),typeof g<"u"&&ne.setOpacity(g),m&&ne.setShape(m),typeof v=="string"&&ne.setTitle(v),typeof y=="number"&&ne.setZIndex(y),x&&T(google.maps.event.addListener(ne,"dblclick",x)),C&&V(google.maps.event.addListener(ne,"dragend",C)),w&&fe(google.maps.event.addListener(ne,"dragstart",w)),O&&Le(google.maps.event.addListener(ne,"mousedown",O)),L&&Ze(google.maps.event.addListener(ne,"mouseout",L)),S&&et(google.maps.event.addListener(ne,"mouseover",S)),P&&Et(google.maps.event.addListener(ne,"mouseup",P)),k&&Ir(google.maps.event.addListener(ne,"rightclick",k)),b&&Nr(google.maps.event.addListener(ne,"click",b)),E&&Tr(google.maps.event.addListener(ne,"drag",E)),M&&Dr(google.maps.event.addListener(ne,"clickable_changed",M)),U&&Ar(google.maps.event.addListener(ne,"cursor_changed",U)),F&&Ur(google.maps.event.addListener(ne,"animation_changed",F)),A&&_r(google.maps.event.addListener(ne,"draggable_changed",A)),B&&Fr(google.maps.event.addListener(ne,"flat_changed",B)),z&&Br(google.maps.event.addListener(ne,"icon_changed",z)),Z&&Vr(google.maps.event.addListener(ne,"position_changed",Z)),W&&zr(google.maps.event.addListener(ne,"shape_changed",W)),q&&Hr(google.maps.event.addListener(ne,"title_changed",q)),G&&Gr(google.maps.event.addListener(ne,"visible_changed",G)),K&&Wr(google.maps.event.addListener(ne,"zindex_changed",K)),$(ne),X&&X(ne),()=>{D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),J!==null&&google.maps.event.removeListener(J),ue!==null&&google.maps.event.removeListener(ue),te!==null&&google.maps.event.removeListener(te),je!==null&&google.maps.event.removeListener(je),Ve!==null&&google.maps.event.removeListener(Ve),qt!==null&&google.maps.event.removeListener(qt),Zt!==null&&google.maps.event.removeListener(Zt),Kt!==null&&google.maps.event.removeListener(Kt),Jt!==null&&google.maps.event.removeListener(Jt),Yt!==null&&google.maps.event.removeListener(Yt),Xt!==null&&google.maps.event.removeListener(Xt),Qt!==null&&google.maps.event.removeListener(Qt),en!==null&&google.maps.event.removeListener(en),tn!==null&&google.maps.event.removeListener(tn),nn!==null&&google.maps.event.removeListener(nn),sn!==null&&google.maps.event.removeListener(sn),rn!==null&&google.maps.event.removeListener(rn),R&&R(ne),s?s.removeMarker(ne,!!r):ne&&ne.setMap(null)}},[]);var Sc=l.useMemo(()=>a?l.Children.map(a,Ot=>{if(!l.isValidElement(Ot))return Ot;var ne=Ot;return l.cloneElement(ne,{anchor:j})}):null,[a,j]);return u.jsx(u.Fragment,{children:Sc})||null}l.memo(qu);class Zu extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[])}componentDidMount(){var t=this;return Da(function*(){var n=gt(gt(gt({},t.props.options||Fn),t.props.clusterer?Fn:{map:t.context}),{},{position:t.props.position});t.marker=new google.maps.Marker(n),t.props.clusterer?t.props.clusterer.addMarker(t.marker,!!t.props.noClustererRedraw):t.marker.setMap(t.context),t.registeredEvents=oe({updaterMap:vo,eventMap:go,prevProps:{},nextProps:t.props,instance:t.marker}),t.props.onLoad&&t.props.onLoad(t.marker)})()}componentDidUpdate(t){this.marker&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:vo,eventMap:go,prevProps:t,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ie(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var t=this.props.children?l.Children.map(this.props.children,n=>{if(!l.isValidElement(n))return n;var s=n;return l.cloneElement(s,{anchor:this.marker})}):null;return t||null}}N(Zu,"contextType",re);var Ku=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(t){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var s=n.getMaxZoom(),r=this.cluster.getBounds(),a=n.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(r),this.timeOut=window.setTimeout(function(){var i=n.getMap();if(i!==null){"fitBounds"in i&&i.fitBounds(r);var o=i.getZoom()||0;s!==null&&o>s&&i.setZoom(s+1)}},100)}t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var t;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(t=this.getPanes())===null||t===void 0||t.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var t=this.getPosFromLatLng(this.center);this.div.style.top=t!==null?"".concat(t.y,"px"):"0",this.div.style.left=t!==null?"".concat(t.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var t,n,s,r,a,i;if(this.div&&this.center){var o=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),f=parseInt(((t=c[0])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),p=parseInt(((n=c[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(d!==null?"".concat(d.y,"px"):"0","; left: ").concat(d!==null?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=o,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(p,"px; left: ").concat(f,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(p,"px, -").concat(f+this.width,"px, -").concat(p+this.height,", -").concat(f,")"));var g=document.createElement("div");g.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((s=this.sums)===null||s===void 0)&&s.text&&(g.innerText="".concat((r=this.sums)===null||r===void 0?void 0:r.text)),!((a=this.sums)===null||a===void 0)&&a.html&&(g.innerHTML="".concat((i=this.sums)===null||i===void 0?void 0:i.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(g),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(t){this.sums=t;var n=this.cluster.getClusterer().getStyles(),s=n[Math.min(n.length-1,Math.max(0,t.index-1))];s&&(this.url=s.url,this.height=s.height,this.width=s.width,s.className&&(this.className="".concat(this.clusterClassName," ").concat(s.className)),this.anchorText=s.anchorText||[0,0],this.anchorIcon=s.anchorIcon||[this.height/2,this.width/2],this.textColor=s.textColor||"black",this.textSize=s.textSize||11,this.textDecoration=s.textDecoration||"none",this.fontWeight=s.fontWeight||"bold",this.fontStyle=s.fontStyle||"normal",this.fontFamily=s.fontFamily||"Arial,sans-serif",this.backgroundPosition=s.backgroundPosition||"0 0")},e.prototype.setCenter=function(t){this.center=t},e.prototype.getPosFromLatLng=function(t){var n=this.getProjection().fromLatLngToDivPixel(t);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},e}(),Ju=function(){function e(t){this.markerClusterer=t,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new Ku(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var t=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),s=0,r=n;s<r.length;s++){var a=r[s],i=a.getPosition();i&&t.extend(i)}return t},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(t){var n;if(this.isMarkerAlreadyAdded(t))return!1;if(this.center){if(this.averageCenter){var s=t.getPosition();if(s){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+s.lat())/r,(this.center.lng()*(r-1)+s.lng())/r),this.calculateBounds()}}}else{var s=t.getPosition();s&&(this.center=s,this.calculateBounds())}t.isAdded=!0,this.markers.push(t);var a=this.markers.length,i=this.markerClusterer.getMaxZoom(),o=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(i!==null&&typeof o<"u"&&o>i)t.getMap()!==this.map&&t.setMap(this.map);else if(a<this.minClusterSize)t.getMap()!==this.map&&t.setMap(this.map);else if(a===this.minClusterSize)for(var c=0,f=this.markers;c<f.length;c++){var p=f[c];p.setMap(null)}else t.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(t){if(this.bounds!==null){var n=t.getPosition();if(n)return this.bounds.contains(n)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var t,n=this.markers.length,s=this.markerClusterer.getMaxZoom(),r=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(s!==null&&typeof r<"u"&&r>s){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},e.prototype.isMarkerAlreadyAdded=function(t){if(this.markers.includes)return this.markers.includes(t);for(var n=0;n<this.markers.length;n++)if(t===this.markers[n])return!0;return!1},e}();function Yu(e,t){var n=e.length,s=n.toString().length,r=Math.min(s,t);return{text:n.toString(),index:r,title:""}}var Xu=2e3,Qu=500,ed="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",td="png",nd=[53,56,66,78,90],sd="cluster",Va=function(){function e(t,n,s){n===void 0&&(n=[]),s===void 0&&(s={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=s.gridSize||60,this.minClusterSize=s.minimumClusterSize||2,this.maxZoom=s.maxZoom||null,this.styles=s.styles||[],this.title=s.title||"",this.zoomOnClick=!0,s.zoomOnClick!==void 0&&(this.zoomOnClick=s.zoomOnClick),this.averageCenter=!1,s.averageCenter!==void 0&&(this.averageCenter=s.averageCenter),this.ignoreHidden=!1,s.ignoreHidden!==void 0&&(this.ignoreHidden=s.ignoreHidden),this.enableRetinaIcons=!1,s.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=s.enableRetinaIcons),this.imagePath=s.imagePath||ed,this.imageExtension=s.imageExtension||td,this.imageSizes=s.imageSizes||nd,this.calculator=s.calculator||Yu,this.batchSize=s.batchSize||Xu,this.batchSizeIE=s.batchSizeIE||Qu,this.clusterClass=s.clusterClass||sd,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var t,n;this.resetViewport(!1),(((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var t=this.getMap();this.activeMap=t,this.ready=!0,this.repaint(),t!==null&&(this.listeners=[google.maps.event.addListener(t,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(t,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var t=0,n=this.markers;t<n.length;t++){var s=n[t];s.getMap()!==this.activeMap&&s.setMap(this.activeMap)}for(var r=0,a=this.clusters;r<a.length;r++){var i=a[r];i.remove()}this.clusters=[];for(var o=0,c=this.listeners;o<c.length;o++){var f=c[o];google.maps.event.removeListener(f)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var t=0;t<this.imageSizes.length;t++)this.styles.push({url:"".concat(this.imagePath+(t+1),".").concat(this.imageExtension),height:this.imageSizes[t]||0,width:this.imageSizes[t]||0})},e.prototype.fitMapToMarkers=function(){for(var t=this.getMarkers(),n=new google.maps.LatLngBounds,s=0,r=t;s<r.length;s++){var a=r[s],i=a.getPosition();i&&n.extend(i)}var o=this.getMap();o!==null&&"fitBounds"in o&&o.fitBounds(n)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(t){this.gridSize=t},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(t){this.minClusterSize=t},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(t){this.maxZoom=t},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(t){this.styles=t},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(t){this.title=t},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(t){this.zoomOnClick=t},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(t){this.averageCenter=t},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(t){this.ignoreHidden=t},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons=t},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(t){this.imageExtension=t},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(t){this.imagePath=t},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(t){this.imageSizes=t},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(t){this.calculator=t},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(t){this.batchSizeIE=t},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(t){this.clusterClass=t},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(t,n){this.pushMarkerTo(t),n||this.redraw()},e.prototype.addMarkers=function(t,n){for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var r=t[s];r&&this.pushMarkerTo(r)}n||this.redraw()},e.prototype.pushMarkerTo=function(t){var n=this;t.getDraggable()&&google.maps.event.addListener(t,"dragend",function(){n.ready&&(t.isAdded=!1,n.repaint())}),t.isAdded=!1,this.markers.push(t)},e.prototype.removeMarker_=function(t){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(t);else for(var s=0;s<this.markers.length;s++)if(t===this.markers[s]){n=s;break}return n===-1?!1:(t.setMap(null),this.markers.splice(n,1),!0)},e.prototype.removeMarker=function(t,n){var s=this.removeMarker_(t);return!n&&s&&this.repaint(),s},e.prototype.removeMarkers=function(t,n){for(var s=!1,r=0,a=t;r<a.length;r++){var i=a[r];s=s||this.removeMarker_(i)}return!n&&s&&this.repaint(),s},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var t=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var s=0,r=t;s<r.length;s++){var a=r[s];a.remove()}},0)},e.prototype.getExtendedBounds=function(t){var n=this.getProjection(),s=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()));s!==null&&(s.x+=this.gridSize,s.y-=this.gridSize);var r=n.fromLatLngToDivPixel(new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()));if(r!==null&&(r.x-=this.gridSize,r.y+=this.gridSize),s!==null){var a=n.fromDivPixelToLatLng(s);a!==null&&t.extend(a)}if(r!==null){var i=n.fromDivPixelToLatLng(r);i!==null&&t.extend(i)}return t},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(t){for(var n=0,s=this.clusters;n<s.length;n++){var r=s[n];r.remove()}this.clusters=[];for(var a=0,i=this.markers;a<i.length;a++){var o=i[a];o.isAdded=!1,t&&o.setMap(null)}},e.prototype.distanceBetweenPoints=function(t,n){var s=6371,r=(n.lat()-t.lat())*Math.PI/180,a=(n.lng()-t.lng())*Math.PI/180,i=Math.sin(r/2)*Math.sin(r/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return s*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},e.prototype.isMarkerInBounds=function(t,n){var s=t.getPosition();return s?n.contains(s):!1},e.prototype.addToClosestCluster=function(t){for(var n,s=4e4,r=null,a=0,i=this.clusters;a<i.length;a++){var o=i[a];n=o;var c=n.getCenter(),f=t.getPosition();if(c&&f){var p=this.distanceBetweenPoints(c,f);p<s&&(s=p,r=n)}}r&&r.isMarkerInClusterBounds(t)?r.addMarker(t):(n=new Ju(this),n.addMarker(t),this.clusters.push(n))},e.prototype.createClusters=function(t){var n=this;if(this.ready){t===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var s=this.getMap(),r=s!==null&&("getBounds"in s)?s.getBounds():null,a=(s==null?void 0:s.getZoom())||0,i=a>3?new google.maps.LatLngBounds(r==null?void 0:r.getSouthWest(),r==null?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),o=this.getExtendedBounds(i),c=Math.min(t+this.batchSize,this.markers.length),f=t;f<c;f++){var p=this.markers[f];p&&!p.isAdded&&this.isMarkerInBounds(p,o)&&(!this.ignoreHidden||this.ignoreHidden&&p.getVisible())&&this.addToClosestCluster(p)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var d=0,h=this.clusters;d<h.length;d++){var g=h[d];g.updateIcon()}}}},e.prototype.extend=function(t,n){return(function(r){for(var a in r.prototype){var i=a;this.prototype[i]=r.prototype[i]}return this}).apply(t,[n])},e}();function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var _e={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},le={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},od={};function id(e){var{children:t,options:n,averageCenter:s,batchSizeIE:r,calculator:a,clusterClass:i,enableRetinaIcons:o,gridSize:c,ignoreHidden:f,imageExtension:p,imagePath:d,imageSizes:h,maxZoom:g,minimumClusterSize:m,styles:v,title:y,zoomOnClick:b,onClick:x,onClusteringBegin:E,onClusteringEnd:C,onMouseOver:w,onMouseOut:L,onLoad:S,onUnmount:P}=e,[O,k]=l.useState(null),M=l.useContext(re),[U,F]=l.useState(null),[A,B]=l.useState(null),[z,Z]=l.useState(null),[W,q]=l.useState(null),[G,K]=l.useState(null);return l.useEffect(()=>{O&&L&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(O,_e.onMouseOut,L)))},[L]),l.useEffect(()=>{O&&w&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(O,_e.onMouseOver,w)))},[w]),l.useEffect(()=>{O&&x&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(O,_e.onClick,x)))},[x]),l.useEffect(()=>{O&&E&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(O,_e.onClusteringBegin,E)))},[E]),l.useEffect(()=>{O&&C&&(z!==null&&google.maps.event.removeListener(z),B(google.maps.event.addListener(O,_e.onClusteringEnd,C)))},[C]),l.useEffect(()=>{typeof s<"u"&&O!==null&&le.averageCenter(O,s)},[O,s]),l.useEffect(()=>{typeof r<"u"&&O!==null&&le.batchSizeIE(O,r)},[O,r]),l.useEffect(()=>{typeof a<"u"&&O!==null&&le.calculator(O,a)},[O,a]),l.useEffect(()=>{typeof i<"u"&&O!==null&&le.clusterClass(O,i)},[O,i]),l.useEffect(()=>{typeof o<"u"&&O!==null&&le.enableRetinaIcons(O,o)},[O,o]),l.useEffect(()=>{typeof c<"u"&&O!==null&&le.gridSize(O,c)},[O,c]),l.useEffect(()=>{typeof f<"u"&&O!==null&&le.ignoreHidden(O,f)},[O,f]),l.useEffect(()=>{typeof p<"u"&&O!==null&&le.imageExtension(O,p)},[O,p]),l.useEffect(()=>{typeof d<"u"&&O!==null&&le.imagePath(O,d)},[O,d]),l.useEffect(()=>{typeof h<"u"&&O!==null&&le.imageSizes(O,h)},[O,h]),l.useEffect(()=>{typeof g<"u"&&O!==null&&le.maxZoom(O,g)},[O,g]),l.useEffect(()=>{typeof m<"u"&&O!==null&&le.minimumClusterSize(O,m)},[O,m]),l.useEffect(()=>{typeof v<"u"&&O!==null&&le.styles(O,v)},[O,v]),l.useEffect(()=>{typeof y<"u"&&O!==null&&le.title(O,y)},[O,y]),l.useEffect(()=>{typeof b<"u"&&O!==null&&le.zoomOnClick(O,b)},[O,b]),l.useEffect(()=>{if(M){var X=rd({},n||od),R=new Va(M,[],X);return s&&le.averageCenter(R,s),r&&le.batchSizeIE(R,r),a&&le.calculator(R,a),i&&le.clusterClass(R,i),o&&le.enableRetinaIcons(R,o),c&&le.gridSize(R,c),f&&le.ignoreHidden(R,f),p&&le.imageExtension(R,p),d&&le.imagePath(R,d),h&&le.imageSizes(R,h),g&&le.maxZoom(R,g),m&&le.minimumClusterSize(R,m),v&&le.styles(R,v),y&&le.title(R,y),b&&le.zoomOnClick(R,b),L&&q(google.maps.event.addListener(R,_e.onMouseOut,L)),w&&K(google.maps.event.addListener(R,_e.onMouseOver,w)),x&&F(google.maps.event.addListener(R,_e.onClick,x)),E&&B(google.maps.event.addListener(R,_e.onClusteringBegin,E)),C&&Z(google.maps.event.addListener(R,_e.onClusteringEnd,C)),k(R),S&&S(R),()=>{W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),U!==null&&google.maps.event.removeListener(U),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),P&&P(R)}}},[]),O!==null&&t(O)||null}l.memo(id);class ad extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{markerClusterer:null}),N(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var t=new Va(this.context,[],this.props.options);this.registeredEvents=oe({updaterMap:le,eventMap:_e,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({markerClusterer:t}),this.setClustererCallback)}}componentDidUpdate(t){this.state.markerClusterer&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:le,eventMap:_e,prevProps:t,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ie(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}N(ad,"contextType",re);function bo(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var $a=function(){function e(t){t===void 0&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",t.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),typeof t.visible>"u"&&(typeof t.isHidden>"u"?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var t=this,n=function(p){p.returnValue=!1,p.preventDefault&&p.preventDefault(),t.enableEventPropagation||bo(p)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var s=this.getPanes();if(s!==null&&s[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var r=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-r.left-r.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var a=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],i=0,o=a;i<o.length;i++){var c=o[i];this.eventListeners.push(google.maps.event.addListener(this.div,c,bo))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){t.div&&(t.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var t="";return this.closeBoxURL!==""&&(t='<img alt=""',t+=' aria-hidden="true"',t+=" src='"+this.closeBoxURL+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin+";",t+="'>"),t},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(t){if(this.div&&!t){var n=this.getMap();if(n instanceof google.maps.Map){var s=0,r=0,a=n.getBounds();a&&!a.contains(this.position)&&n.setCenter(this.position);var i=n.getDiv(),o=i.offsetWidth,c=i.offsetHeight,f=this.pixelOffset.width,p=this.pixelOffset.height,d=this.div.offsetWidth,h=this.div.offsetHeight,g=this.infoBoxClearance.width,m=this.infoBoxClearance.height,v=this.getProjection(),y=v.fromLatLngToContainerPixel(this.position);y!==null&&(y.x<-f+g?s=y.x+f-g:y.x+d+f+g>o&&(s=y.x+d+f+g-o),this.alignBottom?y.y<-p+m+h?r=y.y+p-m-h:y.y+p+m>c&&(r=y.y+p+m-c):y.y<-p+m?r=y.y+p-m:y.y+h+p+m>c&&(r=y.y+h+p+m-c)),s===0&&r===0||n.panBy(s,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var t=this.boxStyle;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(this.div.style[n]=t[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var s=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+s*100+')"',this.div.style.filter="alpha(opacity="+s*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var t={top:0,bottom:0,left:0,right:0};if(!this.div)return t;if(document.defaultView){var n=this.div.ownerDocument,s=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;s&&(t.top=parseInt(s.borderTopWidth||"",10)||0,t.bottom=parseInt(s.borderBottomWidth||"",10)||0,t.left=parseInt(s.borderLeftWidth||"",10)||0,t.right=parseInt(s.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(t.top=parseInt(r.borderTopWidth||"",10)||0,t.bottom=parseInt(r.borderBottomWidth||"",10)||0,t.left=parseInt(r.borderLeftWidth||"",10)||0,t.right=parseInt(r.borderRightWidth||"",10)||0)}return t},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var t=this.getProjection(),n=t.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(t){t===void 0&&(t={}),typeof t.boxClass<"u"&&(this.boxClass=t.boxClass,this.setBoxStyle()),typeof t.boxStyle<"u"&&(this.boxStyle=t.boxStyle,this.setBoxStyle()),typeof t.content<"u"&&this.setContent(t.content),typeof t.disableAutoPan<"u"&&(this.disableAutoPan=t.disableAutoPan),typeof t.maxWidth<"u"&&(this.maxWidth=t.maxWidth),typeof t.pixelOffset<"u"&&(this.pixelOffset=t.pixelOffset),typeof t.alignBottom<"u"&&(this.alignBottom=t.alignBottom),typeof t.position<"u"&&this.setPosition(t.position),typeof t.zIndex<"u"&&this.setZIndex(t.zIndex),typeof t.closeBoxMargin<"u"&&(this.closeBoxMargin=t.closeBoxMargin),typeof t.closeBoxURL<"u"&&(this.closeBoxURL=t.closeBoxURL),typeof t.infoBoxClearance<"u"&&(this.infoBoxClearance=t.infoBoxClearance),typeof t.isHidden<"u"&&(this.isHidden=t.isHidden),typeof t.visible<"u"&&(this.isHidden=!t.visible),typeof t.enableEventPropagation<"u"&&(this.enableEventPropagation=t.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(t){this.content=t,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof t=="string"?this.div.innerHTML=this.getCloseBoxImg()+t:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(t))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position=t,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(t){this.isHidden=!t,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(t){this.zIndex=t,this.div&&(this.div.style.zIndex=t+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var t=this.getMap();return typeof t>"u"||t===null?!1:!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(t,n){var s=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var r=n.getPosition();s.setPosition(r)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){s.setMap(n.map)})),this.setMap(t),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var t=0,n=this.eventListeners;t<n.length;t++){var s=n[t];google.maps.event.removeListener(s)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(t,n){return(function(r){for(var a in r.prototype)Object.prototype.hasOwnProperty.call(this,a)||(this.prototype[a]=r.prototype[a]);return this}).apply(t,[n])},e}(),ld=["position"],cd=["position"];function wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var xo={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Co={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},ud={};function dd(e){var{children:t,anchor:n,options:s,position:r,zIndex:a,onCloseClick:i,onDomReady:o,onContentChanged:c,onPositionChanged:f,onZindexChanged:p,onLoad:d,onUnmount:h}=e,g=l.useContext(re),[m,v]=l.useState(null),[y,b]=l.useState(null),[x,E]=l.useState(null),[C,w]=l.useState(null),[L,S]=l.useState(null),[P,O]=l.useState(null),k=l.useRef(null);return l.useEffect(()=>{g&&m!==null&&(m.close(),n?m.open(g,n):m.getPosition()&&m.open(g))},[g,m,n]),l.useEffect(()=>{s&&m!==null&&m.setOptions(s)},[m,s]),l.useEffect(()=>{if(r&&m!==null){var M=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);m.setPosition(M)}},[r]),l.useEffect(()=>{typeof a=="number"&&m!==null&&m.setZIndex(a)},[a]),l.useEffect(()=>{m&&i&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",i)))},[i]),l.useEffect(()=>{m&&o&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(m,"domready",o)))},[o]),l.useEffect(()=>{m&&c&&(C!==null&&google.maps.event.removeListener(C),w(google.maps.event.addListener(m,"content_changed",c)))},[c]),l.useEffect(()=>{m&&f&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(m,"position_changed",f)))},[f]),l.useEffect(()=>{m&&p&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(m,"zindex_changed",p)))},[p]),l.useEffect(()=>{if(g){var M=s||ud,{position:U}=M,F=dr(M,ld),A;U&&!(U instanceof google.maps.LatLng)&&(A=new google.maps.LatLng(U.lat,U.lng));var B=new $a(Bn(Bn({},F),A?{position:A}:{}));k.current=document.createElement("div"),v(B),i&&b(google.maps.event.addListener(B,"closeclick",i)),o&&E(google.maps.event.addListener(B,"domready",o)),c&&w(google.maps.event.addListener(B,"content_changed",c)),f&&S(google.maps.event.addListener(B,"position_changed",f)),p&&O(google.maps.event.addListener(B,"zindex_changed",p)),B.setContent(k.current),n?B.open(g,n):B.getPosition()?B.open(g):be(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(B)}return()=>{m!==null&&(y&&google.maps.event.removeListener(y),C&&google.maps.event.removeListener(C),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),P&&google.maps.event.removeListener(P),h&&h(m),m.close())}},[]),k.current?dt.createPortal(l.Children.only(t),k.current):null}l.memo(dd);class pd extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"containerElement",null),N(this,"state",{infoBox:null}),N(this,"open",(t,n)=>{n?this.context!==null&&t.open(this.context,n):t.getPosition()?this.context!==null&&t.open(this.context):be(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),N(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var t=this.props.options||{},{position:n}=t,s=dr(t,cd),r;n&&!(n instanceof google.maps.LatLng)&&(r=new google.maps.LatLng(n.lat,n.lng));var a=new $a(Bn(Bn({},s),r?{position:r}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=oe({updaterMap:Co,eventMap:xo,prevProps:{},nextProps:this.props,instance:a}),this.setState({infoBox:a},this.setInfoBoxCallback)}componentDidUpdate(t){var{infoBox:n}=this.state;n!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:Co,eventMap:xo,prevProps:t,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:t}=this.props,{infoBox:n}=this.state;n!==null&&(t&&t(n),ie(this.registeredEvents),n.close())}render(){return this.containerElement?dt.createPortal(l.Children.only(this.props.children),this.containerElement):null}}N(pd,"contextType",re);var bs,So;function fd(){return So||(So=1,bs=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,r,a;if(Array.isArray(t)){if(s=t.length,s!=n.length)return!1;for(r=s;r--!==0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),s=a.length,s!==Object.keys(n).length)return!1;for(r=s;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!==0;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),bs}var hd=fd(),Lo=Ta(hd),Eo=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ws=1,jt=8;class pr{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,s]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var r=s>>4;if(r!==ws)throw new Error("Got v".concat(r," data when expected v").concat(ws,"."));var a=Eo[s&15];if(!a)throw new Error("Unrecognized array type.");var[i]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new pr(o,i,a,t)}constructor(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(t)||t<0)throw new Error("Unpexpected numItems value: ".concat(t,"."));this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=s,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;var a=Eo.indexOf(this.ArrayType),i=t*2*this.ArrayType.BYTES_PER_ELEMENT,o=t*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-o%8)%8;if(a<0)throw new Error("Unexpected typed array class: ".concat(s,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,jt,t),this.coords=new this.ArrayType(this.data,jt+o+c,t*2),this._pos=t*2,this._finished=!0):(this.data=new ArrayBuffer(jt+i+o+c),this.ids=new this.IndexArrayType(this.data,jt,t),this.coords=new this.ArrayType(this.data,jt+o+c,t*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(ws<<4)+a]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){var s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=t,this.coords[this._pos++]=n,s}finish(){var t=this._pos>>1;if(t!==this.numItems)throw new Error("Added ".concat(t," items when expected ").concat(this.numItems,"."));return zs(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,s,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:i,nodeSize:o}=this,c=[0,a.length-1,0],f=[];c.length;){var p=c.pop()||0,d=c.pop()||0,h=c.pop()||0;if(d-h<=o){for(var g=h;g<=d;g++){var m=i[2*g],v=i[2*g+1];m>=t&&m<=s&&v>=n&&v<=r&&f.push(a[g])}continue}var y=h+d>>1,b=i[2*y],x=i[2*y+1];b>=t&&b<=s&&x>=n&&x<=r&&f.push(a[y]),(p===0?t<=b:n<=x)&&(c.push(h),c.push(y-1),c.push(1-p)),(p===0?s>=b:r>=x)&&(c.push(y+1),c.push(d),c.push(1-p))}return f}within(t,n,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:a,nodeSize:i}=this,o=[0,r.length-1,0],c=[],f=s*s;o.length;){var p=o.pop()||0,d=o.pop()||0,h=o.pop()||0;if(d-h<=i){for(var g=h;g<=d;g++)Oo(a[2*g],a[2*g+1],t,n)<=f&&c.push(r[g]);continue}var m=h+d>>1,v=a[2*m],y=a[2*m+1];Oo(v,y,t,n)<=f&&c.push(r[m]),(p===0?t-s<=v:n-s<=y)&&(o.push(h),o.push(m-1),o.push(1-p)),(p===0?t+s>=v:n+s>=y)&&(o.push(m+1),o.push(d),o.push(1-p))}return c}}function zs(e,t,n,s,r,a){if(!(r-s<=n)){var i=s+r>>1;za(e,t,i,s,r,a),zs(e,t,n,s,i-1,1-a),zs(e,t,n,i+1,r,1-a)}}function za(e,t,n,s,r,a){for(;r>s;){if(r-s>600){var i=r-s+1,o=n-s+1,c=Math.log(i),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(i-f)/i)*(o-i/2<0?-1:1),d=Math.max(s,Math.floor(n-o*f/i+p)),h=Math.min(r,Math.floor(n+(i-o)*f/i+p));za(e,t,n,d,h,a)}var g=t[2*n+a],m=s,v=r;for(Mt(e,t,s,n),t[2*r+a]>g&&Mt(e,t,s,r);m<v;){for(Mt(e,t,m,v),m++,v--;t[2*m+a]<g;)m++;for(;t[2*v+a]>g;)v--}t[2*s+a]===g?Mt(e,t,s,v):(v++,Mt(e,t,v,r)),v<=n&&(s=v+1),n<=v&&(r=v-1)}}function Mt(e,t,n,s){xs(e,n,s),xs(t,2*n,2*s),xs(t,2*n+1,2*s+1)}function xs(e,t,n){var s=e[t];e[t]=e[n],e[n]=s}function Oo(e,t,n,s){var r=e-n,a=t-s;return r*r+a*a}var md={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Po=Math.fround||(e=>t=>(e[0]=+t,e[0]))(new Float32Array(1)),tt=2,Xe=3,Cs=4,Ye=5,Ha=6;class gd{constructor(t){this.options=Object.assign(Object.create(md),t),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(t){var{log:n,minZoom:s,maxZoom:r}=this.options;n&&console.time("total time");var a="prepare ".concat(t.length," points");n&&console.time(a),this.points=t;for(var i=[],o=0;o<t.length;o++){var c=t[o];if(c.geometry){var[f,p]=c.geometry.coordinates,d=Po(on(f)),h=Po(an(p));i.push(d,h,1/0,o,-1,1),this.options.reduce&&i.push(0)}}var g=this.trees[r+1]=this._createTree(i);n&&console.timeEnd(a);for(var m=r;m>=s;m--){var v=+Date.now();g=this.trees[m]=this._createTree(this._cluster(g,m)),n&&console.log("z%d: %d clusters in %dms",m,g.numItems,+Date.now()-v)}return n&&console.timeEnd("total time"),this}getClusters(t,n){var s=((t[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,t[1])),a=t[2]===180?180:((t[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)s=-180,a=180;else if(s>a){var o=this.getClusters([s,r,180,i],n),c=this.getClusters([-180,r,a,i],n);return o.concat(c)}var f=this.trees[this._limitZoom(n)],p=f.range(on(s),an(i),on(a),an(r)),d=f.data,h=[];for(var g of p){var m=this.stride*g;h.push(d[m+Ye]>1?jo(d,m,this.clusterProps):this.points[d[m+Xe]])}return h}getChildren(t){var n=this._getOriginId(t),s=this._getOriginZoom(t),r="No cluster with the specified id.",a=this.trees[s];if(!a)throw new Error(r);var i=a.data;if(n*this.stride>=i.length)throw new Error(r);var o=this.options.radius/(this.options.extent*Math.pow(2,s-1)),c=i[n*this.stride],f=i[n*this.stride+1],p=a.within(c,f,o),d=[];for(var h of p){var g=h*this.stride;i[g+Cs]===t&&d.push(i[g+Ye]>1?jo(i,g,this.clusterProps):this.points[i[g+Xe]])}if(d.length===0)throw new Error(r);return d}getLeaves(t,n,s){n=n||10,s=s||0;var r=[];return this._appendLeaves(r,t,n,s,0),r}getTile(t,n,s){var r=this.trees[this._limitZoom(t)],a=Math.pow(2,t),{extent:i,radius:o}=this.options,c=o/i,f=(s-c)/a,p=(s+1+c)/a,d={features:[]};return this._addTileFeatures(r.range((n-c)/a,f,(n+1+c)/a,p),r.data,n,s,a,d),n===0&&this._addTileFeatures(r.range(1-c/a,f,1,p),r.data,a,s,a,d),n===a-1&&this._addTileFeatures(r.range(0,f,c/a,p),r.data,-1,s,a,d),d.features.length?d:null}getClusterExpansionZoom(t){for(var n=this._getOriginZoom(t)-1;n<=this.options.maxZoom;){var s=this.getChildren(t);if(n++,s.length!==1)break;t=s[0].properties.cluster_id}return n}_appendLeaves(t,n,s,r,a){var i=this.getChildren(n);for(var o of i){var c=o.properties;if(c&&c.cluster?a+c.point_count<=r?a+=c.point_count:a=this._appendLeaves(t,c.cluster_id,s,r,a):a<r?a++:t.push(o),t.length===s)break}return a}_createTree(t){for(var n=new pr(t.length/this.stride|0,this.options.nodeSize,Float32Array),s=0;s<t.length;s+=this.stride)n.add(t[s],t[s+1]);return n.finish(),n.data=t,n}_addTileFeatures(t,n,s,r,a,i){for(var o of t){var c=o*this.stride,f=n[c+Ye]>1,p=void 0,d=void 0,h=void 0;if(f)p=Ga(n,c,this.clusterProps),d=n[c],h=n[c+1];else{var g=this.points[n[c+Xe]];p=g.properties;var[m,v]=g.geometry.coordinates;d=on(m),h=an(v)}var y={type:1,geometry:[[Math.round(this.options.extent*(d*a-s)),Math.round(this.options.extent*(h*a-r))]],tags:p},b=void 0;f||this.options.generateId?b=n[c+Xe]:b=this.points[n[c+Xe]].id,b!==void 0&&(y.id=b),i.features.push(y)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,n){for(var{radius:s,extent:r,reduce:a,minPoints:i}=this.options,o=s/(r*Math.pow(2,n)),c=t.data,f=[],p=this.stride,d=0;d<c.length;d+=p)if(!(c[d+tt]<=n)){c[d+tt]=n;var h=c[d],g=c[d+1],m=t.within(c[d],c[d+1],o),v=c[d+Ye],y=v;for(var b of m){var x=b*p;c[x+tt]>n&&(y+=c[x+Ye])}if(y>v&&y>=i){var E=h*v,C=g*v,w=void 0,L=-1,S=((d/p|0)<<5)+(n+1)+this.points.length;for(var P of m){var O=P*p;if(!(c[O+tt]<=n)){c[O+tt]=n;var k=c[O+Ye];E+=c[O]*k,C+=c[O+1]*k,c[O+Cs]=S,a&&(w||(w=this._map(c,d,!0),L=this.clusterProps.length,this.clusterProps.push(w)),a(w,this._map(c,O)))}}c[d+Cs]=S,f.push(E/y,C/y,1/0,S,-1,y),a&&f.push(L)}else{for(var M=0;M<p;M++)f.push(c[d+M]);if(y>1)for(var U of m){var F=U*p;if(!(c[F+tt]<=n)){c[F+tt]=n;for(var A=0;A<p;A++)f.push(c[F+A])}}}}return f}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,n,s){if(t[n+Ye]>1){var r=this.clusterProps[t[n+Ha]];return s?Object.assign({},r):r}var a=this.points[t[n+Xe]].properties,i=this.options.map(a);return s&&i===a?Object.assign({},i):i}}function jo(e,t,n){return{type:"Feature",id:e[t+Xe],properties:Ga(e,t,n),geometry:{type:"Point",coordinates:[vd(e[t]),yd(e[t+1])]}}}function Ga(e,t,n){var s=e[t+Ye],r=s>=1e4?"".concat(Math.round(s/1e3),"k"):s>=1e3?"".concat(Math.round(s/100)/10,"k"):s,a=e[t+Ha],i=a===-1?{}:Object.assign({},n[a]);return Object.assign(i,{cluster:!0,cluster_id:e[t+Xe],point_count:s,point_count_abbreviated:r})}function on(e){return e/360+.5}function an(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function vd(e){return(e-.5)*360}function yd(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bd(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}class Te{static isAdvancedMarkerAvailable(t){return google.maps.marker&&t.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(t){return google.maps.marker&&t instanceof google.maps.marker.AdvancedMarkerElement}static setMap(t,n){this.isAdvancedMarker(t)?t.map=n:t.setMap(n)}static getPosition(t){if(this.isAdvancedMarker(t)){if(t.position){if(t.position instanceof google.maps.LatLng)return t.position;if(t.position.lat&&t.position.lng)return new google.maps.LatLng(t.position.lat,t.position.lng)}return new google.maps.LatLng(null)}return t.getPosition()}static getVisible(t){return this.isAdvancedMarker(t)?!0:t.getVisible()}}class Hs{constructor(t){var{markers:n,position:s}=t;this.markers=n,s&&(s instanceof google.maps.LatLng?this._position=s:this._position=new google.maps.LatLng(s))}get bounds(){if(!(this.markers.length===0&&!this._position)){var t=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)t.extend(Te.getPosition(n));return t}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(t=>Te.getVisible(t)).length}push(t){this.markers.push(t)}delete(){this.marker&&(Te.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class wd{constructor(t){var{maxZoom:n=16}=t;this.maxZoom=n}noop(t){var{markers:n}=t;return xd(n)}}var xd=e=>{var t=e.map(n=>new Hs({position:Te.getPosition(n),markers:[n]}));return t};class Cd extends wd{constructor(t){var{maxZoom:n,radius:s=60}=t,r=bd(t,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new gd(Object.assign({maxZoom:this.maxZoom,radius:s},r))}calculate(t){var n=!1,s={zoom:t.map.getZoom()};if(!Lo(t.markers,this.markers)){n=!0,this.markers=[...t.markers];var r=this.markers.map(a=>{var i=Te.getPosition(a),o=[i.lng(),i.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:o},properties:{marker:a}}});this.superCluster.load(r)}return n||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(n=!Lo(this.state,s)),this.state=s,n&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:n}}cluster(t){var{map:n}=t;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(s=>this.transformCluster(s))}transformCluster(t){var{geometry:{coordinates:[n,s]},properties:r}=t;if(r.cluster)return new Hs({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:s,lng:n}});var a=r.marker;return new Hs({markers:[a],position:Te.getPosition(a)})}}class Sd{constructor(t,n){this.markers={sum:t.length};var s=n.map(a=>a.count),r=s.reduce((a,i)=>a+i,0);this.clusters={count:n.length,markers:{mean:r/n.length,sum:r,min:Math.min(...s),max:Math.max(...s)}}}}class Ld{render(t,n,s){var{count:r,position:a}=t,i=r>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(i,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(r,`</text>
</svg>`),c="Cluster of ".concat(r," markers"),f=Number(google.maps.Marker.MAX_ZINDEX)+r;if(Te.isAdvancedMarkerAvailable(s)){var p=new DOMParser,d=p.parseFromString(o,"image/svg+xml").documentElement;d.setAttribute("transform","translate(0 25)");var h={map:s,position:a,zIndex:f,title:c,content:d};return new google.maps.marker.AdvancedMarkerElement(h)}var g={position:a,zIndex:f,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(g)}}function Ed(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}class fr{constructor(){Ed(fr,google.maps.OverlayView)}}var Rt;(function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"})(Rt||(Rt={}));var Od=(e,t,n)=>{n.fitBounds(t.bounds)};class Pd extends fr{constructor(t){var{map:n,markers:s=[],algorithmOptions:r={},algorithm:a=new Cd(r),renderer:i=new Ld,onClusterClick:o=Od}=t;super(),this.markers=[...s],this.clusters=[],this.algorithm=a,this.renderer=i,this.onClusterClick=o,n&&this.setMap(n)}addMarker(t,n){this.markers.includes(t)||(this.markers.push(t),n||this.render())}addMarkers(t,n){t.forEach(s=>{this.addMarker(s,!0)}),n||this.render()}removeMarker(t,n){var s=this.markers.indexOf(t);return s===-1?!1:(Te.setMap(t,null),this.markers.splice(s,1),n||this.render(),!0)}removeMarkers(t,n){var s=!1;return t.forEach(r=>{s=this.removeMarker(r,!0)||s}),s&&!n&&this.render(),s}clearMarkers(t){this.markers.length=0,t||this.render()}render(){var t=this.getMap();if(t instanceof google.maps.Map&&t.getProjection()){google.maps.event.trigger(this,Rt.CLUSTERING_BEGIN,this);var{clusters:n,changed:s}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});if(s||s==null){var r=new Set;for(var a of n)a.markers.length==1&&r.add(a.markers[0]);var i=[];for(var o of this.clusters)o.marker!=null&&(o.markers.length==1?r.has(o.marker)||Te.setMap(o.marker,null):i.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(c=>Te.setMap(c,null)))}google.maps.event.trigger(this,Rt.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(t=>Te.setMap(t,null)),this.clusters.forEach(t=>t.delete()),this.clusters=[]}renderClusters(){var t=new Sd(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(s=>{s.markers.length===1?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,t,n),s.markers.forEach(r=>Te.setMap(r,null)),this.onClusterClick&&s.marker.addListener("click",r=>{google.maps.event.trigger(this,Rt.CLUSTER_CLICK,s),this.onClusterClick(r,s,n)})),Te.setMap(s.marker,n)})}}function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function jd(e){var t=Ou(),[n,s]=l.useState(null);return l.useEffect(()=>{if(t&&n===null){var r=new Pd(ko(ko({},e),{},{map:t}));s(r)}},[t]),n}function Md(e){var{children:t,options:n}=e,s=jd(n);return s!==null?t(s):null}l.memo(Md);var Io={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},No={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};function kd(e){var{children:t,anchor:n,options:s,position:r,zIndex:a,onCloseClick:i,onDomReady:o,onContentChanged:c,onPositionChanged:f,onZindexChanged:p,onLoad:d,onUnmount:h}=e,g=l.useContext(re),[m,v]=l.useState(null),[y,b]=l.useState(null),[x,E]=l.useState(null),[C,w]=l.useState(null),[L,S]=l.useState(null),[P,O]=l.useState(null),k=l.useRef(null);return l.useEffect(()=>{m!==null&&(m.close(),n?m.open(g,n):m.getPosition()&&m.open(g))},[g,m,n]),l.useEffect(()=>{s&&m!==null&&m.setOptions(s)},[m,s]),l.useEffect(()=>{r&&m!==null&&m.setPosition(r)},[r]),l.useEffect(()=>{typeof a=="number"&&m!==null&&m.setZIndex(a)},[a]),l.useEffect(()=>{m&&i&&(y!==null&&google.maps.event.removeListener(y),b(google.maps.event.addListener(m,"closeclick",i)))},[i]),l.useEffect(()=>{m&&o&&(x!==null&&google.maps.event.removeListener(x),E(google.maps.event.addListener(m,"domready",o)))},[o]),l.useEffect(()=>{m&&c&&(C!==null&&google.maps.event.removeListener(C),w(google.maps.event.addListener(m,"content_changed",c)))},[c]),l.useEffect(()=>{m&&f&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(m,"position_changed",f)))},[f]),l.useEffect(()=>{m&&p&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(m,"zindex_changed",p)))},[p]),l.useEffect(()=>{var M=new google.maps.InfoWindow(s);return v(M),k.current=document.createElement("div"),i&&b(google.maps.event.addListener(M,"closeclick",i)),o&&E(google.maps.event.addListener(M,"domready",o)),c&&w(google.maps.event.addListener(M,"content_changed",c)),f&&S(google.maps.event.addListener(M,"position_changed",f)),p&&O(google.maps.event.addListener(M,"zindex_changed",p)),M.setContent(k.current),r&&M.setPosition(r),a&&M.setZIndex(a),n?M.open(g,n):M.getPosition()?M.open(g):be(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(M),()=>{y&&google.maps.event.removeListener(y),C&&google.maps.event.removeListener(C),x&&google.maps.event.removeListener(x),L&&google.maps.event.removeListener(L),P&&google.maps.event.removeListener(P),h&&h(M),M.close()}},[]),k.current?dt.createPortal(l.Children.only(t),k.current):null}l.memo(kd);class Wa extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"containerElement",null),N(this,"state",{infoWindow:null}),N(this,"open",(t,n)=>{n?t.open(this.context,n):t.getPosition()?t.open(this.context):be(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),N(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var t=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=oe({updaterMap:No,eventMap:Io,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({infoWindow:t}),this.setInfoWindowCallback)}componentDidUpdate(t){this.state.infoWindow!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:No,eventMap:Io,prevProps:t,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ie(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?dt.createPortal(l.Children.only(this.props.children),this.containerElement):null}}N(Wa,"contextType",re);function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ro(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var To={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Do={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},Id={};function Nd(e){var{options:t,draggable:n,editable:s,visible:r,path:a,onDblClick:i,onDragEnd:o,onDragStart:c,onMouseDown:f,onMouseMove:p,onMouseOut:d,onMouseOver:h,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onLoad:b,onUnmount:x}=e,E=l.useContext(re),[C,w]=l.useState(null),[L,S]=l.useState(null),[P,O]=l.useState(null),[k,M]=l.useState(null),[U,F]=l.useState(null),[A,B]=l.useState(null),[z,Z]=l.useState(null),[W,q]=l.useState(null),[G,K]=l.useState(null),[X,R]=l.useState(null),[_,j]=l.useState(null),[$,D]=l.useState(null);return l.useEffect(()=>{C!==null&&C.setMap(E)},[E]),l.useEffect(()=>{typeof t<"u"&&C!==null&&C.setOptions(t)},[C,t]),l.useEffect(()=>{typeof n<"u"&&C!==null&&C.setDraggable(n)},[C,n]),l.useEffect(()=>{typeof s<"u"&&C!==null&&C.setEditable(s)},[C,s]),l.useEffect(()=>{typeof r<"u"&&C!==null&&C.setVisible(r)},[C,r]),l.useEffect(()=>{typeof a<"u"&&C!==null&&C.setPath(a)},[C,a]),l.useEffect(()=>{C&&i&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(C,"dblclick",i)))},[i]),l.useEffect(()=>{C&&o&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(C,"dragend",o)))},[o]),l.useEffect(()=>{C&&c&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(C,"dragstart",c)))},[c]),l.useEffect(()=>{C&&f&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(C,"mousedown",f)))},[f]),l.useEffect(()=>{C&&p&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(C,"mousemove",p)))},[p]),l.useEffect(()=>{C&&d&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(C,"mouseout",d)))},[d]),l.useEffect(()=>{C&&h&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(C,"mouseover",h)))},[h]),l.useEffect(()=>{C&&g&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(C,"mouseup",g)))},[g]),l.useEffect(()=>{C&&m&&(X!==null&&google.maps.event.removeListener(X),R(google.maps.event.addListener(C,"rightclick",m)))},[m]),l.useEffect(()=>{C&&v&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(C,"click",v)))},[v]),l.useEffect(()=>{C&&y&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(C,"drag",y)))},[y]),l.useEffect(()=>{var T=new google.maps.Polyline(Vn(Vn({},t||Id),{},{map:E}));return a&&T.setPath(a),typeof r<"u"&&T.setVisible(r),typeof s<"u"&&T.setEditable(s),typeof n<"u"&&T.setDraggable(n),i&&S(google.maps.event.addListener(T,"dblclick",i)),o&&O(google.maps.event.addListener(T,"dragend",o)),c&&M(google.maps.event.addListener(T,"dragstart",c)),f&&F(google.maps.event.addListener(T,"mousedown",f)),p&&B(google.maps.event.addListener(T,"mousemove",p)),d&&Z(google.maps.event.addListener(T,"mouseout",d)),h&&q(google.maps.event.addListener(T,"mouseover",h)),g&&K(google.maps.event.addListener(T,"mouseup",g)),m&&R(google.maps.event.addListener(T,"rightclick",m)),v&&j(google.maps.event.addListener(T,"click",v)),y&&D(google.maps.event.addListener(T,"drag",y)),w(T),b&&b(T),()=>{L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),k!==null&&google.maps.event.removeListener(k),U!==null&&google.maps.event.removeListener(U),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),X!==null&&google.maps.event.removeListener(X),_!==null&&google.maps.event.removeListener(_),x&&x(T),T.setMap(null)}},[]),null}l.memo(Nd);class Rd extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{polyline:null}),N(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var t=new google.maps.Polyline(Vn(Vn({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:Do,eventMap:To,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{polyline:t}},this.setPolylineCallback)}componentDidUpdate(t){this.state.polyline!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:Do,eventMap:To,prevProps:t,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ie(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}N(Rd,"contextType",re);function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var _o={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Fo={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};function Td(e){var{options:t,draggable:n,editable:s,visible:r,path:a,paths:i,onDblClick:o,onDragEnd:c,onDragStart:f,onMouseDown:p,onMouseMove:d,onMouseOut:h,onMouseOver:g,onMouseUp:m,onRightClick:v,onClick:y,onDrag:b,onLoad:x,onUnmount:E,onEdit:C}=e,w=l.useContext(re),[L,S]=l.useState(null),[P,O]=l.useState(null),[k,M]=l.useState(null),[U,F]=l.useState(null),[A,B]=l.useState(null),[z,Z]=l.useState(null),[W,q]=l.useState(null),[G,K]=l.useState(null),[X,R]=l.useState(null),[_,j]=l.useState(null),[$,D]=l.useState(null),[T,H]=l.useState(null);return l.useEffect(()=>{L!==null&&L.setMap(w)},[w]),l.useEffect(()=>{typeof t<"u"&&L!==null&&L.setOptions(t)},[L,t]),l.useEffect(()=>{typeof n<"u"&&L!==null&&L.setDraggable(n)},[L,n]),l.useEffect(()=>{typeof s<"u"&&L!==null&&L.setEditable(s)},[L,s]),l.useEffect(()=>{typeof r<"u"&&L!==null&&L.setVisible(r)},[L,r]),l.useEffect(()=>{typeof a<"u"&&L!==null&&L.setPath(a)},[L,a]),l.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPaths(i)},[L,i]),l.useEffect(()=>{L&&typeof o=="function"&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(L,"dblclick",o)))},[o]),l.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{C==null||C(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{C==null||C(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{C==null||C(L)}))},[L,C]),l.useEffect(()=>{L&&typeof c=="function"&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(L,"dragend",c)))},[c]),l.useEffect(()=>{L&&typeof f=="function"&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(L,"dragstart",f)))},[f]),l.useEffect(()=>{L&&typeof p=="function"&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(L,"mousedown",p)))},[p]),l.useEffect(()=>{L&&typeof d=="function"&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(L,"mousemove",d)))},[d]),l.useEffect(()=>{L&&typeof h=="function"&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(L,"mouseout",h)))},[h]),l.useEffect(()=>{L&&typeof g=="function"&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(L,"mouseover",g)))},[g]),l.useEffect(()=>{L&&typeof m=="function"&&(X!==null&&google.maps.event.removeListener(X),R(google.maps.event.addListener(L,"mouseup",m)))},[m]),l.useEffect(()=>{L&&typeof v=="function"&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(L,"rightclick",v)))},[v]),l.useEffect(()=>{L&&typeof y=="function"&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(L,"click",y)))},[y]),l.useEffect(()=>{L&&typeof b=="function"&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(L,"drag",b)))},[b]),l.useEffect(()=>{var V=new google.maps.Polygon(Uo(Uo({},t),{},{map:w}));return a&&V.setPath(a),i&&V.setPaths(i),typeof r<"u"&&V.setVisible(r),typeof s<"u"&&V.setEditable(s),typeof n<"u"&&V.setDraggable(n),o&&O(google.maps.event.addListener(V,"dblclick",o)),c&&M(google.maps.event.addListener(V,"dragend",c)),f&&F(google.maps.event.addListener(V,"dragstart",f)),p&&B(google.maps.event.addListener(V,"mousedown",p)),d&&Z(google.maps.event.addListener(V,"mousemove",d)),h&&q(google.maps.event.addListener(V,"mouseout",h)),g&&K(google.maps.event.addListener(V,"mouseover",g)),m&&R(google.maps.event.addListener(V,"mouseup",m)),v&&j(google.maps.event.addListener(V,"rightclick",v)),y&&D(google.maps.event.addListener(V,"click",y)),b&&H(google.maps.event.addListener(V,"drag",b)),S(V),x&&x(V),()=>{P!==null&&google.maps.event.removeListener(P),k!==null&&google.maps.event.removeListener(k),U!==null&&google.maps.event.removeListener(U),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),X!==null&&google.maps.event.removeListener(X),_!==null&&google.maps.event.removeListener(_),$!==null&&google.maps.event.removeListener($),E&&E(V),V.setMap(null)}},[]),null}l.memo(Td);class Dd extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[])}componentDidMount(){var t=this.props.options||{};this.polygon=new google.maps.Polygon(t),this.polygon.setMap(this.context),this.registeredEvents=oe({updaterMap:Fo,eventMap:_o,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(t){this.polygon&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:Fo,eventMap:_o,prevProps:t,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ie(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}N(Dd,"contextType",re);function Bo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Vo={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},$o={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};function Ad(e){var{options:t,bounds:n,draggable:s,editable:r,visible:a,onDblClick:i,onDragEnd:o,onDragStart:c,onMouseDown:f,onMouseMove:p,onMouseOut:d,onMouseOver:h,onMouseUp:g,onRightClick:m,onClick:v,onDrag:y,onBoundsChanged:b,onLoad:x,onUnmount:E}=e,C=l.useContext(re),[w,L]=l.useState(null),[S,P]=l.useState(null),[O,k]=l.useState(null),[M,U]=l.useState(null),[F,A]=l.useState(null),[B,z]=l.useState(null),[Z,W]=l.useState(null),[q,G]=l.useState(null),[K,X]=l.useState(null),[R,_]=l.useState(null),[j,$]=l.useState(null),[D,T]=l.useState(null),[H,V]=l.useState(null);return l.useEffect(()=>{w!==null&&w.setMap(C)},[C]),l.useEffect(()=>{typeof t<"u"&&w!==null&&w.setOptions(t)},[w,t]),l.useEffect(()=>{typeof s<"u"&&w!==null&&w.setDraggable(s)},[w,s]),l.useEffect(()=>{typeof r<"u"&&w!==null&&w.setEditable(r)},[w,r]),l.useEffect(()=>{typeof a<"u"&&w!==null&&w.setVisible(a)},[w,a]),l.useEffect(()=>{typeof n<"u"&&w!==null&&w.setBounds(n)},[w,n]),l.useEffect(()=>{w&&i&&(S!==null&&google.maps.event.removeListener(S),P(google.maps.event.addListener(w,"dblclick",i)))},[i]),l.useEffect(()=>{w&&o&&(O!==null&&google.maps.event.removeListener(O),k(google.maps.event.addListener(w,"dragend",o)))},[o]),l.useEffect(()=>{w&&c&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(w,"dragstart",c)))},[c]),l.useEffect(()=>{w&&f&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(w,"mousedown",f)))},[f]),l.useEffect(()=>{w&&p&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(w,"mousemove",p)))},[p]),l.useEffect(()=>{w&&d&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(w,"mouseout",d)))},[d]),l.useEffect(()=>{w&&h&&(q!==null&&google.maps.event.removeListener(q),G(google.maps.event.addListener(w,"mouseover",h)))},[h]),l.useEffect(()=>{w&&g&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(w,"mouseup",g)))},[g]),l.useEffect(()=>{w&&m&&(R!==null&&google.maps.event.removeListener(R),_(google.maps.event.addListener(w,"rightclick",m)))},[m]),l.useEffect(()=>{w&&v&&(j!==null&&google.maps.event.removeListener(j),$(google.maps.event.addListener(w,"click",v)))},[v]),l.useEffect(()=>{w&&y&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(w,"drag",y)))},[y]),l.useEffect(()=>{w&&b&&(H!==null&&google.maps.event.removeListener(H),V(google.maps.event.addListener(w,"bounds_changed",b)))},[b]),l.useEffect(()=>{var J=new google.maps.Rectangle($n($n({},t),{},{map:C}));return typeof a<"u"&&J.setVisible(a),typeof r<"u"&&J.setEditable(r),typeof s<"u"&&J.setDraggable(s),typeof n<"u"&&J.setBounds(n),i&&P(google.maps.event.addListener(J,"dblclick",i)),o&&k(google.maps.event.addListener(J,"dragend",o)),c&&U(google.maps.event.addListener(J,"dragstart",c)),f&&A(google.maps.event.addListener(J,"mousedown",f)),p&&z(google.maps.event.addListener(J,"mousemove",p)),d&&W(google.maps.event.addListener(J,"mouseout",d)),h&&G(google.maps.event.addListener(J,"mouseover",h)),g&&X(google.maps.event.addListener(J,"mouseup",g)),m&&_(google.maps.event.addListener(J,"rightclick",m)),v&&$(google.maps.event.addListener(J,"click",v)),y&&T(google.maps.event.addListener(J,"drag",y)),b&&V(google.maps.event.addListener(J,"bounds_changed",b)),L(J),x&&x(J),()=>{S!==null&&google.maps.event.removeListener(S),O!==null&&google.maps.event.removeListener(O),M!==null&&google.maps.event.removeListener(M),F!==null&&google.maps.event.removeListener(F),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),q!==null&&google.maps.event.removeListener(q),K!==null&&google.maps.event.removeListener(K),R!==null&&google.maps.event.removeListener(R),j!==null&&google.maps.event.removeListener(j),D!==null&&google.maps.event.removeListener(D),H!==null&&google.maps.event.removeListener(H),E&&E(J),J.setMap(null)}},[]),null}l.memo(Ad);class Ud extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{rectangle:null}),N(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var t=new google.maps.Rectangle($n($n({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:$o,eventMap:Vo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{rectangle:t}},this.setRectangleCallback)}componentDidUpdate(t){this.state.rectangle!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:$o,eventMap:Vo,prevProps:t,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ie(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}N(Ud,"contextType",re);function zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Ho={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Go={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},_d={};function Fd(e){var{options:t,center:n,radius:s,draggable:r,editable:a,visible:i,onDblClick:o,onDragEnd:c,onDragStart:f,onMouseDown:p,onMouseMove:d,onMouseOut:h,onMouseOver:g,onMouseUp:m,onRightClick:v,onClick:y,onDrag:b,onCenterChanged:x,onRadiusChanged:E,onLoad:C,onUnmount:w}=e,L=l.useContext(re),[S,P]=l.useState(null),[O,k]=l.useState(null),[M,U]=l.useState(null),[F,A]=l.useState(null),[B,z]=l.useState(null),[Z,W]=l.useState(null),[q,G]=l.useState(null),[K,X]=l.useState(null),[R,_]=l.useState(null),[j,$]=l.useState(null),[D,T]=l.useState(null),[H,V]=l.useState(null),[J,fe]=l.useState(null),[ue,Le]=l.useState(null);return l.useEffect(()=>{S!==null&&S.setMap(L)},[L]),l.useEffect(()=>{typeof t<"u"&&S!==null&&S.setOptions(t)},[S,t]),l.useEffect(()=>{typeof r<"u"&&S!==null&&S.setDraggable(r)},[S,r]),l.useEffect(()=>{typeof a<"u"&&S!==null&&S.setEditable(a)},[S,a]),l.useEffect(()=>{typeof i<"u"&&S!==null&&S.setVisible(i)},[S,i]),l.useEffect(()=>{typeof s=="number"&&S!==null&&S.setRadius(s)},[S,s]),l.useEffect(()=>{typeof n<"u"&&S!==null&&S.setCenter(n)},[S,n]),l.useEffect(()=>{S&&o&&(O!==null&&google.maps.event.removeListener(O),k(google.maps.event.addListener(S,"dblclick",o)))},[o]),l.useEffect(()=>{S&&c&&(M!==null&&google.maps.event.removeListener(M),U(google.maps.event.addListener(S,"dragend",c)))},[c]),l.useEffect(()=>{S&&f&&(F!==null&&google.maps.event.removeListener(F),A(google.maps.event.addListener(S,"dragstart",f)))},[f]),l.useEffect(()=>{S&&p&&(B!==null&&google.maps.event.removeListener(B),z(google.maps.event.addListener(S,"mousedown",p)))},[p]),l.useEffect(()=>{S&&d&&(Z!==null&&google.maps.event.removeListener(Z),W(google.maps.event.addListener(S,"mousemove",d)))},[d]),l.useEffect(()=>{S&&h&&(q!==null&&google.maps.event.removeListener(q),G(google.maps.event.addListener(S,"mouseout",h)))},[h]),l.useEffect(()=>{S&&g&&(K!==null&&google.maps.event.removeListener(K),X(google.maps.event.addListener(S,"mouseover",g)))},[g]),l.useEffect(()=>{S&&m&&(R!==null&&google.maps.event.removeListener(R),_(google.maps.event.addListener(S,"mouseup",m)))},[m]),l.useEffect(()=>{S&&v&&(j!==null&&google.maps.event.removeListener(j),$(google.maps.event.addListener(S,"rightclick",v)))},[v]),l.useEffect(()=>{S&&y&&(D!==null&&google.maps.event.removeListener(D),T(google.maps.event.addListener(S,"click",y)))},[y]),l.useEffect(()=>{S&&b&&(H!==null&&google.maps.event.removeListener(H),V(google.maps.event.addListener(S,"drag",b)))},[b]),l.useEffect(()=>{S&&x&&(J!==null&&google.maps.event.removeListener(J),fe(google.maps.event.addListener(S,"center_changed",x)))},[y]),l.useEffect(()=>{S&&E&&(ue!==null&&google.maps.event.removeListener(ue),Le(google.maps.event.addListener(S,"radius_changed",E)))},[E]),l.useEffect(()=>{var te=new google.maps.Circle(zn(zn({},t||_d),{},{map:L}));return typeof s=="number"&&te.setRadius(s),typeof n<"u"&&te.setCenter(n),typeof s=="number"&&te.setRadius(s),typeof i<"u"&&te.setVisible(i),typeof a<"u"&&te.setEditable(a),typeof r<"u"&&te.setDraggable(r),o&&k(google.maps.event.addListener(te,"dblclick",o)),c&&U(google.maps.event.addListener(te,"dragend",c)),f&&A(google.maps.event.addListener(te,"dragstart",f)),p&&z(google.maps.event.addListener(te,"mousedown",p)),d&&W(google.maps.event.addListener(te,"mousemove",d)),h&&G(google.maps.event.addListener(te,"mouseout",h)),g&&X(google.maps.event.addListener(te,"mouseover",g)),m&&_(google.maps.event.addListener(te,"mouseup",m)),v&&$(google.maps.event.addListener(te,"rightclick",v)),y&&T(google.maps.event.addListener(te,"click",y)),b&&V(google.maps.event.addListener(te,"drag",b)),x&&fe(google.maps.event.addListener(te,"center_changed",x)),E&&Le(google.maps.event.addListener(te,"radius_changed",E)),P(te),C&&C(te),()=>{O!==null&&google.maps.event.removeListener(O),M!==null&&google.maps.event.removeListener(M),F!==null&&google.maps.event.removeListener(F),B!==null&&google.maps.event.removeListener(B),Z!==null&&google.maps.event.removeListener(Z),q!==null&&google.maps.event.removeListener(q),K!==null&&google.maps.event.removeListener(K),R!==null&&google.maps.event.removeListener(R),j!==null&&google.maps.event.removeListener(j),D!==null&&google.maps.event.removeListener(D),J!==null&&google.maps.event.removeListener(J),ue!==null&&google.maps.event.removeListener(ue),w&&w(te),te.setMap(null)}},[]),null}l.memo(Fd);class Bd extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{circle:null}),N(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var t=new google.maps.Circle(zn(zn({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:Go,eventMap:Ho,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{circle:t}},this.setCircleCallback)}componentDidUpdate(t){this.state.circle!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:Go,eventMap:Ho,prevProps:t,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var t;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ie(this.registeredEvents),(t=this.state.circle)===null||t===void 0||t.setMap(null)}}render(){return null}}N(Bd,"contextType",re);function Wo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var qo={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},Zo={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,s){e.loadGeoJson(t,n,s)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};function Vd(e){var{options:t,onClick:n,onDblClick:s,onMouseDown:r,onMouseMove:a,onMouseOut:i,onMouseOver:o,onMouseUp:c,onRightClick:f,onAddFeature:p,onRemoveFeature:d,onRemoveProperty:h,onSetGeometry:g,onSetProperty:m,onLoad:v,onUnmount:y}=e,b=l.useContext(re),[x,E]=l.useState(null),[C,w]=l.useState(null),[L,S]=l.useState(null),[P,O]=l.useState(null),[k,M]=l.useState(null),[U,F]=l.useState(null),[A,B]=l.useState(null),[z,Z]=l.useState(null),[W,q]=l.useState(null),[G,K]=l.useState(null),[X,R]=l.useState(null),[_,j]=l.useState(null),[$,D]=l.useState(null),[T,H]=l.useState(null);return l.useEffect(()=>{x!==null&&x.setMap(b)},[b]),l.useEffect(()=>{x&&s&&(C!==null&&google.maps.event.removeListener(C),w(google.maps.event.addListener(x,"dblclick",s)))},[s]),l.useEffect(()=>{x&&r&&(L!==null&&google.maps.event.removeListener(L),S(google.maps.event.addListener(x,"mousedown",r)))},[r]),l.useEffect(()=>{x&&a&&(P!==null&&google.maps.event.removeListener(P),O(google.maps.event.addListener(x,"mousemove",a)))},[a]),l.useEffect(()=>{x&&i&&(k!==null&&google.maps.event.removeListener(k),M(google.maps.event.addListener(x,"mouseout",i)))},[i]),l.useEffect(()=>{x&&o&&(U!==null&&google.maps.event.removeListener(U),F(google.maps.event.addListener(x,"mouseover",o)))},[o]),l.useEffect(()=>{x&&c&&(A!==null&&google.maps.event.removeListener(A),B(google.maps.event.addListener(x,"mouseup",c)))},[c]),l.useEffect(()=>{x&&f&&(z!==null&&google.maps.event.removeListener(z),Z(google.maps.event.addListener(x,"rightclick",f)))},[f]),l.useEffect(()=>{x&&n&&(W!==null&&google.maps.event.removeListener(W),q(google.maps.event.addListener(x,"click",n)))},[n]),l.useEffect(()=>{x&&p&&(G!==null&&google.maps.event.removeListener(G),K(google.maps.event.addListener(x,"addfeature",p)))},[p]),l.useEffect(()=>{x&&d&&(X!==null&&google.maps.event.removeListener(X),R(google.maps.event.addListener(x,"removefeature",d)))},[d]),l.useEffect(()=>{x&&h&&(_!==null&&google.maps.event.removeListener(_),j(google.maps.event.addListener(x,"removeproperty",h)))},[h]),l.useEffect(()=>{x&&g&&($!==null&&google.maps.event.removeListener($),D(google.maps.event.addListener(x,"setgeometry",g)))},[g]),l.useEffect(()=>{x&&m&&(T!==null&&google.maps.event.removeListener(T),H(google.maps.event.addListener(x,"setproperty",m)))},[m]),l.useEffect(()=>{if(b!==null){var V=new google.maps.Data(Hn(Hn({},t),{},{map:b}));s&&w(google.maps.event.addListener(V,"dblclick",s)),r&&S(google.maps.event.addListener(V,"mousedown",r)),a&&O(google.maps.event.addListener(V,"mousemove",a)),i&&M(google.maps.event.addListener(V,"mouseout",i)),o&&F(google.maps.event.addListener(V,"mouseover",o)),c&&B(google.maps.event.addListener(V,"mouseup",c)),f&&Z(google.maps.event.addListener(V,"rightclick",f)),n&&q(google.maps.event.addListener(V,"click",n)),p&&K(google.maps.event.addListener(V,"addfeature",p)),d&&R(google.maps.event.addListener(V,"removefeature",d)),h&&j(google.maps.event.addListener(V,"removeproperty",h)),g&&D(google.maps.event.addListener(V,"setgeometry",g)),m&&H(google.maps.event.addListener(V,"setproperty",m)),E(V),v&&v(V)}return()=>{x&&(C!==null&&google.maps.event.removeListener(C),L!==null&&google.maps.event.removeListener(L),P!==null&&google.maps.event.removeListener(P),k!==null&&google.maps.event.removeListener(k),U!==null&&google.maps.event.removeListener(U),A!==null&&google.maps.event.removeListener(A),z!==null&&google.maps.event.removeListener(z),W!==null&&google.maps.event.removeListener(W),G!==null&&google.maps.event.removeListener(G),X!==null&&google.maps.event.removeListener(X),_!==null&&google.maps.event.removeListener(_),$!==null&&google.maps.event.removeListener($),T!==null&&google.maps.event.removeListener(T),y&&y(x),x.setMap(null))}},[]),null}l.memo(Vd);class $d extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{data:null}),N(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var t=new google.maps.Data(Hn(Hn({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:Zo,eventMap:qo,prevProps:{},nextProps:this.props,instance:t}),this.setState(()=>({data:t}),this.setDataCallback)}}componentDidUpdate(t){this.state.data!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:Zo,eventMap:qo,prevProps:t,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ie(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}N($d,"contextType",re);function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ko(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var Yo={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},Xo={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class zd extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{kmlLayer:null}),N(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var t=new google.maps.KmlLayer(Jo(Jo({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:Xo,eventMap:Yo,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{kmlLayer:t}},this.setKmlLayerCallback)}componentDidUpdate(t){this.state.kmlLayer!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:Xo,eventMap:Yo,prevProps:t,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ie(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}N(zd,"contextType",re);function qa(e,t){return typeof t=="function"?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function Hd(e,t){return new t(e.lat,e.lng)}function Gd(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function Wd(e,t,n){return e instanceof t?e:n(e,t)}function qd(e,t,n){return e instanceof t?e:n(e,t)}function Zd(e,t,n){var s=e&&e.fromLatLngToDivPixel(n.getNorthEast()),r=e&&e.fromLatLngToDivPixel(n.getSouthWest());return s&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(s.y+t.y,"px"),width:"".concat(s.x-r.x-t.x,"px"),height:"".concat(r.y-s.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}function Kd(e,t,n){var s=e&&e.fromLatLngToDivPixel(n);if(s){var{x:r,y:a}=s;return{left:"".concat(r+t.x,"px"),top:"".concat(a+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Za(e,t,n,s){return n!==void 0?Zd(e,t,qd(n,google.maps.LatLngBounds,Gd)):Kd(e,t,Wd(s,google.maps.LatLng,Hd))}function Jd(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.height&&e.height===t.height}function Qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qo(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qo(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Xd(e,t,n,s,r){class a extends google.maps.OverlayView{constructor(o,c,f,p){super(),this.container=o,this.pane=c,this.position=f,this.bounds=p}onAdd(){var o,c=(o=this.getPanes())===null||o===void 0?void 0:o[this.pane];c==null||c.appendChild(this.container)}draw(){var o=this.getProjection(),c=Yd({},this.container?qa(this.container,r):{x:0,y:0}),f=Za(o,c,this.bounds,this.position);for(var[p,d]of Object.entries(f))this.container.style[p]=d}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new a(e,t,n,s)}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ei(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ti(e){if(!e)return"";var t=e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng);return t+""}function ni(e){if(!e)return"";var t=e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west));return t+""}function ep(e){var{position:t,bounds:n,mapPaneName:s,zIndex:r,onLoad:a,onUnmount:i,getPixelPositionOffset:o,children:c}=e,f=l.useContext(re),p=l.useMemo(()=>{var h=document.createElement("div");return h.style.position="absolute",h},[]),d=l.useMemo(()=>Xd(p,s,t,n,o),[p,s,t,n]);return l.useEffect(()=>(a==null||a(d),d==null||d.setMap(f),()=>{i==null||i(d),d==null||d.setMap(null)}),[f,d]),l.useEffect(()=>{p.style.zIndex="".concat(r)},[r,p]),dt.createPortal(c,p)}l.memo(ep);class wt extends l.PureComponent{constructor(t){super(t),N(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),N(this,"updatePane",()=>{var s=this.props.mapPaneName,r=this.overlayView.getPanes();be(!!s,"OverlayView requires props.mapPaneName but got %s",s),r?this.setState({paneEl:r[s]}):this.setState({paneEl:null})}),N(this,"onAdd",()=>{var s,r;this.updatePane(),(s=(r=this.props).onLoad)===null||s===void 0||s.call(r,this.overlayView)}),N(this,"onPositionElement",()=>{var s=this.overlayView.getProjection(),r=Qd({x:0,y:0},this.containerRef.current?qa(this.containerRef.current,this.props.getPixelPositionOffset):{}),a=Za(s,r,this.props.bounds,this.props.position);if(!Jd(a,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var i,o,c,f;this.setState({containerStyle:{top:(i=a.top)!==null&&i!==void 0?i:0,left:(o=a.left)!==null&&o!==void 0?o:0,width:(c=a.width)!==null&&c!==void 0?c:0,height:(f=a.height)!==null&&f!==void 0?f:0,position:"absolute"}})}}),N(this,"draw",()=>{this.onPositionElement()}),N(this,"onRemove",()=>{var s,r;this.setState(()=>({paneEl:null})),(s=(r=this.props).onUnmount)===null||s===void 0||s.call(r,this.overlayView)}),this.containerRef=l.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(t){var n=ti(t.position),s=ti(this.props.position),r=ni(t.bounds),a=ni(this.props.bounds);(n!==s||r!==a)&&this.overlayView.draw(),t.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var t=this.state.paneEl;return t?dt.createPortal(u.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:l.Children.only(this.props.children)}),t):null}}N(wt,"FLOAT_PANE","floatPane");N(wt,"MAP_PANE","mapPane");N(wt,"MARKER_LAYER","markerLayer");N(wt,"OVERLAY_LAYER","overlayLayer");N(wt,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");N(wt,"contextType",re);function tp(){}function si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?si(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var oi={onDblClick:"dblclick",onClick:"click"},ii={opacity(e,t){e.setOpacity(t)}};function np(e){var{url:t,bounds:n,options:s,visible:r}=e,a=l.useContext(re),i=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),o=l.useMemo(()=>new google.maps.GroundOverlay(t,i,s),[]);return l.useEffect(()=>{o!==null&&o.setMap(a)},[a]),l.useEffect(()=>{typeof t<"u"&&o!==null&&(o.set("url",t),o.setMap(a))},[o,t]),l.useEffect(()=>{typeof r<"u"&&o!==null&&o.setOpacity(r?1:0)},[o,r]),l.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&o!==null&&(o.set("bounds",c),o.setMap(a))},[o,n]),null}l.memo(np);class Ka extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{groundOverlay:null}),N(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){be(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var t=new google.maps.GroundOverlay(this.props.url,this.props.bounds,ri(ri({},this.props.options),{},{map:this.context}));this.registeredEvents=oe({updaterMap:ii,eventMap:oi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{groundOverlay:t}},this.setGroundOverlayCallback)}componentDidUpdate(t){this.state.groundOverlay!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:ii,eventMap:oi,prevProps:t,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}N(Ka,"defaultProps",{onLoad:tp});N(Ka,"contextType",re);function ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ai(Object(n),!0).forEach(function(s){N(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ai(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}var li={},ci={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};function sp(e){var{data:t,onLoad:n,onUnmount:s,options:r}=e,a=l.useContext(re),[i,o]=l.useState(null);return l.useEffect(()=>{google.maps.visualization||be(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),l.useEffect(()=>{be(!!t,"data property is required in HeatmapLayer %s",t)},[t]),l.useEffect(()=>{i!==null&&i.setMap(a)},[a]),l.useEffect(()=>{r&&i!==null&&i.setOptions(r)},[i,r]),l.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(Gn(Gn({},r),{},{data:t,map:a}));return o(c),n&&n(c),()=>{i!==null&&(s&&s(i),i.setMap(null))}},[]),null}l.memo(sp);class rp extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{heatmapLayer:null}),N(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){be(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),be(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var t=new google.maps.visualization.HeatmapLayer(Gn(Gn({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=oe({updaterMap:ci,eventMap:li,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{heatmapLayer:t}},this.setHeatmapLayerCallback)}componentDidUpdate(t){ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:ci,eventMap:li,prevProps:t,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ie(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}N(rp,"contextType",re);var ui={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},di={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class op extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{streetViewPanorama:null}),N(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var t,n,s=(t=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&t!==void 0?t:null;this.registeredEvents=oe({updaterMap:di,eventMap:ui,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({streetViewPanorama:s}),this.setStreetViewPanoramaCallback)}componentDidUpdate(t){this.state.streetViewPanorama!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:di,eventMap:ui,prevProps:t,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ie(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}N(op,"contextType",re);class ip extends l.PureComponent{constructor(){super(...arguments),N(this,"state",{streetViewService:null}),N(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var t=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:t}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}N(ip,"contextType",re);var pi={onDirectionsChanged:"directions_changed"},fi={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class ap extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"state",{directionsRenderer:null}),N(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var t=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=oe({updaterMap:fi,eventMap:pi,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{directionsRenderer:t}},this.setDirectionsRendererCallback)}componentDidUpdate(t){this.state.directionsRenderer!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:fi,eventMap:pi,prevProps:t,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ie(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}N(ap,"contextType",re);var hi={onPlacesChanged:"places_changed"},mi={bounds(e,t){e.setBounds(t)}};class lp extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"containerElement",l.createRef()),N(this,"state",{searchBox:null}),N(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(be(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var t=this.containerElement.current.querySelector("input");if(t!==null){var n=new google.maps.places.SearchBox(t,this.props.options);this.registeredEvents=oe({updaterMap:mi,eventMap:hi,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(t){this.state.searchBox!==null&&(ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:mi,eventMap:hi,prevProps:t,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ie(this.registeredEvents))}render(){return u.jsx("div",{ref:this.containerElement,children:l.Children.only(this.props.children)})}}N(lp,"contextType",re);var gi={onPlaceChanged:"place_changed"},vi={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class Ja extends l.PureComponent{constructor(){super(...arguments),N(this,"registeredEvents",[]),N(this,"containerElement",l.createRef()),N(this,"state",{autocomplete:null}),N(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var t;be(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(t=this.containerElement.current)===null||t===void 0?void 0:t.querySelector("input");if(n){var s=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=oe({updaterMap:vi,eventMap:gi,prevProps:{},nextProps:this.props,instance:s}),this.setState(()=>({autocomplete:s}),this.setAutocompleteCallback)}}componentDidUpdate(t){ie(this.registeredEvents),this.registeredEvents=oe({updaterMap:vi,eventMap:gi,prevProps:t,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ie(this.registeredEvents)}render(){return u.jsx("div",{ref:this.containerElement,className:this.props.className,children:l.Children.only(this.props.children)})}}N(Ja,"defaultProps",{className:""});N(Ja,"contextType",re);function Ya(e,t){return function(){return e.apply(t,arguments)}}const{toString:cp}=Object.prototype,{getPrototypeOf:hr}=Object,{iterator:ts,toStringTag:Xa}=Symbol,ns=(e=>t=>{const n=cp.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fe=e=>(e=e.toLowerCase(),t=>ns(t)===e),ss=e=>t=>typeof t===e,{isArray:xt}=Array,_t=ss("undefined");function up(e){return e!==null&&!_t(e)&&e.constructor!==null&&!_t(e.constructor)&&Me(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qa=Fe("ArrayBuffer");function dp(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qa(e.buffer),t}const pp=ss("string"),Me=ss("function"),el=ss("number"),rs=e=>e!==null&&typeof e=="object",fp=e=>e===!0||e===!1,bn=e=>{if(ns(e)!=="object")return!1;const t=hr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Xa in e)&&!(ts in e)},hp=Fe("Date"),mp=Fe("File"),gp=Fe("Blob"),vp=Fe("FileList"),yp=e=>rs(e)&&Me(e.pipe),bp=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Me(e.append)&&((t=ns(e))==="formdata"||t==="object"&&Me(e.toString)&&e.toString()==="[object FormData]"))},wp=Fe("URLSearchParams"),[xp,Cp,Sp,Lp]=["ReadableStream","Request","Response","Headers"].map(Fe),Ep=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zt(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),xt(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let o;for(s=0;s<i;s++)o=a[s],t.call(null,e[o],o,e)}}function tl(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const rt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,nl=e=>!_t(e)&&e!==rt;function Gs(){const{caseless:e}=nl(this)&&this||{},t={},n=(s,r)=>{const a=e&&tl(t,r)||r;bn(t[a])&&bn(s)?t[a]=Gs(t[a],s):bn(s)?t[a]=Gs({},s):xt(s)?t[a]=s.slice():t[a]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&zt(arguments[s],n);return t}const Op=(e,t,n,{allOwnKeys:s}={})=>(zt(t,(r,a)=>{n&&Me(r)?e[a]=Ya(r,n):e[a]=r},{allOwnKeys:s}),e),Pp=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),jp=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Mp=(e,t,n,s)=>{let r,a,i;const o={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],(!s||s(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=n!==!1&&hr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kp=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Ip=e=>{if(!e)return null;if(xt(e))return e;let t=e.length;if(!el(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Np=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hr(Uint8Array)),Rp=(e,t)=>{const s=(e&&e[ts]).call(e);let r;for(;(r=s.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},Tp=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Dp=Fe("HTMLFormElement"),Ap=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),yi=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Up=Fe("RegExp"),sl=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};zt(n,(r,a)=>{let i;(i=t(r,a,e))!==!1&&(s[a]=i||r)}),Object.defineProperties(e,s)},_p=e=>{sl(e,(t,n)=>{if(Me(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Me(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Fp=(e,t)=>{const n={},s=r=>{r.forEach(a=>{n[a]=!0})};return xt(e)?s(e):s(String(e).split(t)),n},Bp=()=>{},Vp=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function $p(e){return!!(e&&Me(e.append)&&e[Xa]==="FormData"&&e[ts])}const zp=e=>{const t=new Array(10),n=(s,r)=>{if(rs(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const a=xt(s)?[]:{};return zt(s,(i,o)=>{const c=n(i,r+1);!_t(c)&&(a[o]=c)}),t[r]=void 0,a}}return s};return n(e,0)},Hp=Fe("AsyncFunction"),Gp=e=>e&&(rs(e)||Me(e))&&Me(e.then)&&Me(e.catch),rl=((e,t)=>e?setImmediate:t?((n,s)=>(rt.addEventListener("message",({source:r,data:a})=>{r===rt&&a===n&&s.length&&s.shift()()},!1),r=>{s.push(r),rt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Me(rt.postMessage)),Wp=typeof queueMicrotask<"u"?queueMicrotask.bind(rt):typeof process<"u"&&process.nextTick||rl,qp=e=>e!=null&&Me(e[ts]),I={isArray:xt,isArrayBuffer:Qa,isBuffer:up,isFormData:bp,isArrayBufferView:dp,isString:pp,isNumber:el,isBoolean:fp,isObject:rs,isPlainObject:bn,isReadableStream:xp,isRequest:Cp,isResponse:Sp,isHeaders:Lp,isUndefined:_t,isDate:hp,isFile:mp,isBlob:gp,isRegExp:Up,isFunction:Me,isStream:yp,isURLSearchParams:wp,isTypedArray:Np,isFileList:vp,forEach:zt,merge:Gs,extend:Op,trim:Ep,stripBOM:Pp,inherits:jp,toFlatObject:Mp,kindOf:ns,kindOfTest:Fe,endsWith:kp,toArray:Ip,forEachEntry:Rp,matchAll:Tp,isHTMLForm:Dp,hasOwnProperty:yi,hasOwnProp:yi,reduceDescriptors:sl,freezeMethods:_p,toObjectSet:Fp,toCamelCase:Ap,noop:Bp,toFiniteNumber:Vp,findKey:tl,global:rt,isContextDefined:nl,isSpecCompliantForm:$p,toJSONObject:zp,isAsyncFn:Hp,isThenable:Gp,setImmediate:rl,asap:Wp,isIterable:qp};function se(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}I.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const ol=se.prototype,il={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{il[e]={value:e}});Object.defineProperties(se,il);Object.defineProperty(ol,"isAxiosError",{value:!0});se.from=(e,t,n,s,r,a)=>{const i=Object.create(ol);return I.toFlatObject(e,i,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),se.call(i,e.message,t,n,s,r),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Zp=null;function Ws(e){return I.isPlainObject(e)||I.isArray(e)}function al(e){return I.endsWith(e,"[]")?e.slice(0,-2):e}function bi(e,t,n){return e?e.concat(t).map(function(r,a){return r=al(r),!n&&a?"["+r+"]":r}).join(n?".":""):t}function Kp(e){return I.isArray(e)&&!e.some(Ws)}const Jp=I.toFlatObject(I,{},null,function(t){return/^is[A-Z]/.test(t)});function os(e,t,n){if(!I.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!I.isUndefined(y[v])});const s=n.metaTokens,r=n.visitor||p,a=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(t);if(!I.isFunction(r))throw new TypeError("visitor must be a function");function f(m){if(m===null)return"";if(I.isDate(m))return m.toISOString();if(!c&&I.isBlob(m))throw new se("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(m)||I.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function p(m,v,y){let b=m;if(m&&!y&&typeof m=="object"){if(I.endsWith(v,"{}"))v=s?v:v.slice(0,-2),m=JSON.stringify(m);else if(I.isArray(m)&&Kp(m)||(I.isFileList(m)||I.endsWith(v,"[]"))&&(b=I.toArray(m)))return v=al(v),b.forEach(function(E,C){!(I.isUndefined(E)||E===null)&&t.append(i===!0?bi([v],C,a):i===null?v:v+"[]",f(E))}),!1}return Ws(m)?!0:(t.append(bi(y,v,a),f(m)),!1)}const d=[],h=Object.assign(Jp,{defaultVisitor:p,convertValue:f,isVisitable:Ws});function g(m,v){if(!I.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(m),I.forEach(m,function(b,x){(!(I.isUndefined(b)||b===null)&&r.call(t,b,I.isString(x)?x.trim():x,v,h))===!0&&g(b,v?v.concat(x):[x])}),d.pop()}}if(!I.isObject(e))throw new TypeError("data must be an object");return g(e),t}function wi(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function mr(e,t){this._pairs=[],e&&os(e,this,t)}const ll=mr.prototype;ll.append=function(t,n){this._pairs.push([t,n])};ll.toString=function(t){const n=t?function(s){return t.call(this,s,wi)}:wi;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Yp(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cl(e,t,n){if(!t)return e;const s=n&&n.encode||Yp;I.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(t,n):a=I.isURLSearchParams(t)?t.toString():new mr(t,n).toString(s),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class xi{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){I.forEach(this.handlers,function(s){s!==null&&t(s)})}}const ul={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xp=typeof URLSearchParams<"u"?URLSearchParams:mr,Qp=typeof FormData<"u"?FormData:null,ef=typeof Blob<"u"?Blob:null,tf={isBrowser:!0,classes:{URLSearchParams:Xp,FormData:Qp,Blob:ef},protocols:["http","https","file","blob","url","data"]},gr=typeof window<"u"&&typeof document<"u",qs=typeof navigator=="object"&&navigator||void 0,nf=gr&&(!qs||["ReactNative","NativeScript","NS"].indexOf(qs.product)<0),sf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rf=gr&&window.location.href||"http://localhost",of=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gr,hasStandardBrowserEnv:nf,hasStandardBrowserWebWorkerEnv:sf,navigator:qs,origin:rf},Symbol.toStringTag,{value:"Module"})),Oe={...of,...tf};function af(e,t){return os(e,new Oe.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,a){return Oe.isNode&&I.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function lf(e){return I.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function cf(e){const t={},n=Object.keys(e);let s;const r=n.length;let a;for(s=0;s<r;s++)a=n[s],t[a]=e[a];return t}function dl(e){function t(n,s,r,a){let i=n[a++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=a>=n.length;return i=!i&&I.isArray(r)?r.length:i,c?(I.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!o):((!r[i]||!I.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],a)&&I.isArray(r[i])&&(r[i]=cf(r[i])),!o)}if(I.isFormData(e)&&I.isFunction(e.entries)){const n={};return I.forEachEntry(e,(s,r)=>{t(lf(s),r,n,0)}),n}return null}function uf(e,t,n){if(I.isString(e))try{return(t||JSON.parse)(e),I.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Ht={transitional:ul,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,a=I.isObject(t);if(a&&I.isHTMLForm(t)&&(t=new FormData(t)),I.isFormData(t))return r?JSON.stringify(dl(t)):t;if(I.isArrayBuffer(t)||I.isBuffer(t)||I.isStream(t)||I.isFile(t)||I.isBlob(t)||I.isReadableStream(t))return t;if(I.isArrayBufferView(t))return t.buffer;if(I.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return af(t,this.formSerializer).toString();if((o=I.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return os(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),uf(t)):t}],transformResponse:[function(t){const n=this.transitional||Ht.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(I.isResponse(t)||I.isReadableStream(t))return t;if(t&&I.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(o){if(i)throw o.name==="SyntaxError"?se.from(o,se.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],e=>{Ht.headers[e]={}});const df=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pf=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&df[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ci=Symbol("internals");function kt(e){return e&&String(e).trim().toLowerCase()}function wn(e){return e===!1||e==null?e:I.isArray(e)?e.map(wn):String(e)}function ff(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const hf=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ss(e,t,n,s,r){if(I.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!I.isString(t)){if(I.isString(s))return t.indexOf(s)!==-1;if(I.isRegExp(s))return s.test(t)}}function mf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function gf(e,t){const n=I.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,a,i){return this[s].call(this,t,r,a,i)},configurable:!0})})}let ke=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function a(o,c,f){const p=kt(c);if(!p)throw new Error("header name must be a non-empty string");const d=I.findKey(r,p);(!d||r[d]===void 0||f===!0||f===void 0&&r[d]!==!1)&&(r[d||c]=wn(o))}const i=(o,c)=>I.forEach(o,(f,p)=>a(f,p,c));if(I.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(I.isString(t)&&(t=t.trim())&&!hf(t))i(pf(t),n);else if(I.isObject(t)&&I.isIterable(t)){let o={},c,f;for(const p of t){if(!I.isArray(p))throw TypeError("Object iterator must return a key-value pair");o[f=p[0]]=(c=o[f])?I.isArray(c)?[...c,p[1]]:[c,p[1]]:p[1]}i(o,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=kt(t),t){const s=I.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return ff(r);if(I.isFunction(n))return n.call(this,r,s);if(I.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=kt(t),t){const s=I.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ss(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function a(i){if(i=kt(i),i){const o=I.findKey(s,i);o&&(!n||Ss(s,s[o],o,n))&&(delete s[o],r=!0)}}return I.isArray(t)?t.forEach(a):a(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const a=n[s];(!t||Ss(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const n=this,s={};return I.forEach(this,(r,a)=>{const i=I.findKey(s,a);if(i){n[i]=wn(r),delete n[a];return}const o=t?mf(a):String(a).trim();o!==a&&delete n[a],n[o]=wn(r),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return I.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&I.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Ci]=this[Ci]={accessors:{}}).accessors,r=this.prototype;function a(i){const o=kt(i);s[o]||(gf(r,i),s[o]=!0)}return I.isArray(t)?t.forEach(a):a(t),this}};ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(ke.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});I.freezeMethods(ke);function Ls(e,t){const n=this||Ht,s=t||n,r=ke.from(s.headers);let a=s.data;return I.forEach(e,function(o){a=o.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function pl(e){return!!(e&&e.__CANCEL__)}function Ct(e,t,n){se.call(this,e??"canceled",se.ERR_CANCELED,t,n),this.name="CanceledError"}I.inherits(Ct,se,{__CANCEL__:!0});function fl(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new se("Request failed with status code "+n.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vf(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yf(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,a=0,i;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),p=s[a];i||(i=f),n[r]=c,s[r]=f;let d=a,h=0;for(;d!==r;)h+=n[d++],d=d%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),f-i<t)return;const g=p&&f-p;return g?Math.round(h*1e3/g):void 0}}function bf(e,t){let n=0,s=1e3/t,r,a;const i=(f,p=Date.now())=>{n=p,r=null,a&&(clearTimeout(a),a=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),d=p-n;d>=s?i(f,p):(r=f,a||(a=setTimeout(()=>{a=null,i(r)},s-d)))},()=>r&&i(r)]}const Wn=(e,t,n=3)=>{let s=0;const r=yf(50,250);return bf(a=>{const i=a.loaded,o=a.lengthComputable?a.total:void 0,c=i-s,f=r(c),p=i<=o;s=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:f||void 0,estimated:f&&o&&p?(o-i)/f:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},Si=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Li=e=>(...t)=>I.asap(()=>e(...t)),wf=Oe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Oe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Oe.origin),Oe.navigator&&/(msie|trident)/i.test(Oe.navigator.userAgent)):()=>!0,xf=Oe.hasStandardBrowserEnv?{write(e,t,n,s,r,a){const i=[e+"="+encodeURIComponent(t)];I.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),I.isString(s)&&i.push("path="+s),I.isString(r)&&i.push("domain="+r),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Sf(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hl(e,t,n){let s=!Cf(t);return e&&(s||n==!1)?Sf(e,t):t}const Ei=e=>e instanceof ke?{...e}:e;function ut(e,t){t=t||{};const n={};function s(f,p,d,h){return I.isPlainObject(f)&&I.isPlainObject(p)?I.merge.call({caseless:h},f,p):I.isPlainObject(p)?I.merge({},p):I.isArray(p)?p.slice():p}function r(f,p,d,h){if(I.isUndefined(p)){if(!I.isUndefined(f))return s(void 0,f,d,h)}else return s(f,p,d,h)}function a(f,p){if(!I.isUndefined(p))return s(void 0,p)}function i(f,p){if(I.isUndefined(p)){if(!I.isUndefined(f))return s(void 0,f)}else return s(void 0,p)}function o(f,p,d){if(d in t)return s(f,p);if(d in e)return s(void 0,f)}const c={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(f,p,d)=>r(Ei(f),Ei(p),d,!0)};return I.forEach(Object.keys(Object.assign({},e,t)),function(p){const d=c[p]||r,h=d(e[p],t[p],p);I.isUndefined(h)&&d!==o||(n[p]=h)}),n}const ml=e=>{const t=ut({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:o}=t;t.headers=i=ke.from(i),t.url=cl(hl(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(I.isFormData(n)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[f,...p]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([f||"multipart/form-data",...p].join("; "))}}if(Oe.hasStandardBrowserEnv&&(s&&I.isFunction(s)&&(s=s(t)),s||s!==!1&&wf(t.url))){const f=r&&a&&xf.read(a);f&&i.set(r,f)}return t},Lf=typeof XMLHttpRequest<"u",Ef=Lf&&function(e){return new Promise(function(n,s){const r=ml(e);let a=r.data;const i=ke.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:f}=r,p,d,h,g,m;function v(){g&&g(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function b(){if(!y)return;const E=ke.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:E,config:e,request:y};fl(function(S){n(S),v()},function(S){s(S),v()},w),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(s(new se("Request aborted",se.ECONNABORTED,e,y)),y=null)},y.onerror=function(){s(new se("Network Error",se.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||ul;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),s(new se(C,w.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,y)),y=null},a===void 0&&i.setContentType(null),"setRequestHeader"in y&&I.forEach(i.toJSON(),function(C,w){y.setRequestHeader(w,C)}),I.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),o&&o!=="json"&&(y.responseType=r.responseType),f&&([h,m]=Wn(f,!0),y.addEventListener("progress",h)),c&&y.upload&&([d,g]=Wn(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(p=E=>{y&&(s(!E||E.type?new Ct(null,e,y):E),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const x=vf(r.url);if(x&&Oe.protocols.indexOf(x)===-1){s(new se("Unsupported protocol "+x+":",se.ERR_BAD_REQUEST,e));return}y.send(a||null)})},Of=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const a=function(f){if(!r){r=!0,o();const p=f instanceof Error?f:this.reason;s.abort(p instanceof se?p:new Ct(p instanceof Error?p.message:p))}};let i=t&&setTimeout(()=>{i=null,a(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(a):f.removeEventListener("abort",a)}),e=null)};e.forEach(f=>f.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>I.asap(o),c}},Pf=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},jf=async function*(e,t){for await(const n of Mf(e))yield*Pf(n,t)},Mf=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Oi=(e,t,n,s)=>{const r=jf(e,t);let a=0,i,o=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:f,value:p}=await r.next();if(f){o(),c.close();return}let d=p.byteLength;if(n){let h=a+=d;n(h)}c.enqueue(new Uint8Array(p))}catch(f){throw o(f),f}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},is=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gl=is&&typeof ReadableStream=="function",kf=is&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),vl=(e,...t)=>{try{return!!e(...t)}catch{return!1}},If=gl&&vl(()=>{let e=!1;const t=new Request(Oe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Pi=64*1024,Zs=gl&&vl(()=>I.isReadableStream(new Response("").body)),qn={stream:Zs&&(e=>e.body)};is&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!qn[t]&&(qn[t]=I.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new se(`Response type '${t}' is not supported`,se.ERR_NOT_SUPPORT,s)})})})(new Response);const Nf=async e=>{if(e==null)return 0;if(I.isBlob(e))return e.size;if(I.isSpecCompliantForm(e))return(await new Request(Oe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(I.isArrayBufferView(e)||I.isArrayBuffer(e))return e.byteLength;if(I.isURLSearchParams(e)&&(e=e+""),I.isString(e))return(await kf(e)).byteLength},Rf=async(e,t)=>{const n=I.toFiniteNumber(e.getContentLength());return n??Nf(t)},Tf=is&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:a,timeout:i,onDownloadProgress:o,onUploadProgress:c,responseType:f,headers:p,withCredentials:d="same-origin",fetchOptions:h}=ml(e);f=f?(f+"").toLowerCase():"text";let g=Of([r,a&&a.toAbortSignal()],i),m;const v=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let y;try{if(c&&If&&n!=="get"&&n!=="head"&&(y=await Rf(p,s))!==0){let w=new Request(t,{method:"POST",body:s,duplex:"half"}),L;if(I.isFormData(s)&&(L=w.headers.get("content-type"))&&p.setContentType(L),w.body){const[S,P]=Si(y,Wn(Li(c)));s=Oi(w.body,Pi,S,P)}}I.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;m=new Request(t,{...h,signal:g,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:b?d:void 0});let x=await fetch(m);const E=Zs&&(f==="stream"||f==="response");if(Zs&&(o||E&&v)){const w={};["status","statusText","headers"].forEach(O=>{w[O]=x[O]});const L=I.toFiniteNumber(x.headers.get("content-length")),[S,P]=o&&Si(L,Wn(Li(o),!0))||[];x=new Response(Oi(x.body,Pi,S,()=>{P&&P(),v&&v()}),w)}f=f||"text";let C=await qn[I.findKey(qn,f)||"text"](x,e);return!E&&v&&v(),await new Promise((w,L)=>{fl(w,L,{data:C,headers:ke.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:m})})}catch(b){throw v&&v(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,e,m),{cause:b.cause||b}):se.from(b,b&&b.code,e,m)}}),Ks={http:Zp,xhr:Ef,fetch:Tf};I.forEach(Ks,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ji=e=>`- ${e}`,Df=e=>I.isFunction(e)||e===null||e===!1,yl={getAdapter:e=>{e=I.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let a=0;a<t;a++){n=e[a];let i;if(s=n,!Df(n)&&(s=Ks[(i=String(n)).toLowerCase()],s===void 0))throw new se(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+a]=s}if(!s){const a=Object.entries(r).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(ji).join(`
`):" "+ji(a[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Ks};function Es(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ct(null,e)}function Mi(e){return Es(e),e.headers=ke.from(e.headers),e.data=Ls.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),yl.getAdapter(e.adapter||Ht.adapter)(e).then(function(s){return Es(e),s.data=Ls.call(e,e.transformResponse,s),s.headers=ke.from(s.headers),s},function(s){return pl(s)||(Es(e),s&&s.response&&(s.response.data=Ls.call(e,e.transformResponse,s.response),s.response.headers=ke.from(s.response.headers))),Promise.reject(s)})}const bl="1.9.0",as={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{as[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ki={};as.transitional=function(t,n,s){function r(a,i){return"[Axios v"+bl+"] Transitional option '"+a+"'"+i+(s?". "+s:"")}return(a,i,o)=>{if(t===!1)throw new se(r(i," has been removed"+(n?" in "+n:"")),se.ERR_DEPRECATED);return n&&!ki[i]&&(ki[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,o):!0}};as.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Af(e,t,n){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const a=s[r],i=t[a];if(i){const o=e[a],c=o===void 0||i(o,a,e);if(c!==!0)throw new se("option "+a+" must be "+c,se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new se("Unknown option "+a,se.ERR_BAD_OPTION)}}const xn={assertOptions:Af,validators:as},$e=xn.validators;let it=class{constructor(t){this.defaults=t||{},this.interceptors={request:new xi,response:new xi}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ut(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:a}=n;s!==void 0&&xn.assertOptions(s,{silentJSONParsing:$e.transitional($e.boolean),forcedJSONParsing:$e.transitional($e.boolean),clarifyTimeoutError:$e.transitional($e.boolean)},!1),r!=null&&(I.isFunction(r)?n.paramsSerializer={serialize:r}:xn.assertOptions(r,{encode:$e.function,serialize:$e.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xn.assertOptions(n,{baseUrl:$e.spelling("baseURL"),withXsrfToken:$e.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&I.merge(a.common,a[n.method]);a&&I.forEach(["delete","get","head","post","put","patch","common"],m=>{delete a[m]}),n.headers=ke.concat(i,a);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let p,d=0,h;if(!c){const m=[Mi.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,f),h=m.length,p=Promise.resolve(n);d<h;)p=p.then(m[d++],m[d++]);return p}h=o.length;let g=n;for(d=0;d<h;){const m=o[d++],v=o[d++];try{g=m(g)}catch(y){v.call(this,y);break}}try{p=Mi.call(this,g)}catch(m){return Promise.reject(m)}for(d=0,h=f.length;d<h;)p=p.then(f[d++],f[d++]);return p}getUri(t){t=ut(this.defaults,t);const n=hl(t.baseURL,t.url,t.allowAbsoluteUrls);return cl(n,t.params,t.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(t){it.prototype[t]=function(n,s){return this.request(ut(s||{},{method:t,url:n,data:(s||{}).data}))}});I.forEach(["post","put","patch"],function(t){function n(s){return function(a,i,o){return this.request(ut(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}it.prototype[t]=n(),it.prototype[t+"Form"]=n(!0)});let Uf=class wl{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(r=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](r);s._listeners=null}),this.promise.then=r=>{let a;const i=new Promise(o=>{s.subscribe(o),a=o}).then(r);return i.cancel=function(){s.unsubscribe(a)},i},t(function(a,i,o){s.reason||(s.reason=new Ct(a,i,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new wl(function(r){t=r}),cancel:t}}};function _f(e){return function(n){return e.apply(null,n)}}function Ff(e){return I.isObject(e)&&e.isAxiosError===!0}const Js={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Js).forEach(([e,t])=>{Js[t]=e});function xl(e){const t=new it(e),n=Ya(it.prototype.request,t);return I.extend(n,it.prototype,t,{allOwnKeys:!0}),I.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return xl(ut(e,r))},n}const he=xl(Ht);he.Axios=it;he.CanceledError=Ct;he.CancelToken=Uf;he.isCancel=pl;he.VERSION=bl;he.toFormData=os;he.AxiosError=se;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=_f;he.isAxiosError=Ff;he.mergeConfig=ut;he.AxiosHeaders=ke;he.formToJSON=e=>dl(I.isHTMLForm(e)?new FormData(e):e);he.getAdapter=yl.getAdapter;he.HttpStatusCode=Js;he.default=he;const{Axios:pv,AxiosError:fv,CanceledError:hv,isCancel:mv,CancelToken:gv,VERSION:vv,all:yv,Cancel:bv,isAxiosError:wv,spread:xv,toFormData:Cv,AxiosHeaders:Sv,HttpStatusCode:Lv,formToJSON:Ev,getAdapter:Ov,mergeConfig:Pv}=he,ln=new Set,vr=he.create({baseURL:"https://br-session-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}}),qe=he.create({baseURL:"https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/json","app-key":"j+cHATnnYUUjz+ff","app-name":"web-service"},withCredentials:!1}),St=he.create({baseURL:"https://br-auth-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/x-www-form-urlencoded","app-name":"web-service","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c"},withCredentials:!1}),Os=he.create({baseURL:"https://br-customer-mgmt-api-dev001-207215937730.us-central1.run.app",timeout:3e4,headers:{"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}}),yr=he.create({baseURL:"https://br-customer-mgmt-api-dev001-207215937730.us-central1.run.app/v1/getCustomerByEmail/EMAIL",timeout:3e4,headers:{"Content-Type":"application/x-www-form-urlencoded","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}}),ls=e=>{var t,n,s,r,a,i,o,c,f,p,d,h,g,m;return console.error(" API Error Details:",{request:{url:(t=e.config)==null?void 0:t.url,method:(n=e.config)==null?void 0:n.method,baseURL:(s=e.config)==null?void 0:s.baseURL,headers:{...(r=e.config)==null?void 0:r.headers,"app-key":(a=e.config)!=null&&a.headers["app-key"]?"[PRESENT]":"[MISSING]"},data:(i=e.config)==null?void 0:i.data},response:{status:(o=e.response)==null?void 0:o.status,statusText:(c=e.response)==null?void 0:c.statusText,data:(f=e.response)==null?void 0:f.data,headers:(p=e.response)==null?void 0:p.headers},error:{name:e.name,message:e.message,stack:e.stack}}),console.log(" Request Headers:",{contentType:(d=e.config)==null?void 0:d.headers["Content-Type"],appName:(h=e.config)==null?void 0:h.headers["app-name"],appKey:(g=e.config)!=null&&g.headers["app-key"]?"[PRESENT]":"[MISSING]",sessionId:(m=e.config)==null?void 0:m.headers.sessionId}),Promise.reject(e)},br=async e=>{const t=localStorage.getItem("sessionId");return console.log("Current session ID before request:",t),e.headers=e.headers||{},t?(e.headers.sessionId=t,console.log("Added session ID to request headers")):console.log("No session ID available for request"),console.log("Final request config:",{url:e.url,method:e.method,headers:{contentType:e.headers["Content-Type"],appName:e.headers["app-name"],appKey:e.headers["app-key"]?"[PRESENT]":"[MISSING]",sessionId:e.headers.sessionId}}),e};vr.interceptors.response.use(e=>e,ls);St.interceptors.response.use(e=>e,ls);qe.interceptors.response.use(e=>e,ls);yr.interceptors.response.use(e=>e,ls);St.interceptors.request.use(br);yr.interceptors.request.use(br);qe.interceptors.request.use(br);const wr=async()=>{var e,t,n,s,r,a;try{console.log("Creating new session..."),console.log("Previous sessionId in localStorage:",localStorage.getItem("sessionId"));const i=await vr.post("/createSession");if(console.log("Create session raw response:",i),!i.data)throw new Error("No response data received from createSession");const o=i.data.data||i.data;if(!o)throw console.error("Invalid response structure:",i.data),new Error("No session data in response");const c=o.sessionId||o.sessionID;if(!c)throw console.error("Invalid session data structure:",o),new Error("No sessionId in response data");return console.log("New session data:",o),console.log("Setting new sessionId in localStorage:",c),localStorage.setItem("sessionId",c),c}catch(i){throw console.error("Error creating session:",{message:i.message,status:(e=i.response)==null?void 0:e.status,statusText:(t=i.response)==null?void 0:t.statusText,responseData:(n=i.response)==null?void 0:n.data,config:{url:(s=i.config)==null?void 0:s.url,method:(r=i.config)==null?void 0:r.method,headers:(a=i.config)==null?void 0:a.headers}}),i}},Cl=async e=>{try{console.log("Verifying session:",e);const t=await vr.get(`/getSessionDetailsById/${e}`);return console.log("Session verification response:",t),!0}catch(t){return console.error("Session verification failed:",t),!1}},Ie=async()=>{const e=localStorage.getItem("sessionId");if(e){if(console.log("Found stored session:",e),await Cl(e))return console.log("Stored session is valid"),e;console.log("Stored session is invalid, creating new one..."),localStorage.removeItem("sessionId")}return await wr()},Bf=async(e="d31a9eec-0dda-469d-8565-692ef9ad55c2")=>{var t,n,s,r,a,i;try{console.log("API: Starting getAddresses call..."),console.log("API: Getting session ID..."),await Ie(),console.log(`API: Making request to /getAddressByCommunity/${e}...`);const o=await qe.get(`/v1/getAddressByCommunity/${e}`);return console.log("API: Successful response from backend:",o),o}catch(o){throw console.error("API Error in getAddresses:",{message:o.message,status:(t=o.response)==null?void 0:t.status,statusText:(n=o.response)==null?void 0:n.statusText,data:(s=o.response)==null?void 0:s.data,config:{url:(r=o.config)==null?void 0:r.url,method:(a=o.config)==null?void 0:a.method,headers:(i=o.config)==null?void 0:i.headers}}),o}},Vf=async e=>{var t,n,s,r,a,i;try{console.log(`API: Starting getAddressesByCommunity call for community ${e}...`),console.log("API: Getting session ID..."),await Ie(),console.log(`API: Making request to /getAddressByCommunity/${e}...`);const o=await qe.get(`/v1/getAddressByCommunity/${e}`);return console.log("API: Successful response from backend:",o),o}catch(o){throw console.error(`API Error in getAddressesByCommunity for community ${e}:`,{message:o.message,status:(t=o.response)==null?void 0:t.status,statusText:(n=o.response)==null?void 0:n.statusText,data:(s=o.response)==null?void 0:s.data,config:{url:(r=o.config)==null?void 0:r.url,method:(a=o.config)==null?void 0:a.method,headers:(i=o.config)==null?void 0:i.headers}}),o}};async function Ys(e){try{console.log("Getting user info for email:",e);const t=await Ie();console.log("Using session ID for user info request:",t),console.log("Making user info request...");const n=await yr.get(e);console.log("User info response:",n);let s=n.data;const r={...s,fName:s.fName||s.firstName||s.given_name||"",lName:s.lName||s.lastName||s.family_name||"",firstName:s.firstName||s.fName||s.given_name||"",lastName:s.lastName||s.lName||s.family_name||"",email:s.email||e};return console.log("Normalized user data:",r),r}catch(t){throw console.error("Error fetching user information:",t),t}}const $f=async(e,t,n,s,r="d31a9eec-0dda-469d-8565-692ef9ad55c2")=>{var a,i,o,c;try{const f=await Ie();return(await qe.post("/v1/createAddress",{address:{postalZipCode:e.postalCode||"",street:e.street||"",streetNum:e.streetNumber||"",city:e.city||"",provState:e.state||"",unit:e.unit||""},description:t,highlightedItems:s||[],name:n||"Garage Sale",community:r},{headers:{sessionId:f}})).data}catch(f){throw console.error("Create garage sale error:",f),((i=(a=f.response)==null?void 0:a.data)==null?void 0:i.code)==="ERR_MAPS001"&&((c=(o=f.response)==null?void 0:o.data)==null?void 0:c.errorMsg)==="Existing Address"?new Error("A garage sale already exists at this address"):f}},zf=async e=>{var t,n,s;try{const r=await Ie(),a=Array.isArray(e)?e:[e];console.log("API: Deleting garage sales with IDs:",a);const i=await qe.delete("/v1/deleteAddress",{headers:{sessionId:r,"Content-Type":"application/json"},data:a});return console.log("API: Delete response:",i),i.data}catch(r){throw console.error("Delete garage sale error:",{message:r.message,status:(t=r.response)==null?void 0:t.status,statusText:(n=r.response)==null?void 0:n.statusText,data:(s=r.response)==null?void 0:s.data}),r}},Hf=async e=>{var t,n,s;try{const r=await Ie();console.log("API: Deleting community sale with ID:",e);const a=await qe.delete(`/v1/communitySales/delete/${e}`,{headers:{sessionId:r,"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(console.log("API: Delete community sale response:",a),a.data===!0)return!0;if(a.data===null)throw new Error("Community sale could not be deleted or was not found");return console.warn("Unexpected response format from delete community sale:",a.data),a.data}catch(r){throw console.error("Delete community sale error:",{message:r.message,status:(t=r.response)==null?void 0:t.status,statusText:(n=r.response)==null?void 0:n.statusText,data:(s=r.response)==null?void 0:s.data}),r}},Gf=async e=>{var t,n,s,r,a;try{console.log("Fetching user address list for userId:",e);const i=await Ie(),o=await qe.get(`/v1/userAddressList/getUserAddressList/${e}`,{headers:{sessionId:i}});return console.log("User address list response:",o),o.data}catch(i){if(console.error("Error fetching user address list:",i),((t=i.response)==null?void 0:t.status)===404)return!1;const o=((s=(n=i.response)==null?void 0:n.data)==null?void 0:s.message)||((a=(r=i.response)==null?void 0:r.data)==null?void 0:a.error)||i.message||"Failed to fetch user address list";throw new Error(o)}},Wf=async(e,t)=>{try{const n=await Ie(),s=await qe.patch(`/v1/updateAddress/${e}`,t,{headers:{sessionId:n}});return console.log("Updated garage sale:",s.data),s.data}catch(n){throw console.error("Error updating garage sale:",n),n}},qf=async(e,t,n,s)=>{var r,a,i,o,c,f,p,d,h,g,m;try{const v=await wr();console.log("Current session ID before request:",v);const y={fName:n,lName:s,userEmail:e,password:t,regType:"MANUAL",userType:"USER"};console.log("Registration Request Details:",{method:"POST",url:Os.defaults.baseURL+"/v1/createCustomer",headers:{...Os.defaults.headers,sessionId:v},body:y});try{const b=await Os.post("/v1/createCustomer",y,{headers:{sessionId:v}});if(console.log("Registration Response Details:",{status:b.status,statusText:b.statusText,headers:b.headers,data:b.data}),b.status===200)return(r=b.data)!=null&&r.sessionId&&localStorage.setItem("sessionId",b.data.sessionId),b.data}catch(b){throw console.error("Registration error:",b),((a=b.response)==null?void 0:a.status)===400?new Error((o=(i=b.response)==null?void 0:i.data)==null?void 0:o.errorMsg):b}throw new Error("Registration failed: "+response.statusText)}catch(v){throw console.error("Registration Error Details:",{name:v.name,message:v.message,status:(c=v.response)==null?void 0:c.status,statusText:(f=v.response)==null?void 0:f.statusText,responseData:(p=v.response)==null?void 0:p.data,request:{url:(d=v.config)==null?void 0:d.url,method:(h=v.config)==null?void 0:h.method,headers:(g=v.config)==null?void 0:g.headers,data:(m=v.config)==null?void 0:m.data}}),v}},Zf=async(e,t)=>{var n,s,r,a,i,o,c,f,p,d;try{const h=await Ie();console.log("Created/Retrieved session for login:",h);const g=new URLSearchParams;g.append("username",e),g.append("password",t),g.append("type","EMAIL"),console.log("Sending login request with sessionId:",h);const m={"Content-Type":"application/x-www-form-urlencoded","app-name":"web-service","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c",sessionId:h},y="https://br-auth-api-dev001-207215937730.us-central1.run.app/login";console.log("API Login Request Details:",{url:y,method:"POST",headers:m,body:g.toString(),credentials:"omit"});const b=await fetch(y,{method:"POST",headers:m,body:g,credentials:"omit"});if(!b.ok){console.error("Login failed with status:",b.status);const C=await b.text();throw console.error("Error response:",C),new Error(`Login failed with status ${b.status}: ${C}`)}const x=await b.text();let E;try{E={data:JSON.parse(x)}}catch{E={data:x==="true"}}if(console.log("Login response:",E),E.data===!0||E.data.success===!0){if(console.log("Login successful, fetching user info"),!e)throw console.error("Email is undefined during login process"),new Error("Email is required for user information retrieval");try{const C=await Ys(e);return{data:{sessionId:h,userId:C.userId,userType:C.userType,userInfo:C}}}catch(C){return console.error("Error fetching user info after successful login:",C),{data:{sessionId:h,userId:e,userType:"USER",userInfo:{email:e,fName:"",lName:""}}}}}throw new Error("Invalid login response")}catch(h){throw console.error("Login error:",{message:h.message,status:(n=h.response)==null?void 0:n.status,statusText:(s=h.response)==null?void 0:s.statusText,data:(r=h.response)==null?void 0:r.data,config:{url:(a=h.config)==null?void 0:a.url,method:(i=h.config)==null?void 0:i.method,headers:(o=h.config)==null?void 0:o.headers,data:(c=h.config)==null?void 0:c.data}}),((f=h.response)==null?void 0:f.status)===404?new Error("Login endpoint not found. Please check the API configuration."):new Error(((d=(p=h.response)==null?void 0:p.data)==null?void 0:d.message)||"Login failed. Please check your credentials.")}},Kf=async()=>{try{const e=localStorage.getItem("sessionId");e&&(await St.post("/auth/logout",{sessionId:e,application:"web-service"}),localStorage.removeItem("sessionId"))}catch(e){throw console.error("Logout error:",e),localStorage.removeItem("sessionId"),e}},Jf=async e=>{var t,n;try{const s=await Ie();console.log("Using session for password reset request:",s);const r=await St.post("/sendResetEmail",{userEmail:e},{headers:{sessionId:s}});return console.log("Password reset email sent successfully"),r.data}catch(s){throw console.error("Password reset request error:",s),s.response&&s.response.status===404?new Error("Password reset service unavailable. Please try again later."):new Error(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to send password reset email. Please try again.")}},Yf=async e=>{try{return console.log("Token will be verified during password reset"),{valid:!0}}catch(t){throw console.error("Token verification error:",t),new Error("Failed to verify reset token. Please try again.")}},Xf=async(e,t,n)=>{var s,r;try{const a=await Ie();console.log("Using session for password reset:",a),console.log("Headers being sent to the backend:",{sessionId:a,token:e,userEmail:n,newPassword:t,appCode:"app1234"});const i=await St.patch("/resetPassword",{token:e,userEmail:n,newPassword:t,appCode:"app1234"},{headers:{sessionId:a}});return console.log("Server response from password reset:",i),console.log("Password reset successful"),i.data}catch(a){throw console.error("Password reset error:",a),a.response&&a.response.status===400?new Error("Invalid token or password requirements not met. Please try again."):new Error(((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||"Failed to reset password. Please try again.")}},ge={createSession:wr,getSessionId:Ie,verifySession:Cl,getAddresses:Bf,getUserInfo:Ys,createGarageSale:$f,deleteGarageSale:zf,deleteCommunitySale:Hf,updateGarageSale:Wf,register:qf,login:Zf,logout:Kf,createUpdateUserAddressList:async(e,t,n="d31a9eec-0dda-469d-8565-692ef9ad55c2")=>{try{console.log("Saving user address list for user:",e);const s=await Ie(),r={userId:e,addressList:Array.isArray(t)?t:Array.from(t),community:n};console.log("Saving user address list payload:",r);const a=await qe.post("/v1/userAddressList/createUpdateUserAddressList",r,{headers:{sessionId:s,"Content-Type":"application/json","app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});return console.log("User address list saved successfully:",a.data),a.data}catch(s){throw console.error("Error saving user address list:",s),s}},googleLogin:async()=>{try{const r=`https://accounts.google.com/o/oauth2/auth?client_id=${encodeURIComponent("207215937730-v0mbhofpdv4rpglkdcfvk7dpudje5150.apps.googleusercontent.com")}&redirect_uri=${encodeURIComponent("https://community-map-207215937730.us-central1.run.app/loginRedirect")}&scope=${encodeURIComponent("email profile")}&response_type=${encodeURIComponent("code")}`;return console.log("Redirecting to Google OAuth:",r),window.location.href=r,{success:!0}}catch(e){throw console.error("Error initiating Google login:",e),e}},handleGoogleCallback:async e=>{var t,n;try{if(ln.has(e)){console.log("This authorization code has already been processed, preventing duplicate request");const f=localStorage.getItem("userInfo"),p=localStorage.getItem("userEmail");if(f)try{const d=JSON.parse(f);return console.log("Using stored user data from localStorage:",d),{success:!0,user:d}}catch(d){console.error("Error parsing stored user info:",d)}if(p&&p!=="cached_request")return{success:!0,user:{email:p}};console.log("No valid user data found in localStorage, clearing processed codes"),ln.clear()}ln.add(e);const s=await Ie();console.log("Using session for Google SSO:",s),console.log(" Google authorization code received:",e),console.log("Sending auth code to backend for token exchange");const r=await St.post("/login",{token:e,redirectUri:"https://community-map-207215937730.us-central1.run.app/loginRedirect",sessionId:s,type:"SSO_G"},{headers:{sessionId:s,"app-name":"web-service","app-key":"6mful1WT8NOcQLTrYdHLskYSOL4hXQ5c"}});if(console.log("Google authentication successful"),!r.data||!r.data.success)throw ln.delete(e),new Error("Invalid response from Google authentication");let a;if(typeof r.data.user=="string"?a=r.data.user:r.data.user&&r.data.user.email?a=r.data.user.email:a=r.data.email,!a)throw new Error("No email found in Google authentication response");console.log("Retrieved email from SSO:",a);let i="",o="";r.data.user&&typeof r.data.user!="string"?(i=r.data.user.firstName||r.data.user.given_name||"",o=r.data.user.lastName||r.data.user.family_name||""):(i=r.data.firstName||r.data.given_name||"",o=r.data.lastName||r.data.family_name||"");let c;try{console.log("Making separate backend call for complete user information..."),c=await Ys(a),console.log("Complete user info retrieved successfully:",c)}catch(f){console.error("Failed to retrieve user info from backend:",f),c={email:a,fName:i,lName:o,firstName:i,lastName:o,userId:`google-${a}`,userType:"USER",id:`google-${a}`},console.log("Using fallback user data for hamburger menu display:",c)}return!c.fName&&(c.firstName||i)&&(c.fName=c.firstName||i),!c.lName&&(c.lastName||o)&&(c.lName=c.lastName||o),c.email||(c.email=a),console.log("Final normalized user data for UI display:",c),{success:!0,user:c}}catch(s){throw console.error("Error handling Google callback:",s),s.response&&s.response.status===400?new Error("Invalid authorization code. Please try logging in again."):s.response&&s.response.status===404?new Error("Google login service unavailable. Please try again later."):new Error(((n=(t=s.response)==null?void 0:t.data)==null?void 0:n.message)||"Failed to authenticate with Google. Please try again.")}},requestPasswordReset:Jf,verifyResetToken:Yf,resetPassword:Xf,getUserAddressList:Gf,getAddressesByCommunity:Vf},Sl=l.createContext(null),Qf=({children:e})=>{const t=Ce(),n=xe(),[s,r]=l.useState(localStorage.getItem("sessionId")||null),[a,i]=l.useState(!1),[o,c]=l.useState(null),[f,p]=l.useState(null),[d,h]=l.useState(null),[g,m]=l.useState(localStorage.getItem("userEmail")||null);l.useEffect(()=>{(async()=>{const P=localStorage.getItem("userId"),O=localStorage.getItem("userType"),k=localStorage.getItem("userInfo"),M=localStorage.getItem("userEmail");if(P?(i(!0),c(P),O&&p(O),k&&h(JSON.parse(k)),M&&m(M)):(i(!1),c(null),p(null),h(null),m(null)),s==null){const U=await ge.createSession();r(U.sessionId),localStorage.setItem("sessionId",U.sessionId)}})()},[]);const v=async(S,P)=>{try{const O=await ge.login(S,P),{sessionId:k,userId:M,userType:U,userInfo:F}=O.data;return i(!0),c(M),p(U),h(F),m(S),localStorage.setItem("sessionId",k),localStorage.setItem("userId",M),localStorage.setItem("userType",U),localStorage.setItem("userEmail",S),localStorage.setItem("userInfo",JSON.stringify(F)),O}catch(O){throw O}},y=async()=>{try{await ge.googleLogin()}catch(S){throw console.error("Error in googleLogin:",S),S}},b=async S=>{try{console.log("AuthContext: Processing Google callback with authorization code");const P=await ge.handleGoogleCallback(S);if(P&&P.success&&P.user){const O=P.user;console.log("Login successful with user:",O);const k={userId:O.userId||O.id||`google-${O.email}`,userType:O.userType||"USER",userInfo:O,email:O.email};O.userEmail&&!O.email&&(O.email=O.userEmail),i(!0),c(k.userId),p(k.userType),h(O),m(O.email),localStorage.setItem("userId",k.userId),localStorage.setItem("userType",k.userType),localStorage.setItem("userEmail",O.email),localStorage.setItem("userInfo",JSON.stringify(O));const M=sessionStorage.getItem("initialPage");return console.log(`AUTH CONTEXT: Google login successful, navigating back to initial page: ${M}`),setTimeout(()=>{window.location.href=M},100),{success:!0,data:k}}else throw new Error("Invalid response from Google authentication")}catch(P){throw console.error("Error in handleGoogleCallback:",P),i(!1),c(null),p(null),h(null),m(null),P}},x=async S=>{try{const P=await ge.requestPasswordReset(S);return console.log("Password reset email sent successfully"),{success:!0,data:P}}catch(P){throw console.error("Error in requestPasswordReset:",P),P}},E=async S=>{try{const P=await ge.verifyResetToken(S);return console.log("Reset token verified successfully"),{success:!0,data:P}}catch(P){throw console.error("Error in verifyResetToken:",P),P}},C=async(S,P,O)=>{try{const k=await ge.resetPassword(S,P,O);return console.log("Password reset successful"),{success:!0,data:k}}catch(k){throw console.error("Error in resetPassword:",k),k}},w=async(S,P,O,k)=>{try{const M=await ge.register(S,P,O,k),U={email:S,firstName:O,lastName:k};return i(!0),h(U),m(S),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userInfo",JSON.stringify(U)),localStorage.setItem("userEmail",S),await v(S,P),M}catch(M){throw M}},L=()=>{i(!1),c(null),p(null),h(null),m(null),localStorage.removeItem("sessionId"),localStorage.removeItem("userId"),localStorage.removeItem("userType"),localStorage.removeItem("userInfo"),localStorage.removeItem("userEmail"),localStorage.removeItem("selectedSaleIds"),localStorage.removeItem("selectedSales"),localStorage.removeItem("adminSelectedSaleIds"),console.log("User logged out, cleared all user data and selections"),n.pathname==="/sales"&&(console.log("User was on garage sales page, navigating to map page"),t("/")),setTimeout(()=>{window.location.reload()},100)};return u.jsx(Sl.Provider,{value:{isAuthenticated:a,userInfo:d,userEmail:g,userId:o,userType:f,login:v,logout:L,register:w,googleLogin:y,handleGoogleCallback:b,requestPasswordReset:x,verifyResetToken:E,resetPassword:C,sessionId:s},children:e})},Be=()=>{const e=l.useContext(Sl);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ll=l.createContext();function eh({children:e}){const[t,n]=l.useState(null),[s,r]=l.useState(!1),[a,i]=l.useState(null),o=l.useCallback(()=>{if(!navigator.geolocation){i("Geolocation is not supported by your browser.");return}navigator.geolocation.getCurrentPosition(p=>{const d={lat:p.coords.latitude,lng:p.coords.longitude};console.log("User location obtained:",d),n(d),r(!0),i(null)},p=>{i(`Error getting location: ${p.message}`),console.warn("Error getting location:",p)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[]),c=l.useCallback(()=>{r(!1)},[]);l.useEffect(()=>{console.log("LocationContext: Getting initial location"),o()},[o]);const f={userLocation:t,shouldCenterOnUser:s,error:a,centerOnUserLocation:o,clearCenterOnUser:c};return u.jsx(Ll.Provider,{value:f,children:e})}function El(){const e=l.useContext(Ll);if(!e)throw new Error("useLocation must be used within a LocationProvider");return e}const Ol=l.createContext({communityName:"",setCommunityName:()=>{},communityId:null,setCommunityId:()=>{}});function th({children:e}){const[t,n]=l.useState(""),[s,r]=l.useState(null),a={communityName:t,setCommunityName:n,communityId:s,setCommunityId:r};return u.jsx(Ol.Provider,{value:a,children:e})}function Je(){const e=l.useContext(Ol);if(!e)throw new Error("useCommunitySales must be used within a CommunitySalesProvider");return e}const Pl=l.createContext();function nh({children:e}){const[t,n]=l.useState(!1),r={showOnlySelected:t,toggleDisplayMode:()=>{n(a=>!a)}};return u.jsx(Pl.Provider,{value:r,children:e})}function cs(){const e=l.useContext(Pl);if(!e)throw new Error("useDisplay must be used within a DisplayProvider");return e}const jl=l.createContext();function sh({children:e}){const[t,n]=l.useState(()=>{const i=localStorage.getItem("selectedSaleIds");return i?new Set(JSON.parse(i)):new Set});l.useEffect(()=>{localStorage.setItem("selectedSaleIds",JSON.stringify([...t]))},[t]);const a={selectedSales:t,handleCheckboxChange:i=>{n(o=>{const c=new Set(o);return c.has(i)?c.delete(i):c.add(i),c})},handleDeselectAll:i=>{n(new Set)}};return u.jsx(jl.Provider,{value:a,children:e})}function xr(){const e=l.useContext(jl);if(!e)throw new Error("useSelection must be used within a SelectionProvider");return e}const Ml=l.createContext();function kl({children:e}){const[t,n]=l.useState([]),[s,r]=l.useState(!1),[a,i]=l.useState(null),o=l.useRef(!1),c=l.useRef(!1);l.useEffect(()=>(console.log("GarageSalesContext: Provider mounted"),()=>{console.log("GarageSalesContext: Provider unmounted")}),[]);const f=l.useRef(null),p=l.useCallback(async(d=null,h=!1)=>{var m;if(o.current){console.log("GarageSalesContext: Fetch already in progress");return}const g=d&&d!==f.current;if(c.current&&!h&&!g){console.log("GarageSalesContext: Skipping fetch - no changes detected");return}d&&(console.log("GarageSalesContext: Updating lastFetchedCommunityId from",f.current,"to",d),f.current=d);try{console.log("GarageSalesContext: Starting fetch"),o.current=!0,r(!0),i(null);const v=d?await ge.getAddressesByCommunity(d):await ge.getAddresses();if(console.warn("GarageSalesContext: Fetching with communityId:",d),console.log("GarageSalesContext: Raw API response:",v),v&&v.data===!1&&(console.log("GarageSalesContext: Response data is false, converting to empty array"),v.data=[]),console.log("GarageSalesContext: Response data structure:",JSON.stringify((m=v.data)==null?void 0:m[0],null,2)),v&&v.data){const y=v.data.map(b=>{var C,w,L,S;const x=b.address?`${b.address.streetNum} ${b.address.street}`:"Address not available",E={lat:parseFloat((C=b.address)==null?void 0:C.latitude)||parseFloat((w=b.address)==null?void 0:w.lat)||0,lng:parseFloat((L=b.address)==null?void 0:L.longitude)||parseFloat((S=b.address)==null?void 0:S.long)||0};return console.log("Processing sale position:",{originalAddress:b.address,processedPosition:E}),{id:b.id,address:x,description:b.description||"No description available",position:E,highlightedItems:b.highlightedItems||[]}});n(y),c.current=!0,console.log("GarageSalesContext: Fetch completed successfully")}}catch(v){console.error("GarageSalesContext: Error fetching garage sales:",v),i(v.message)}finally{r(!1),o.current=!1}},[]);return u.jsx(Ml.Provider,{value:{garageSales:t,loading:s,error:a,fetchGarageSales:p},children:e})}function us(){return l.useContext(Ml)}const rh=({onSelect:e})=>{const{showOnlySelected:t,toggleDisplayMode:n}=cs(),{selectedSales:s}=xr(),{garageSales:r}=us(),{communityName:a,setCommunityName:i,communityId:o,setCommunityId:c}=Je(),f=Ce();if(xe().pathname==="/admin/sales")return null;const h=()=>{if(t)localStorage.removeItem("selectedSales"),n(),f(`/?communityId=${o||""}`);else{const g=r.filter(m=>s.has(m.id)).map(m=>({...m,lat:m.position.lat,lng:m.position.lng,address:m.address,description:m.description}));g.length>0?(localStorage.setItem("selectedSales",JSON.stringify(g)),n(),f(`/?communityId=${o||""}`)):f("/sales")}e&&e()};return u.jsxs("div",{className:"menu-item",onClick:h,children:[u.jsx("span",{className:"menu-icon",children:t?"":""}),u.jsx("span",{className:"menu-text",children:t?"Show All Sales":"Show Selected Sales"})]})},oh=({communityId:e,communityName:t="",size:n=300})=>{if(!e)return null;const r=`${window.location.origin}/?communityId=${e}`,a=`https://api.qrserver.com/v1/create-qr-code/?size=${n}x${n}&data=${encodeURIComponent(r)}`;return u.jsxs("div",{style:{textAlign:"center",padding:20},children:[u.jsx("h2",{style:{marginBottom:16},children:t||"Community Garage Sale"}),u.jsx("img",{src:a,alt:`QR Code for ${t||"Community Garage Sale"}`,width:n,height:n,style:{borderRadius:8,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",background:"#fff"}}),u.jsx("div",{style:{marginTop:16,color:"#666",fontSize:15},children:"Scan this code to access the community garage sales map on your device."})]})},Ii=()=>{const[e,t]=l.useState(!1),[n,s]=l.useState(!1),r=Ce(),a=xe(),{communityName:i,setCommunityName:o,communityId:c,setCommunityId:f}=Je(),{isAuthenticated:p,userId:d,userType:h,logout:g,userEmail:m,userInfo:v}=Be(),{centerOnUserLocation:y}=El(),b=l.useRef(null),x=L=>{b.current&&!b.current.contains(L.target)&&!L.target.closest(".hamburger-button")&&s(!1)},E=()=>{s(!1)};l.useEffect(()=>(window.closeHamburgerMenu=E,()=>{delete window.closeHamburgerMenu}),[]),l.useEffect(()=>(document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}),[]);const C=()=>{r(`/?communityId=${c||""}`),s(!1)},w=()=>{g(),s(!1),a.pathname==="/"?r(`/?communityId=${c||""}`):r("/landing")};return u.jsxs("div",{className:"hamburger-container",children:[e&&u.jsx("div",{className:"qr-modal-overlay",onClick:()=>t(!1),children:u.jsxs("div",{className:"qr-modal-content",onClick:L=>L.stopPropagation(),children:[u.jsx("button",{className:"qr-modal-close",onClick:()=>t(!1),children:""}),u.jsx(oh,{communityId:c,communityName:i,size:260})]})}),u.jsx("button",{className:"hamburger-button",onClick:()=>s(!n),children:u.jsxs("div",{className:`hamburger-icon ${n?"open":""}`,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})}),u.jsxs("div",{className:`menu-items ${n?"open":""}`,ref:b,children:[p&&u.jsxs("div",{className:"menu-header",children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsxs("span",{className:"menu-user",children:[v==null?void 0:v.fName," ",v==null?void 0:v.lName]})]}),u.jsxs("div",{className:"menu-item",onClick:C,children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsx("span",{className:"menu-text",children:"Map"})]}),u.jsx(rh,{onSelect:()=>s(!1)}),u.jsxs("div",{className:"menu-item",onClick:()=>{t(!0),s(!1)},children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsx("span",{className:"menu-text",children:"Show Community QR Code"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>{r("/sales"),s(!1)},children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsx("span",{className:"menu-text",children:"Garage Sales"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>{r("/help"),s(!1)},children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsx("span",{className:"menu-text",children:"Help"})]}),u.jsxs("div",{className:"menu-item",onClick:()=>{r("/about"),s(!1)},children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsx("span",{className:"menu-text",children:"About"})]}),p?u.jsxs("div",{className:"menu-item",onClick:w,children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsxs("span",{className:"menu-text",children:["Logout (",m,")"]})]}):u.jsxs("div",{className:"menu-item",onClick:()=>{r("/login"),s(!1)},children:[u.jsx("span",{className:"menu-icon",children:""}),u.jsx("span",{className:"menu-text",children:"Login/Signup"})]})]})]})},Il=l.createContext(),Gt=()=>l.useContext(Il),ih=({children:e})=>{const[t,n]=l.useState(!1),[s,r]=l.useState(!1),a=xe();l.useEffect(()=>{a.pathname==="/landing"||a.pathname==="/about"?n(!0):a.pathname==="/"&&r(!0)},[a.pathname]);const i={fromLanding:t,setFromLanding:n,fromMap:s,setFromMap:r};return u.jsx(Il.Provider,{value:i,children:e})};function Nl(){const[e,t]=l.useState({width:void 0,height:void 0});return l.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),e}const ah=()=>{const[e,t]=l.useState(!1),n=Ce(),s=xe(),{isAuthenticated:r,logout:a,userEmail:i}=Be(),{setFromLanding:o}=Gt(),c=l.useRef(null),f=h=>{o(!0),n(h),t(!1)},p=()=>{a(),o(!0),t(!1),s.pathname==="/landing"||s.pathname==="/about"?n(s.pathname):n("/landing")},d=h=>{c.current&&!c.current.contains(h.target)&&!h.target.closest(".menubar-hamburger-button")&&t(!1)};return l.useEffect(()=>(document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}),[]),u.jsxs("div",{className:"menubar-hamburger-container",children:[u.jsx("button",{className:"menubar-hamburger-button",onClick:()=>t(!e),children:u.jsxs("div",{className:`menubar-hamburger-icon ${e?"open":""}`,children:[u.jsx("span",{}),u.jsx("span",{}),u.jsx("span",{})]})}),u.jsxs("div",{className:`menubar-menu-items ${e?"open":""}`,ref:c,children:[u.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/about"),children:[u.jsx("span",{className:"menubar-menu-icon",children:""}),u.jsx("span",{className:"menubar-menu-text",children:"About"})]}),u.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/list-active-community-sales-events"),children:[u.jsx("span",{className:"menubar-menu-icon",children:""}),u.jsx("span",{className:"menubar-menu-text",children:"List of Active Community Sales Events"})]}),u.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/admin/community-sales"),children:[u.jsx("span",{className:"menubar-menu-icon",children:""}),u.jsx("span",{className:"menubar-menu-text",children:"Manage Community Sales"})]}),u.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/info"),children:[u.jsx("span",{className:"menubar-menu-icon",children:""}),u.jsx("span",{className:"menubar-menu-text",children:"Info"})]}),r?u.jsxs("div",{className:"menubar-menu-item",onClick:p,children:[u.jsx("span",{className:"menubar-menu-icon",children:""}),u.jsx("span",{className:"menubar-menu-text",children:"Logout"})]}):u.jsxs("div",{className:"menubar-menu-item",onClick:()=>f("/login?from=landing"),children:[u.jsx("span",{className:"menubar-menu-icon",children:""}),u.jsx("span",{className:"menubar-menu-text",children:"Login"})]})]})]})},Ps=()=>{const e=Ce(),t=xe(),{isAuthenticated:n,logout:s,userEmail:r}=Be(),{setFromLanding:a}=Gt(),{width:i}=Nl(),o=i<1045,c=p=>{a(!0),e(p)},f=()=>{s(),a(!0),t.pathname==="/landing"||t.pathname==="/about"?e(t.pathname):e("/landing")};return o?u.jsx(ah,{}):u.jsxs("nav",{className:"menu-bar",children:[u.jsx("div",{className:"menu-bar-item",onClick:()=>c("/about"),children:"About"}),u.jsx("div",{className:"menu-bar-item",onClick:()=>c("/list-active-community-sales-events"),children:"List of Active Community Sales Events"}),u.jsx("div",{className:"menu-bar-item",onClick:()=>c("/admin/community-sales"),children:"Manage Community Sales"}),n?u.jsx("div",{className:"menu-bar-item",onClick:f,children:"Logout"}):u.jsx("div",{className:"menu-bar-item",onClick:()=>c("/login?from=landing"),children:"Login"}),u.jsx("div",{className:"menu-bar-item",onClick:()=>c("/info"),children:"Info"})]})},Ae=()=>{const{fromLanding:e}=Gt(),t=xe();if(t.pathname.startsWith("/admin"))return u.jsx(Ps,{});if(t.pathname.startsWith("/info"))return u.jsx(Ps,{});const n=["/","/help","/settings","/sales"];return n.includes(t.pathname)?u.jsx(Ii,{}):(t.pathname==="/landing"||t.pathname==="/about"||e)&&!n.includes(t.pathname)?u.jsx(Ps,{}):u.jsx(Ii,{})},lh=()=>{const e=Ce(),{fromMap:t,setFromMap:n}=Gt(),{currentCommunityId:s}=Je();return l.useEffect(()=>{sessionStorage.setItem("initialPage","/about"),console.log('InfoPage: Recorded initial page as "/about" in sessionStorage')},[]),u.jsxs("div",{className:"info-page",children:[u.jsxs("div",{className:"info-container",children:[u.jsx("h2",{children:"INFO"}),u.jsxs("div",{className:"content",children:[u.jsxs("div",{className:"about-section",children:[u.jsx("h3",{children:"About Community Map"}),u.jsx("p",{children:"An app that maps out garage sales in your community during a community garage sale event."})]}),u.jsxs("div",{className:"developed-by",children:[u.jsx("h3",{children:"Developed By"}),u.jsxs("div",{className:"developer",children:[u.jsx("p",{children:"Asher Green"}),u.jsx("a",{href:"mailto:asher@ashergreen.ca",children:"asher@ashergreen.ca"}),u.jsx("br",{}),u.jsx("a",{href:"https://www.ashergreen.ca",target:"_blank",rel:"noopener noreferrer",children:"www.ashergreen.ca"})]}),u.jsxs("div",{className:"developer",children:[u.jsx("p",{children:"Jamie-Lee Mclean-Davis"}),u.jsx("a",{href:"mailto:jmclean.davis@gmail.com",children:"jmclean.davis@gmail.com"})]})]}),u.jsxs("div",{className:"version-info",children:[u.jsx("h3",{children:"Version"}),u.jsx("p",{children:"1.0.0"})]})]})]}),t&&u.jsx("div",{style:{textAlign:"center",marginTop:"2rem"},children:u.jsx("div",{className:"cta-button secondary",onClick:()=>{e(`/?communityId=${s||""}`)},style:{display:"inline-block",backgroundColor:"#27ae60",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",textDecoration:"none",fontWeight:"500",cursor:"pointer"},children:"Return to Map"})})]})};function cn(e){if(!e)return"";const[t]=e.split("T"),n=new Date(t),s=n.getDate(),r=n.toLocaleString("default",{month:"long"}),a=n.getFullYear();function i(o){if(o>3&&o<21)return"th";switch(o%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}return`${r} ${s}${i(s)}, ${a}`}const ch="https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app",uh="j+cHATnnYUUjz+ff",dh=()=>{const[e,t]=l.useState([]),[n,s]=l.useState(""),[r,a]=l.useState(!0),[i,o]=l.useState(null),[c,f]=l.useState("upcoming");l.useEffect(()=>{(async()=>{a(!0),o(null);try{const g=sessionStorage.getItem("sessionId"),m=await fetch(`${ch}/v1/communitySales/all`,{method:"GET",headers:{"Content-Type":"application/json","app-name":"web-service","app-key":uh,sessionId:g||""}});if(!m.ok)throw new Error("Failed to fetch sales");const v=await m.json();console.log("Fetched community sales data:",v),t(v||[])}catch(g){o(g.message)}finally{a(!1)}})()},[]);const d=e.filter(g=>{var v,y,b;const m=n.toLowerCase();return((v=g.name)==null?void 0:v.toLowerCase().includes(m))||((y=g.location)==null?void 0:y.toLowerCase().includes(m))||((b=g.description)==null?void 0:b.toLowerCase().includes(m))||cn(g.startDate).toLowerCase().includes(m)||cn(g.endDate).toLowerCase().includes(m)}).sort((g,m)=>{const v=new Date,y=g.startDate?new Date(g.startDate):new Date(0),b=m.startDate?new Date(m.startDate):new Date(0);switch(c){case"upcoming":return y<v&&b>=v?1:y>=v&&b<v?-1:y-b;case"recent":return y<v&&b>=v?1:y>=v&&b<v?-1:b-y;case"alphabetical":const x=(g.name||"").toLowerCase(),E=(m.name||"").toLowerCase();return x.localeCompare(E);default:return y-b}});return u.jsxs("div",{style:{maxWidth:700,margin:"40px auto",padding:24,background:"#fff",borderRadius:12,boxShadow:"0 2px 12px rgba(0,0,0,0.08)"},children:[u.jsx("h1",{children:"Active Community Sales Events"}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[u.jsx("input",{type:"text",placeholder:"Search by community or location...",value:n,onChange:h=>s(h.target.value),style:{flex:1,padding:10,borderRadius:6,border:"1px solid #bbb",fontSize:16,marginRight:"10px"}}),u.jsxs("select",{value:c,onChange:h=>f(h.target.value),style:{padding:"10px",borderRadius:6,border:"1px solid #bbb",fontSize:16},children:[u.jsx("option",{value:"upcoming",children:"Upcoming Events"}),u.jsx("option",{value:"recent",children:"Latest Events"}),u.jsx("option",{value:"alphabetical",children:"Alphabetical"})]})]}),r&&u.jsx("p",{children:"Loading..."}),i&&u.jsx("p",{style:{color:"red"},children:i}),!r&&!i&&d.length===0&&u.jsx("p",{children:"No active community sales found."}),u.jsx("ul",{style:{listStyle:"none",padding:0},children:d.map(h=>u.jsx("li",{style:{marginBottom:24,padding:0,border:"none",borderRadius:8,background:"none"},children:u.jsxs("button",{className:"community-sale-btn",onClick:()=>{window.location.href=`/?communityId=${h.id}`},"aria-label":`View ${h.name} on map`,children:[u.jsx("h2",{style:{margin:0},children:h.name}),u.jsxs("div",{style:{color:"#555",fontSize:15},children:[u.jsx("strong",{children:"Location:"})," ",h.location," ",u.jsx("br",{}),u.jsx("span",{style:{display:"block",margin:"8px 0",color:"#333"},children:h.description}),u.jsx("strong",{children:"Start:"})," ",cn(h.startDate)," ",u.jsx("br",{}),u.jsx("strong",{children:"End:"})," ",cn(h.endDate)]})]})},h.id))})]})},ph=()=>u.jsx("span",{className:"location-icon",style:{display:"inline-block",verticalAlign:"middle",marginLeft:"4px",marginRight:"4px"},children:""});function fh(){return u.jsxs("div",{className:"help-container",children:[u.jsx("h1",{children:"Help"}),u.jsxs("section",{className:"help-section",children:[u.jsx("h2",{children:"Getting Started"}),u.jsx("p",{children:"Welcome to Community Map! This guide will help you navigate and use all the features of our application."})]}),u.jsxs("section",{className:"help-section",children:[u.jsx("h2",{children:"Map Navigation"}),u.jsxs("div",{className:"left-aligned-list",children:[u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Pan the map by clicking and dragging"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Zoom in/out using the scroll wheel or the pinch zoom"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Click the ",u.jsx(ph,{})," button to center on your current position"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," The blue dot shows your current location"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Red dots indicate garage sale locations"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Green dots indicate garage sales that you have selected (must be logged in)"]})]})]}),u.jsxs("section",{className:"help-section",children:[u.jsx("h2",{children:"Garage Sales"}),u.jsxs("div",{className:"left-aligned-list",children:[u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Click on any red dot to view garage sale details"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," The info window shows the address and description"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," Close the info window by clicking the X or clicking elsewhere on the map"]})]})]}),u.jsxs("section",{className:"help-section",children:[u.jsx("h2",{children:"Menu Options"}),u.jsxs("div",{className:"left-aligned-list",children:[u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," ",u.jsx("strong",{children:"Map:"})," Return to the main map view"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," ",u.jsx("strong",{children:"Show Selected Sales:"})," View all garage sales that you have selected on the map"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," ",u.jsx("strong",{children:"Garage Sales:"})," View a list of all garage sales"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," ",u.jsx("strong",{children:"About:"})," View information about the app and how to create your own community garage sale map"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," ",u.jsx("strong",{children:"Login/Signup:"})," Access your account"]}),u.jsxs("div",{className:"list-item",children:[u.jsx("span",{className:"bullet",children:""})," ",u.jsx("strong",{children:"Help:"})," View this help guide"]})]})]})]})}const Rl=l.createContext(),un="initialPage",hh=({children:e})=>{const t=xe(),[n,s]=l.useState(null),[r,a]=l.useState(!1);l.useEffect(()=>{const p=sessionStorage.getItem(un);p&&!r?(s(p),a(!0),console.log(`[InitialPageContext] Restored initial page from session: ${p}`)):r||(s(t.pathname),a(!0),sessionStorage.setItem(un,t.pathname),console.log(`[InitialPageContext] First page recorded in memory and session: ${t.pathname}`))},[t.pathname,r]);const i=()=>n==="/",o=()=>n==="/about"||n==="/landing",c=()=>{console.log("===== INITIAL PAGE CONTEXT DEBUG INFO ====="),console.log(`Current initial page in memory: ${n||"Not set"}`),console.log(`Current initial page in session: ${sessionStorage.getItem(un)||"Not set"}`),console.log(`Is initial page map? ${i()?"YES":"NO"}`),console.log(`Is initial page about/landing? ${o()?"YES":"NO"}`),console.log("=========================================")},f=()=>{s(null),a(!1),sessionStorage.removeItem(un),console.log("[InitialPageContext] Initial page cleared from memory and session")};return u.jsx(Rl.Provider,{value:{initialPath:n,wasInitialPageMap:i,wasInitialPageAbout:o,debugInitialPage:c,clearInitialPage:f},children:e})},mh=()=>{const e=l.useContext(Rl);if(!e)throw new Error("useInitialPage must be used within an InitialPageProvider");return e},gh=()=>{const e=Ce(),t=xe(),{login:n,register:s,googleLogin:r,handleGoogleCallback:a,requestPasswordReset:i,verifyResetToken:o,resetPassword:c}=Be(),{initialPath:f,wasInitialPageMap:p,wasInitialPageAbout:d,debugInitialPage:h}=mh(),[g,m]=l.useState(!0),[v,y]=l.useState(!1),[b,x]=l.useState(!1),[E,C]=l.useState(""),[w,L]=l.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",newPassword:"",confirmNewPassword:""}),[S,P]=l.useState(""),[O,k]=l.useState(""),[M,U]=l.useState(!1);l.useEffect(()=>{console.log("-------------------- useEffect in Login.jsx FIRED -----------------------");const q=new URLSearchParams(t.search),G=q.get("code"),K=q.get("reset"),X=q.get("email");if(G){const R=window.location.pathname;window.history.replaceState({},document.title,R),(async()=>{try{U(!0),P(""),console.log("GOOGLE AUTH: Processing Google authorization code"),await a(G),console.log("GOOGLE AUTH: Authentication complete, preparing navigation"),console.log("GOOGLE AUTH: Navigating to /admin/community-sales"),e("/admin/community-sales")}catch(j){P("Failed to authenticate with Google. Please try again."),console.error("Google authentication error:",j)}finally{U(!1)}})()}else K&&(async()=>{try{U(!0),await o(K),x(!0),C(K),X&&L(_=>({..._,email:X}))}catch{P("Invalid or expired password reset link. Please request a new one.")}finally{U(!1)}})()},[t,a,e,o]);const F=q=>{const{name:G,value:K}=q.target;L(X=>({...X,[G]:K})),S&&P(""),O&&k("")},A=async q=>{q.preventDefault(),P(""),U(!0);try{if(g)await n(w.email,w.password),d()?e("/admin/community-sales"):(p(),e("/"));else if(v){if(!w.email)throw new Error("Please enter your email address");const G=await i(w.email);k("Password reset link has been sent to your email. Please check your inbox and spam folder. Due to email provider limitations, the email may appear in your spam folder."),L({...w,email:""})}else if(b){if(!w.newPassword||!w.confirmNewPassword)throw new Error("Please fill in all password fields");if(w.newPassword!==w.confirmNewPassword)throw new Error("Passwords do not match");if(w.newPassword.length<8)throw new Error("Password must be at least 8 characters long");if(!w.email)throw new Error("Email address is missing. Please contact support.");await c(E,w.newPassword,w.email),k("Your password has been reset successfully. You can now log in with your new password."),setTimeout(()=>{x(!1),y(!1),m(!0),k(""),L({...w,newPassword:"",confirmNewPassword:""})},3e3)}else{if(w.password!==w.confirmPassword)throw new Error("Passwords do not match");if(!w.firstName||!w.lastName)throw new Error("First name and last name are required");await s(w.email,w.password,w.firstName,w.lastName),d()?e("/admin/community-sales"):(p(),e("/"))}}catch(G){P(v?G.message||"Failed to send password reset email. Please try again.":b?G.message||"Failed to reset password. Please try again.":G.message||`Failed to ${g?"log in":"sign up"}`)}finally{U(!1)}},B=async()=>{try{P(""),U(!0),console.log("[Login] Starting Google login, initial page is preserved in session storage"),h(),await r()}catch{P("Failed to initiate Google login. Please try again."),U(!1)}},z=()=>{y(!v),m(!g),P(""),k("")},Z=()=>{y(!1),x(!1),m(!0),P(""),k(""),L({...w,password:"",newPassword:"",confirmNewPassword:""})},W=()=>v?u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Forgot Password"}),S&&u.jsx("div",{className:"error-message",children:S}),O&&u.jsx("div",{className:"success-message",children:O}),!O&&u.jsxs("form",{onSubmit:A,children:[u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Enter your email",value:w.email,onChange:F,required:!0})}),u.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"Processing...":"Send Reset Link"})]}),u.jsx("button",{className:"back-button",onClick:Z,disabled:M,children:"Back to Login"})]}):b?u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:"Reset Password"}),S&&u.jsx("div",{className:"error-message",children:S}),O&&u.jsx("div",{className:"success-message",children:O}),u.jsxs("form",{onSubmit:A,children:[u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"password",id:"newPassword",name:"newPassword",placeholder:"New Password",value:w.newPassword,onChange:F,required:!0})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"password",id:"confirmNewPassword",name:"confirmNewPassword",placeholder:"Confirm New Password",value:w.confirmNewPassword,onChange:F,required:!0})}),u.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"Processing...":"Reset Password"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{children:g?"Login":"Sign Up"}),S&&u.jsx("div",{className:"error-message",children:S}),O&&u.jsx("div",{className:"success-message",children:O}),u.jsxs("button",{className:"google-button",onClick:B,disabled:M,children:[u.jsx("img",{src:"https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg",alt:"Google",className:"google-icon"}),"Sign in with Google"]}),u.jsx("div",{className:"or-divider",children:"OR"}),u.jsxs("form",{onSubmit:A,children:[!g&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",id:"firstName",name:"firstName",placeholder:"First Name",value:w.firstName,onChange:F,required:!g})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"text",id:"lastName",name:"lastName",placeholder:"Last Name",value:w.lastName,onChange:F,required:!g})})]}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"email",id:"email",name:"email",placeholder:"Email",value:w.email,onChange:F,required:!0})}),u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"password",id:"password",name:"password",placeholder:"Password",value:w.password,onChange:F,required:!0})}),!g&&u.jsx("div",{className:"form-group",children:u.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",value:w.confirmPassword,onChange:F,required:!g})}),u.jsx("button",{type:"submit",className:"submit-button",disabled:M,children:M?"Processing...":g?"Login":"Sign Up"})]}),u.jsx("div",{className:"form-footer",children:g?u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"toggle-form-button",onClick:()=>{m(!1),y(!1),P("")},disabled:M,children:"Need an account? Sign Up"}),u.jsx("button",{className:"forgot-password-button",onClick:z,disabled:M,children:"Forgot Password?"})]}):u.jsx("button",{className:"toggle-form-button",onClick:()=>{m(!0),P("")},disabled:M,children:"Already have an account? Login"})})]});return u.jsx("div",{className:"login-container",children:u.jsx("div",{className:"login-form",children:W()})})},vh=()=>{const e=Ce(),{handleGoogleCallback:t}=Be(),n=xe(),[s,r]=l.useState(""),[a,i]=l.useState("Processing your login..."),o=l.useRef(!1);return l.useEffect(()=>(console.error("-------------------- useEffect in LoginRedirect.jsx FIRED -----------------------"),(async()=>{if(o.current){console.log("Auth processing already in progress, skipping duplicate execution");return}o.current=!0;try{console.log("=== LoginRedirect Page Loaded ==="),console.log("Current location:",n),console.log("URL:",window.location.href),console.log("Search params:",n.search),console.log("Hash params:",n.hash);const p=new URLSearchParams(n.search).get("code"),d=sessionStorage.getItem("processedAuthCode");if(p&&d===p){console.log("This code has already been processed in this session"),i("Login successful! Redirecting..."),setTimeout(()=>e("/"),1e3);return}p?(console.log("Authorization code found:",p),sessionStorage.setItem("processedAuthCode",p),await t(p),i("Login successful! Redirecting..."),setTimeout(()=>e("/"),1e3)):(console.error("No authorization code found in URL"),r("Authentication failed: No authorization code found"),setTimeout(()=>e("/login"),3e3))}catch(f){console.error("Error in LoginRedirect:",f),r(`Authentication error: ${f.message}`),setTimeout(()=>e("/login"),3e3)}})(),()=>{o.current=!1}),[e,t]),u.jsx("div",{className:"login-container",children:u.jsxs("div",{className:"login-box",children:[u.jsx("h2",{children:"Google Sign-In"}),s?u.jsx("div",{className:"error-message",children:s}):u.jsxs("div",{children:[u.jsx("p",{children:a}),u.jsx("div",{className:"loading-spinner"})]})]})})},yh=()=>{const e=Ce(),t=xe();return l.useEffect(()=>{const n=new URLSearchParams(t.search);console.log("LanderRedirect: Redirecting from /lander to / with params:",Object.fromEntries(n.entries())),e({pathname:"/",search:t.search})},[e,t.search]),u.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",fontFamily:"Arial, sans-serif"},children:[u.jsx("h2",{children:"Redirecting to Community Map..."}),u.jsx("p",{children:"Please wait while we take you to the community sales map."})]})},bh=()=>{const[e,t]=l.useState(""),[n,s]=l.useState(""),[r,a]=l.useState(""),[i,o]=l.useState(""),[c,f]=l.useState(!1),[p,d]=l.useState({type:"",text:""}),[h,g]=l.useState(!1),m=Ce(),v=xe(),{resetPassword:y}=Be();l.useEffect(()=>{console.log("URL search:",v.search);const E=new URLSearchParams(v.search),C=E.get("token"),w=E.get("email");if(console.log("URL params extracted - token:",C?"exists":"missing","email:",w),C?(a(C),g(!0)):d({type:"error",text:"Invalid or missing reset token. Please request a new password reset link."}),w)console.log("Setting email from URL param:",w),o(w);else if(C)try{console.log("Attempting to extract email from token");const L=C.split(".");if(L.length===3){const S=JSON.parse(atob(L[1]));console.log("Token payload:",S),S.email&&(console.log("Found email in token:",S.email),o(S.email))}}catch(L){console.error("Error extracting email from token:",L)}},[v]);const b=E=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(E),x=async E=>{var C,w;if(E.preventDefault(),d({type:"",text:""}),!r){d({type:"error",text:"Missing reset token. Please request a new password reset link."});return}if(!i)try{const L=r.split(".");if(L.length===3){const S=JSON.parse(atob(L[1]));if(S.email)o(S.email);else{d({type:"error",text:"Could not retrieve email from reset token. Please contact support."});return}}}catch(L){console.error("Error parsing token:",L),d({type:"error",text:"Invalid token format. Please request a new password reset link."});return}if(!b(e)){d({type:"error",text:"Password must be at least 8 characters with at least one uppercase letter, one lowercase letter, one number, and one special character."});return}if(e!==n){d({type:"error",text:"Passwords do not match."});return}try{f(!0),console.warn("TOKEN: ",r),await y(r,e,i),d({type:"success",text:"Your password has been reset successfully. You will be redirected to the login page shortly."}),setTimeout(()=>{m("/login")},3e3)}catch(L){console.error("Password reset error:",L),d({type:"error",text:((w=(C=L.response)==null?void 0:C.data)==null?void 0:w.message)||"An error occurred during password reset. Please try again or request a new reset link."})}finally{f(!1)}};return console.log("Rendering with email:",i),u.jsx("div",{className:"password-reset-container",children:u.jsxs("div",{className:"password-reset-card",children:[u.jsx("h2",{children:"Reset Your Password"}),p.text&&u.jsx("div",{className:`message ${p.type}`,children:p.text}),h&&p.type!=="success"&&u.jsxs("form",{onSubmit:x,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Email Address"}),u.jsx("div",{className:"email-display",children:i||"No email available"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"New Password"}),u.jsx("input",{type:"password",id:"password",value:e,onChange:E=>t(E.target.value),required:!0}),u.jsx("small",{className:"password-requirements",children:"Password must be at least 8 characters with at least one uppercase letter, one lowercase letter, one number, and one special character."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsx("input",{type:"password",id:"confirmPassword",value:n,onChange:E=>s(E.target.value),required:!0})]}),u.jsx("button",{type:"submit",className:"reset-password-button",disabled:c,children:c?"Resetting...":"Reset Password"})]}),u.jsx("div",{className:"links",children:u.jsx("a",{href:"/login",className:"login-link",children:"Return to Login"})})]})})},Tl=l.createContext();function wh({children:e}){const[t,n]=l.useState(""),r={searchTerm:t,handleSearchChange:a=>{n(a.target.value.toLowerCase())}};return u.jsx(Tl.Provider,{value:r,children:e})}function Dl(){const e=l.useContext(Tl);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e}const xh=({isOpen:e,onClose:t})=>{const n=Ce();if(!e)return null;const s=()=>{t(),n("/login")};return u.jsx("div",{className:"modal-overlay",children:u.jsxs("div",{className:"modal-content",children:[u.jsx("h2",{children:"Authentication Required"}),u.jsx("p",{children:"You must be logged in to select garage sales."}),u.jsxs("div",{className:"modal-buttons",children:[u.jsx("button",{className:"modal-button cancel",onClick:t,children:"Return"}),u.jsx("button",{className:"modal-button login",onClick:s,children:"Go to Login"})]})]})})},Ch=()=>{const{garageSales:e,loading:t,error:n,fetchGarageSales:s}=us(),{searchTerm:r,handleSearchChange:a}=Dl(),{selectedSales:i,handleCheckboxChange:o,handleDeselectAll:c}=xr(),{showOnlySelected:f,toggleDisplayMode:p}=cs(),d=Ce(),h=xe(),{isAuthenticated:g,userEmail:m,userInfo:v}=Be(),{communityName:y,setCommunityName:b,communityId:x,setCommunityId:E}=Je(),[C,w]=l.useState(!1);l.useEffect(()=>{const M=new URLSearchParams(h.search).get("communityId");M&&(E(M),E(M),y?(console.log("GarageSales: Using community name from context:",y),b(y)):(console.log("GarageSales: Community name not in context, fetching from API"),(async()=>{try{const F=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/${M}`,A=await fetch(F,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(A.ok){const z=(await A.json()).name||"Community Sale";b(z),b(z)}}catch(F){console.error("Error fetching community name:",F)}})()))},[h,y,E,b]),l.useEffect(()=>{s(x)},[s,x]),l.useEffect(()=>{(async()=>{if(g&&(v!=null&&v.userId))try{console.log("Fetching user address list for user:",v.userId);const M=await ge.getUserAddressList(v.userId);if(M&&M.addressList&&M.addressList.length>0){console.log("User has saved address list on server:",M.addressList);const U=new Set(M.addressList);c(),U.forEach(F=>{o(F)}),console.log("Updated selections from server list")}else console.log("User does not have a saved address list on server, using local selections")}catch(M){console.error("Error fetching user address list:",M)}})()},[]);const L=k=>{if(!g){w(!0);return}o(k)},S=async()=>{if(c(),g&&(v!=null&&v.userId))try{console.log("Updating server with empty selection list for user:",v.userId);const k=await ge.createUpdateUserAddressList(v.userId,[]);console.log("Successfully updated server with empty selection list:",k)}catch(k){console.error("Error updating server with empty selection list:",k)}},P=async()=>{const k=O.filter(M=>i.has(M.id));if(k.length>0){if(g&&(v!=null&&v.userId))try{console.log("Saving selected sales to server for user:",v.userId);const M=k.map(F=>F.id);console.log(`Filtered ${i.size} total selected sales to ${M.length} sales for current community ID: ${x}`);const U=await ge.createUpdateUserAddressList(v.userId,M,x);console.log("Successfully saved selected sales to server:",U)}catch(M){console.error("Error saving selected sales to server:",M)}else console.log("User not authenticated, skipping server save of selected sales");f||p(),localStorage.setItem("selectedSales",JSON.stringify(k)),d(`/?communityId=${x||""}`)}else alert("Please select at least one garage sale to view on the map.")},O=e.filter(k=>(k.address||"").toLowerCase().includes(r.toLowerCase())||(k.description||"").toLowerCase().includes(r.toLowerCase()));return t?u.jsx("div",{className:"garage-sales-container",children:u.jsx("div",{className:"loading",children:"Loading garage sales..."})}):n?u.jsxs("div",{className:"garage-sales-container",children:[u.jsx("div",{className:"error",children:n}),u.jsx("button",{className:"retry-button",onClick:s,children:"Retry"})]}):u.jsxs("div",{className:"garage-sales-container",children:[u.jsx("h1",{children:y?`${y}`:"Garage Sales"}),g&&u.jsxs("div",{className:"user-info",children:[u.jsxs("div",{className:"user-name",children:[v==null?void 0:v.fName," ",v==null?void 0:v.lName]}),u.jsx("div",{className:"user-email",children:m})]}),u.jsxs("div",{className:"controls-container",children:[u.jsx("div",{className:"search-container",children:u.jsx("input",{type:"text",placeholder:"Search by address or description...",value:r,onChange:a,className:"search-input"})}),u.jsx("div",{className:"selection-controls",children:i.size>0&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"select-all-button",onClick:S,children:"Deselect All"}),u.jsxs("button",{className:"view-selected-button",onClick:P,children:["View and Save Selected (",i.size,")"]})]})})]}),O.length===0?u.jsx("div",{className:"no-results",children:"No garage sales found matching your search."}):u.jsx("div",{className:"garage-sales-list",children:O.map(k=>u.jsxs("div",{className:"garage-sale-card",children:[u.jsx("div",{className:"card-header",children:u.jsxs("label",{className:"checkbox-container",children:[u.jsx("input",{type:"checkbox",checked:i.has(k.id),onChange:()=>L(k.id)}),u.jsx("span",{className:"checkmark"})]})}),u.jsxs("div",{className:"sale-content",children:[u.jsx("h3",{children:k.address||"No Address Available"}),u.jsx("p",{children:k.description||"No Description Available"})]})]},k.id))}),u.jsxs("div",{className:"total-count",children:["Showing ",O.length," of ",e.length," garage sales",i.size>0&&` (${i.size} selected)`]}),u.jsx(xh,{isOpen:C,onClose:()=>w(!1)})]})},Sh=({value:e,onChange:t,minRows:n=3,...s})=>{const r=l.useRef(null),a=()=>{const o=r.current;if(o){o.style.height="auto";const c=n*parseFloat(getComputedStyle(o).lineHeight),f=Math.max(c,o.scrollHeight);o.style.height=`${f}px`}};l.useEffect(()=>{a()},[e]);const i=o=>{const{name:c,value:f}=o.target;t({target:{name:c,value:f}}),a()};return u.jsx("textarea",{ref:r,value:e||"",onChange:i,style:{overflow:"hidden",resize:"none",minHeight:`${n*1.5}em`},...s})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var at=function(){return at=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},at.apply(this,arguments)};function Lh(e,t,n,s){return new(n||(n=Promise))(function(r,a){function i(f){try{c(s.next(f))}catch(p){a(p)}}function o(f){try{c(s.throw(f))}catch(p){a(p)}}function c(f){var p;f.done?r(f.value):(p=f.value,p instanceof n?p:new n(function(d){d(p)})).then(i,o)}c((s=s.apply(e,[])).next())})}function Eh(e,t){var n,s,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(f){return function(p){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(r=2&p[0]?s.return:p[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,p[1])).done)return r;switch(s=0,r&&(p=[2&p[0],r.value]),p[0]){case 0:case 1:r=p;break;case 4:return i.label++,{value:p[1],done:!1};case 5:i.label++,s=p[1],p=[0];continue;case 7:p=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!((r=r.length>0&&r[r.length-1])||p[0]!==6&&p[0]!==2)){i=0;continue}if(p[0]===3&&(!r||p[1]>r[0]&&p[1]<r[3])){i.label=p[1];break}if(p[0]===6&&i.label<r[1]){i.label=r[1],r=p;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(p);break}r[2]&&i.ops.pop(),i.trys.pop();continue}p=t.call(e,i)}catch(d){p=[6,d],s=0}finally{n=r=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([c,f])}}}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ee.apply(this,arguments)}function lt(e){return lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(e)}function Al(e){var t=function(n,s){if(lt(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,s);if(lt(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}(e,"string");return lt(t)==="symbol"?t:String(t)}function ht(e,t,n){return(t=Al(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(n),!0).forEach(function(s){ht(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ri(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Al(s.key),s)}}function Xs(e,t){return Xs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xs(e,t)}function Zn(e){return Zn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zn(e)}function Oh(e,t){if(t&&(lt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ph(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,s=Zn(e);if(t){var r=Zn(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return Oh(this,n)}}function Qs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function Ul(e,t){if(e){if(typeof e=="string")return Qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qs(e,t):void 0}}function Cr(e){return function(t){if(Array.isArray(t))return Qs(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ul(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var jh=function(){function e(n){var s=this;this._insertTag=function(r){var a;a=s.tags.length===0?s.insertionPoint?s.insertionPoint.nextSibling:s.prepend?s.container.firstChild:s.before:s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(r,a),s.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(a){var i=document.createElement("style");return i.setAttribute("data-emotion",a.key),a.nonce!==void 0&&i.setAttribute("nonce",a.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(a){if(a.sheet)return a.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===a)return document.styleSheets[i]}(s);try{r.insertRule(n,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ue="-ms-",Ti="-moz-",ce="-webkit-",Sr="decl",_l="@keyframes",Mh=Math.abs,ds=String.fromCharCode,kh=Object.assign;function Fl(e){return e.trim()}function de(e,t,n){return e.replace(t,n)}function er(e,t){return e.indexOf(t)}function Ee(e,t){return 0|e.charCodeAt(t)}function Ft(e,t,n){return e.slice(t,n)}function ze(e){return e.length}function Lr(e){return e.length}function dn(e,t){return t.push(e),e}var ps=1,yt=1,Bl=0,Ne=0,ve=0,Lt="";function fs(e,t,n,s,r,a,i){return{value:e,root:t,parent:n,type:s,props:r,children:a,line:ps,column:yt,length:i,return:""}}function It(e,t){return kh(fs("",null,null,"",null,null,0),e,{length:-e.length},t)}function De(){return ve=Ne<Bl?Ee(Lt,Ne++):0,yt++,ve===10&&(yt=1,ps++),ve}function We(){return Ee(Lt,Ne)}function Cn(){return Ne}function Wt(e,t){return Ft(Lt,e,t)}function Bt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vl(e){return ps=yt=1,Bl=ze(Lt=e),Ne=0,[]}function $l(e){return Lt="",e}function Sn(e){return Fl(Wt(Ne-1,tr(e===91?e+2:e===40?e+1:e)))}function Ih(e){for(;(ve=We())&&ve<33;)De();return Bt(e)>2||Bt(ve)>3?"":" "}function Nh(e,t){for(;--t&&De()&&!(ve<48||ve>102||ve>57&&ve<65||ve>70&&ve<97););return Wt(e,Cn()+(t<6&&We()==32&&De()==32))}function tr(e){for(;De();)switch(ve){case e:return Ne;case 34:case 39:e!==34&&e!==39&&tr(ve);break;case 40:e===41&&tr(e);break;case 92:De()}return Ne}function Rh(e,t){for(;De()&&e+ve!==57&&(e+ve!==84||We()!==47););return"/*"+Wt(t,Ne-1)+"*"+ds(e===47?e:De())}function Th(e){for(;!Bt(We());)De();return Wt(e,Ne)}function Di(e){return $l(Ln("",null,null,null,[""],e=Vl(e),0,[0],e))}function Ln(e,t,n,s,r,a,i,o,c){for(var f=0,p=0,d=i,h=0,g=0,m=0,v=1,y=1,b=1,x=0,E="",C=r,w=a,L=s,S=E;y;)switch(m=x,x=De()){case 40:if(m!=108&&Ee(S,d-1)==58){er(S+=de(Sn(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=Sn(x);break;case 9:case 10:case 13:case 32:S+=Ih(m);break;case 92:S+=Nh(Cn()-1,7);continue;case 47:switch(We()){case 42:case 47:dn(Dh(Rh(De(),Cn()),t,n),c);break;default:S+="/"}break;case 123*v:o[f++]=ze(S)*b;case 125*v:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+p:g>0&&ze(S)-d&&dn(g>32?Ui(S+";",s,n,d-1):Ui(de(S," ","")+";",s,n,d-2),c);break;case 59:S+=";";default:if(dn(L=Ai(S,t,n,f,p,r,o,E,C=[],w=[],d),a),x===123)if(p===0)Ln(S,t,L,L,C,a,d,o,w);else switch(h===99&&Ee(S,3)===110?100:h){case 100:case 109:case 115:Ln(e,L,L,s&&dn(Ai(e,L,L,0,0,r,o,E,r,C=[],d),w),r,w,d,o,s?C:w);break;default:Ln(S,L,L,L,[""],w,0,o,w)}}f=p=g=0,v=b=1,E=S="",d=i;break;case 58:d=1+ze(S),g=m;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&(ve=Ne>0?Ee(Lt,--Ne):0,yt--,ve===10&&(yt=1,ps--),ve==125))continue}switch(S+=ds(x),x*v){case 38:b=p>0?1:(S+="\f",-1);break;case 44:o[f++]=(ze(S)-1)*b,b=1;break;case 64:We()===45&&(S+=Sn(De())),h=We(),p=d=ze(E=S+=Th(Cn())),x++;break;case 45:m===45&&ze(S)==2&&(v=0)}}return a}function Ai(e,t,n,s,r,a,i,o,c,f,p){for(var d=r-1,h=r===0?a:[""],g=Lr(h),m=0,v=0,y=0;m<s;++m)for(var b=0,x=Ft(e,d+1,d=Mh(v=i[m])),E=e;b<g;++b)(E=Fl(v>0?h[b]+" "+x:de(x,/&\f/g,h[b])))&&(c[y++]=E);return fs(e,t,n,r===0?"rule":o,c,f,p)}function Dh(e,t,n){return fs(e,t,n,"comm",ds(ve),Ft(e,2,-2),0)}function Ui(e,t,n,s){return fs(e,t,n,Sr,Ft(e,0,s),Ft(e,s+1,-1),s)}function ct(e,t){for(var n="",s=Lr(e),r=0;r<s;r++)n+=t(e[r],r,e,t)||"";return n}function _i(e,t,n,s){switch(e.type){case"@import":case Sr:return e.return=e.return||e.value;case"comm":return"";case _l:return e.return=e.value+"{"+ct(e.children,s)+"}";case"rule":e.value=e.props.join(",")}return ze(n=ct(e.children,s))?e.return=e.value+"{"+n+"}":""}function Fi(e){var t=Lr(e);return function(n,s,r,a){for(var i="",o=0;o<t;o++)i+=e[o](n,s,r,a)||"";return i}}function Ah(e){return function(t){t.root||(t=t.return)&&e(t)}}function zl(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Uh=function(e,t,n){for(var s=0,r=0;s=r,r=We(),s===38&&r===12&&(t[n]=1),!Bt(r);)De();return Wt(e,Ne)},_h=function(e,t){return $l(function(n,s){var r=-1,a=44;do switch(Bt(a)){case 0:a===38&&We()===12&&(s[r]=1),n[r]+=Uh(Ne-1,s,r);break;case 2:n[r]+=Sn(a);break;case 4:if(a===44){n[++r]=We()===58?"&\f":"",s[r]=n[r].length;break}default:n[r]+=ds(a)}while(a=De());return n}(Vl(e),t))},Bi=new WeakMap,Fh=function(e){if(e.type==="rule"&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(!(n=n.parent))return;if((e.props.length!==1||t.charCodeAt(0)===58||Bi.get(n))&&!s){Bi.set(e,!0);for(var r=[],a=_h(t,r),i=n.props,o=0,c=0;o<a.length;o++)for(var f=0;f<i.length;f++,c++)e.props[c]=r[o]?a[o].replace(/&\f/g,i[f]):i[f]+" "+a[o]}}},Bh=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Hl(e,t){switch(function(n,s){return 45^Ee(n,0)?(((s<<2^Ee(n,0))<<2^Ee(n,1))<<2^Ee(n,2))<<2^Ee(n,3):0}(e,t)){case 5103:return ce+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ce+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ce+e+Ti+e+Ue+e+e;case 6828:case 4268:return ce+e+Ue+e+e;case 6165:return ce+e+Ue+"flex-"+e+e;case 5187:return ce+e+de(e,/(\w+).+(:[^]+)/,ce+"box-$1$2-ms-flex-$1$2")+e;case 5443:return ce+e+Ue+"flex-item-"+de(e,/flex-|-self/,"")+e;case 4675:return ce+e+Ue+"flex-line-pack"+de(e,/align-content|flex-|-self/,"")+e;case 5548:return ce+e+Ue+de(e,"shrink","negative")+e;case 5292:return ce+e+Ue+de(e,"basis","preferred-size")+e;case 6060:return ce+"box-"+de(e,"-grow","")+ce+e+Ue+de(e,"grow","positive")+e;case 4554:return ce+de(e,/([^-])(transform)/g,"$1"+ce+"$2")+e;case 6187:return de(de(de(e,/(zoom-|grab)/,ce+"$1"),/(image-set)/,ce+"$1"),e,"")+e;case 5495:case 3959:return de(e,/(image-set\([^]*)/,ce+"$1$`$1");case 4968:return de(de(e,/(.+:)(flex-)?(.*)/,ce+"box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ce+e+e;case 4095:case 3583:case 4068:case 2532:return de(e,/(.+)-inline(.+)/,ce+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ze(e)-1-t>6)switch(Ee(e,t+1)){case 109:if(Ee(e,t+4)!==45)break;case 102:return de(e,/(.+:)(.+)-([^]+)/,"$1"+ce+"$2-$3$1"+Ti+(Ee(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~er(e,"stretch")?Hl(de(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Ee(e,t+1)!==115)break;case 6444:switch(Ee(e,ze(e)-3-(~er(e,"!important")&&10))){case 107:return de(e,":",":"+ce)+e;case 101:return de(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ce+(Ee(e,14)===45?"inline-":"")+"box$3$1"+ce+"$2$3$1-ms-$2box$3")+e}break;case 5936:switch(Ee(e,t+11)){case 114:return ce+e+Ue+de(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ce+e+Ue+de(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ce+e+Ue+de(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ce+e+Ue+e+e}return e}var Vi,pn,En=typeof document<"u",Vh=En?void 0:(Vi=function(){return zl(function(){var e={};return function(t){return e[t]}})},pn=new WeakMap,function(e){if(pn.has(e))return pn.get(e);var t=Vi(e);return pn.set(e,t),t}),$h=[function(e,t,n,s){if(e.length>-1&&!e.return)switch(e.type){case Sr:e.return=Hl(e.value,e.length);break;case _l:return ct([It(e,{value:de(e.value,"@","@"+ce)})],s);case"rule":if(e.length)return function(r,a){return r.map(a).join("")}(e.props,function(r){switch(function(a,i){return(a=i.exec(a))?a[0]:a}(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ct([It(e,{props:[de(r,/:(read-\w+)/,":-moz-$1")]})],s);case"::placeholder":return ct([It(e,{props:[de(r,/:(plac\w+)/,":"+ce+"input-$1")]}),It(e,{props:[de(r,/:(plac\w+)/,":-moz-$1")]}),It(e,{props:[de(r,/:(plac\w+)/,"-ms-input-$1")]})],s)}return""})}}],Gl=function(e){var t=e.key;if(En&&t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(b){b.getAttribute("data-emotion").indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var s=e.stylisPlugins||$h,r,a,i={},o=[];En&&(r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(b){for(var x=b.getAttribute("data-emotion").split(" "),E=1;E<x.length;E++)i[x[E]]=!0;o.push(b)}));var c=[Fh,Bh];if(En){var f,p=[_i,Ah(function(b){f.insert(b)})],d=Fi(c.concat(s,p));a=function(b,x,E,C){f=E,ct(Di(b?b+"{"+x.styles+"}":x.styles),d),C&&(y.inserted[x.name]=!0)}}else{var h=[_i],g=Fi(c.concat(s,h)),m=Vh(s)(t),v=function(b,x){var E=x.name;return m[E]===void 0&&(m[E]=ct(Di(b?b+"{"+x.styles+"}":x.styles),g)),m[E]};a=function(b,x,E,C){var w=x.name,L=v(b,x);return y.compat===void 0?(C&&(y.inserted[w]=!0),L):C?void(y.inserted[w]=L):L}}var y={key:t,sheet:new jh({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return y.sheet.hydrate(o),y};function pe(e,t,n){return e(n={path:t,exports:{},require:function(s,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(r==null&&n.path)}},n.exports),n.exports}var Se=typeof Symbol=="function"&&Symbol.for,nr=Se?Symbol.for("react.element"):60103,sr=Se?Symbol.for("react.portal"):60106,On=Se?Symbol.for("react.fragment"):60107,Pn=Se?Symbol.for("react.strict_mode"):60108,jn=Se?Symbol.for("react.profiler"):60114,Mn=Se?Symbol.for("react.provider"):60109,kn=Se?Symbol.for("react.context"):60110,rr=Se?Symbol.for("react.async_mode"):60111,Kn=Se?Symbol.for("react.concurrent_mode"):60111,In=Se?Symbol.for("react.forward_ref"):60112,Nn=Se?Symbol.for("react.suspense"):60113,zh=Se?Symbol.for("react.suspense_list"):60120,Rn=Se?Symbol.for("react.memo"):60115,Tn=Se?Symbol.for("react.lazy"):60116,Hh=Se?Symbol.for("react.block"):60121,Gh=Se?Symbol.for("react.fundamental"):60117,Wh=Se?Symbol.for("react.responder"):60118,qh=Se?Symbol.for("react.scope"):60119;function Re(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nr:switch(e=e.type){case rr:case Kn:case On:case jn:case Pn:case Nn:return e;default:switch(e=e&&e.$$typeof){case kn:case In:case Tn:case Rn:case Mn:return e;default:return t}}case sr:return t}}}function $i(e){return Re(e)===Kn}var Zh={AsyncMode:rr,ConcurrentMode:Kn,ContextConsumer:kn,ContextProvider:Mn,Element:nr,ForwardRef:In,Fragment:On,Lazy:Tn,Memo:Rn,Portal:sr,Profiler:jn,StrictMode:Pn,Suspense:Nn,isAsyncMode:function(e){return $i(e)||Re(e)===rr},isConcurrentMode:$i,isContextConsumer:function(e){return Re(e)===kn},isContextProvider:function(e){return Re(e)===Mn},isElement:function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nr},isForwardRef:function(e){return Re(e)===In},isFragment:function(e){return Re(e)===On},isLazy:function(e){return Re(e)===Tn},isMemo:function(e){return Re(e)===Rn},isPortal:function(e){return Re(e)===sr},isProfiler:function(e){return Re(e)===jn},isStrictMode:function(e){return Re(e)===Pn},isSuspense:function(e){return Re(e)===Nn},isValidElementType:function(e){return typeof e=="string"||typeof e=="function"||e===On||e===Kn||e===jn||e===Pn||e===Nn||e===zh||typeof e=="object"&&e!==null&&(e.$$typeof===Tn||e.$$typeof===Rn||e.$$typeof===Mn||e.$$typeof===kn||e.$$typeof===In||e.$$typeof===Gh||e.$$typeof===Wh||e.$$typeof===qh||e.$$typeof===Hh)},typeOf:Re};pe(function(e,t){});var zi=pe(function(e){e.exports=Zh}),Hi={};Hi[zi.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hi[zi.Memo]={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0};var or=typeof document<"u";function Wl(e,t,n){var s="";return n.split(" ").forEach(function(r){e[r]!==void 0?t.push(e[r]+";"):s+=r+" "}),s}var Er=function(e,t,n){var s=e.key+"-"+t.name;(n===!1||or===!1&&e.compat!==void 0)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},Or=function(e,t,n){Er(e,t,n);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r="",a=t;do{var i=e.insert(t===a?"."+s:"",a,e.sheet,!0);or||i===void 0||(r+=i),a=a.next}while(a!==void 0);if(!or&&r.length!==0)return r}},Kh={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Jh=/[A-Z]|^ms/g,Yh=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ql=function(e){return e.charCodeAt(1)===45},Gi=function(e){return e!=null&&typeof e!="boolean"},js=zl(function(e){return ql(e)?e:e.replace(Jh,"-$&").toLowerCase()}),Wi=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Yh,function(n,s,r){return He={name:s,styles:r,next:He},s})}return Kh[e]===1||ql(e)||typeof t!="number"||t===0?t:t+"px"};function Tt(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":if(n.anim===1)return He={name:n.name,styles:n.styles,next:He},n.name;if(n.styles!==void 0){var s=n.next;if(s!==void 0)for(;s!==void 0;)He={name:s.name,styles:s.styles,next:He},s=s.next;var r=n.styles+";";return r}return function(c,f,p){var d="";if(Array.isArray(p))for(var h=0;h<p.length;h++)d+=Tt(c,f,p[h])+";";else for(var g in p){var m=p[g];if(typeof m!="object")f!=null&&f[m]!==void 0?d+=g+"{"+f[m]+"}":Gi(m)&&(d+=js(g)+":"+Wi(g,m)+";");else if(!Array.isArray(m)||typeof m[0]!="string"||f!=null&&f[m[0]]!==void 0){var v=Tt(c,f,m);switch(g){case"animation":case"animationName":d+=js(g)+":"+v+";";break;default:d+=g+"{"+v+"}"}}else for(var y=0;y<m.length;y++)Gi(m[y])&&(d+=js(g)+":"+Wi(g,m[y])+";")}return d}(e,t,n);case"function":if(e!==void 0){var a=He,i=n(e);return He=a,Tt(e,t,i)}break}if(t==null)return n;var o=t[n];return o!==void 0?o:n}var He,qi=/label:\s*([^\s;\n{]+)\s*(;|$)/g,hs=function(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,r="";He=void 0;var a=e[0];a==null||a.raw===void 0?(s=!1,r+=Tt(n,t,a)):r+=a[0];for(var i=1;i<e.length;i++)r+=Tt(n,t,e[i]),s&&(r+=a[i]);qi.lastIndex=0;for(var o,c="";(o=qi.exec(r))!==null;)c+="-"+o[1];var f=function(p){for(var d,h=0,g=0,m=p.length;m>=4;++g,m-=4)d=1540483477*(65535&(d=255&p.charCodeAt(g)|(255&p.charCodeAt(++g))<<8|(255&p.charCodeAt(++g))<<16|(255&p.charCodeAt(++g))<<24))+(59797*(d>>>16)<<16),h=1540483477*(65535&(d^=d>>>24))+(59797*(d>>>16)<<16)^1540483477*(65535&h)+(59797*(h>>>16)<<16);switch(m){case 3:h^=(255&p.charCodeAt(g+2))<<16;case 2:h^=(255&p.charCodeAt(g+1))<<8;case 1:h=1540483477*(65535&(h^=255&p.charCodeAt(g)))+(59797*(h>>>16)<<16)}return(((h=1540483477*(65535&(h^=h>>>13))+(59797*(h>>>16)<<16))^h>>>15)>>>0).toString(36)}(r)+c;return{name:f,styles:r,next:He}},Xh=typeof document<"u",Qh=function(e){return e()},Zl=!!l.useInsertionEffect&&l.useInsertionEffect,Kl=Xh&&Zl||Qh,Zi=Zl||l.useLayoutEffect,vt=typeof document<"u",Pr={}.hasOwnProperty,Jn=l.createContext(typeof HTMLElement<"u"?Gl({key:"css"}):null);Jn.Provider;var ms=function(e){return l.forwardRef(function(t,n){var s=l.useContext(Jn);return e(t,s,n)})};vt||(ms=function(e){return function(t){var n=l.useContext(Jn);return n===null?(n=Gl({key:"css"}),l.createElement(Jn.Provider,{value:n},e(t,n))):e(t,n)}});var jr=l.createContext({}),ir="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",em=function(e,t){var n={};for(var s in t)Pr.call(t,s)&&(n[s]=t[s]);return n[ir]=e,n},tm=function(e){var t=e.cache,n=e.serialized,s=e.isStringTag;Er(t,n,s);var r=Kl(function(){return Or(t,n,s)});if(!vt&&r!==void 0){for(var a,i=n.name,o=n.next;o!==void 0;)i+=" "+o.name,o=o.next;return l.createElement("style",((a={})["data-emotion"]=t.key+" "+i,a.dangerouslySetInnerHTML={__html:r},a.nonce=t.sheet.nonce,a))}return null},nm=ms(function(e,t,n){var s=e.css;typeof s=="string"&&t.registered[s]!==void 0&&(s=t.registered[s]);var r=e[ir],a=[s],i="";typeof e.className=="string"?i=Wl(t.registered,a,e.className):e.className!=null&&(i=e.className+" ");var o=hs(a,void 0,l.useContext(jr));i+=t.key+"-"+o.name;var c={};for(var f in e)!Pr.call(e,f)||f==="css"||f===ir||(c[f]=e[f]);return c.ref=n,c.className=i,l.createElement(l.Fragment,null,l.createElement(tm,{cache:t,serialized:o,isStringTag:typeof r=="string"}),l.createElement(r,c))});pe(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});var Q=function(e,t){var n=arguments;if(t==null||!Pr.call(t,"css"))return l.createElement.apply(void 0,n);var s=n.length,r=new Array(s);r[0]=nm,r[1]=em(e,t);for(var a=2;a<s;a++)r[a]=n[a];return l.createElement.apply(null,r)};ms(function(e,t){var n=e.styles,s=hs([n],void 0,l.useContext(jr));if(!vt){for(var r,a=s.name,i=s.styles,o=s.next;o!==void 0;)a+=" "+o.name,i+=o.styles,o=o.next;var c=t.compat===!0,f=t.insert("",{name:a,styles:i},t.sheet,c);return c?null:l.createElement("style",((r={})["data-emotion"]=t.key+"-global "+a,r.dangerouslySetInnerHTML={__html:f},r.nonce=t.sheet.nonce,r))}var p=l.useRef();return Zi(function(){var d=t.key+"-global",h=new t.sheet.constructor({key:d,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),g=!1,m=document.querySelector('style[data-emotion="'+d+" "+s.name+'"]');return t.sheet.tags.length&&(h.before=t.sheet.tags[0]),m!==null&&(g=!0,m.setAttribute("data-emotion",d),h.hydrate([m])),p.current=[h,g],function(){h.flush()}},[t]),Zi(function(){var d=p.current,h=d[0];if(d[1])d[1]=!1;else{if(s.next!==void 0&&Or(t,s.next,!0),h.tags.length){var g=h.tags[h.tags.length-1].nextElementSibling;h.before=g,h.flush()}t.insert("",s,h,!1)}},[t,s.name]),null});function Mr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return hs(t)}var sm=function e(t){for(var n=t.length,s=0,r="";s<n;s++){var a=t[s];if(a!=null){var i=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var o in i="",a)a[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=a}i&&(r&&(r+=" "),r+=i)}}return r};function rm(e,t,n){var s=[],r=Wl(e,s,n);return s.length<2?n:r+t(s)}var om=function(e){var t,n=e.cache,s=e.serializedArr,r=Kl(function(){for(var a="",i=0;i<s.length;i++){var o=Or(n,s[i],!1);vt||o===void 0||(a+=o)}if(!vt)return a});return vt||r.length===0?null:l.createElement("style",((t={})["data-emotion"]=n.key+" "+s.map(function(a){return a.name}).join(" "),t.dangerouslySetInnerHTML={__html:r},t.nonce=n.sheet.nonce,t))};ms(function(e,t){var n=[],s=function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];var f=hs(o,t.registered);return n.push(f),Er(t,f,!1),t.key+"-"+f.name},r={css:s,cx:function(){for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return rm(t.registered,s,sm(o))},theme:l.useContext(jr)},a=e.children(r);return l.createElement(l.Fragment,null,l.createElement(om,{cache:t,serializedArr:n}),a)});function we(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,s){var r=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var a,i,o,c,f=[],p=!0,d=!1;try{if(o=(r=r.call(n)).next,s===0){if(Object(r)!==r)return;p=!1}else for(;!(p=(a=o.call(r)).done)&&(f.push(a.value),f.length!==s);p=!0);}catch(h){d=!0,i=h}finally{try{if(!p&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(d)throw i}}return f}}(e,t)||Ul(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ge(e,t){if(e==null)return{};var n,s,r=function(i,o){if(i==null)return{};var c,f,p={},d=Object.keys(i);for(f=0;f<d.length;f++)c=d[f],o.indexOf(c)>=0||(p[c]=i[c]);return p}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ke(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jl(e){return Ke(e).getComputedStyle(e)}const fn=Math.round;function Yl(e){return Ql(e)?(e.nodeName||"").toLowerCase():""}let hn;function Xl(e){return e instanceof Ke(e).HTMLElement}function Dn(e){return e instanceof Ke(e).Element}function Ql(e){return e instanceof Ke(e).Node}function Ki(e){return typeof ShadowRoot>"u"?!1:e instanceof Ke(e).ShadowRoot||e instanceof ShadowRoot}function ec(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=Jl(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(r)}function im(){return/^((?!chrome|android).)*safari/i.test(function(){if(hn)return hn;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(hn=e.brands.map(t=>t.brand+"/"+t.version).join(" "),hn):navigator.userAgent}())}function tc(e){return Dn(e)?e:e.contextElement}const nc={x:1,y:1};function Ji(e){const t=tc(e);if(!Xl(t))return nc;const n=t.getBoundingClientRect(),{width:s,height:r,fallback:a}=function(c){const f=Jl(c);let p=parseFloat(f.width),d=parseFloat(f.height);const h=c.offsetWidth,g=c.offsetHeight,m=fn(p)!==h||fn(d)!==g;return m&&(p=h,d=g),{width:p,height:d,fallback:m}}(t);let i=(a?fn(n.width):n.width)/s,o=(a?fn(n.height):n.height)/r;return i&&Number.isFinite(i)||(i=1),o&&Number.isFinite(o)||(o=1),{x:i,y:o}}function Yi(e,t,n,s){var r,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=tc(e);let c=nc;t&&(c=Ji(e));const f=o?Ke(o):window,p=im()&&n;let d=(i.left+(p&&((r=f.visualViewport)==null?void 0:r.offsetLeft)||0))/c.x,h=(i.top+(p&&((a=f.visualViewport)==null?void 0:a.offsetTop)||0))/c.y,g=i.width/c.x,m=i.height/c.y;if(o){const v=Ke(o),y=s;let b=v.frameElement;for(;b&&s&&y!==v;){const x=Ji(b),E=b.getBoundingClientRect(),C=getComputedStyle(b);E.x+=(b.clientLeft+parseFloat(C.paddingLeft))*x.x,E.y+=(b.clientTop+parseFloat(C.paddingTop))*x.y,d*=x.x,h*=x.y,g*=x.x,m*=x.y,d+=E.x,h+=E.y,b=Ke(b).frameElement}}return{width:g,height:m,top:h,right:d+g,bottom:h+m,left:d,x:d,y:h}}function am(e){if(Yl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ki(e)&&e.host||function(n){return((Ql(n)?n.ownerDocument:n.document)||window.document).documentElement}(e);return Ki(t)?t.host:t}function sc(e){const t=am(e);return function(n){return["html","body","#document"].includes(Yl(n))}(t)?t.ownerDocument.body:Xl(t)&&ec(t)?t:sc(t)}function An(e,t){var n;t===void 0&&(t=[]);const s=sc(e),r=s===((n=e.ownerDocument)==null?void 0:n.body),a=Ke(s);return r?t.concat(a,a.visualViewport||[],ec(s)?s:[]):t.concat(s,An(s))}var ar=typeof document<"u"?l.useLayoutEffect:l.useEffect,lm=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Yn=function(){};function cm(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function um(e,t){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];var a=[].concat(s);if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&a.push("".concat(cm(e,i)));return a.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var Xi=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):lt(e)==="object"&&e!==null?[e]:[];var t},Qi=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Y({},Ge(e,lm))},me=function(e,t,n){var s=e.cx,r=e.getStyles,a=e.getClassNames,i=e.className;return{css:r(t,e),className:s(n??{},a(t,e),i)}};function gs(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function rc(e){return gs(e)?window.pageYOffset:e.scrollTop}function Xn(e,t){gs(e)?window.scrollTo(0,t):e.scrollTop=t}function dm(e,t,n,s){return n*((e=e/s-1)*e*e+1)+t}function mn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Yn,r=rc(e),a=t-r,i=10,o=0;function c(){var f=dm(o+=i,r,a,n);Xn(e,f),o<n?window.requestAnimationFrame(c):s(e)}c()}function ea(e,t){var n=e.getBoundingClientRect(),s=t.getBoundingClientRect(),r=t.offsetHeight/3;s.bottom+r>n.bottom?Xn(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):s.top-r<n.top&&Xn(e,Math.max(t.offsetTop-r,0))}function ta(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var oc=!1,pm={get passive(){return oc=!0}},gn=typeof window<"u"?window:{};gn.addEventListener&&gn.removeEventListener&&(gn.addEventListener("p",Yn,pm),gn.removeEventListener("p",Yn,!1));var fm=oc;function hm(e){return e!=null}function vn(e,t,n){return e?t:n}var mm=["children","innerProps"],gm=["children","innerProps"];function vm(e){var t=e.maxHeight,n=e.menuEl,s=e.minHeight,r=e.placement,a=e.shouldScroll,i=e.isFixedPosition,o=e.controlHeight,c=function(B){var z=getComputedStyle(B),Z=z.position==="absolute",W=/(auto|scroll)/;if(z.position==="fixed")return document.documentElement;for(var q=B;q=q.parentElement;)if(z=getComputedStyle(q),(!Z||z.position!=="static")&&W.test(z.overflow+z.overflowY+z.overflowX))return q;return document.documentElement}(n),f={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return f;var p,d=c.getBoundingClientRect().height,h=n.getBoundingClientRect(),g=h.bottom,m=h.height,v=h.top,y=n.offsetParent.getBoundingClientRect().top,b=i||gs(p=c)?window.innerHeight:p.clientHeight,x=rc(c),E=parseInt(getComputedStyle(n).marginBottom,10),C=parseInt(getComputedStyle(n).marginTop,10),w=y-C,L=b-v,S=w+x,P=d-x-v,O=g-b+x+E,k=x+v-C,M=160;switch(r){case"auto":case"bottom":if(L>=m)return{placement:"bottom",maxHeight:t};if(P>=m&&!i)return a&&mn(c,O,M),{placement:"bottom",maxHeight:t};if(!i&&P>=s||i&&L>=s)return a&&mn(c,O,M),{placement:"bottom",maxHeight:i?L-E:P-E};if(r==="auto"||i){var U=t,F=i?w:S;return F>=s&&(U=Math.min(F-E-o,t)),{placement:"top",maxHeight:U}}if(r==="bottom")return a&&Xn(c,O),{placement:"bottom",maxHeight:t};break;case"top":if(w>=m)return{placement:"top",maxHeight:t};if(S>=m&&!i)return a&&mn(c,k,M),{placement:"top",maxHeight:t};if(!i&&S>=s||i&&w>=s){var A=t;return(!i&&S>=s||i&&w>=s)&&(A=i?w-C:S-C),a&&mn(c,k,M),{placement:"top",maxHeight:A}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return f}var na,ic=function(e){return e==="auto"?"bottom":e},ac=l.createContext(null),ym=function(e){var t=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,r=e.menuPlacement,a=e.menuPosition,i=e.menuShouldScrollIntoView,o=e.theme,c=(l.useContext(ac)||{}).setPortalPlacement,f=l.useRef(null),p=we(l.useState(s),2),d=p[0],h=p[1],g=we(l.useState(null),2),m=g[0],v=g[1],y=o.spacing.controlHeight;return ar(function(){var b=f.current;if(b){var x=a==="fixed",E=vm({maxHeight:s,menuEl:b,minHeight:n,placement:r,shouldScroll:i&&!x,isFixedPosition:x,controlHeight:y});h(E.maxHeight),v(E.placement),c==null||c(E.placement)}},[s,r,a,i,n,c,y]),t({ref:f,placerProps:Y(Y({},e),{},{placement:m||ic(r),maxHeight:d})})},bm=function(e){var t=e.children,n=e.innerRef,s=e.innerProps;return Q("div",ee({},me(e,"menu",{menu:!0}),{ref:n},s),t)},lc=function(e,t){var n=e.theme,s=n.spacing.baseUnit,r=n.colors;return Y({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*s,"px ").concat(3*s,"px")})},wm=lc,xm=lc,Cm=["size"],Sm=["innerProps","isRtl","size"],Ms,ks,Lm={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},cc=function(e){var t=e.size,n=Ge(e,Cm);return Q("svg",ee({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Lm},n))},Is=function(e){return Q(cc,ee({size:20},e),Q("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},sa=function(e){return Q(cc,ee({size:20},e),Q("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},uc=function(e,t){var n=e.isFocused,s=e.theme,r=s.spacing.baseUnit,a=s.colors;return Y({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*r,":hover":{color:n?a.neutral80:a.neutral40}})},Em=uc,Om=uc,Pm=function(){var e=Mr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(na||(Ms=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],ks||(ks=Ms.slice(0)),na=Object.freeze(Object.defineProperties(Ms,{raw:{value:Object.freeze(ks)}})))),Ns=function(e){var t=e.delay,n=e.offset;return Q("span",{css:Mr({animation:"".concat(Pm," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},jm=function(e){var t=e.children,n=e.isDisabled,s=e.isFocused,r=e.innerRef,a=e.innerProps,i=e.menuIsOpen;return Q("div",ee({ref:r},me(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":i}),a,{"aria-disabled":n||void 0}),t)},Mm=["data"],km=function(e){var t=e.children,n=e.cx,s=e.getStyles,r=e.getClassNames,a=e.Heading,i=e.headingProps,o=e.innerProps,c=e.label,f=e.theme,p=e.selectProps;return Q("div",ee({},me(e,"group",{group:!0}),o),Q(a,ee({},i,{selectProps:p,theme:f,getStyles:s,getClassNames:r,cx:n}),c),Q("div",null,t))},Im=["innerRef","isDisabled","isHidden","inputClassName"],dc={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Nm={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Y({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},dc)},Rm=function(e){return Y({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},dc)},ra=function(e){var t=e.children,n=e.innerProps;return Q("div",n,t)},Tm=function(e){var t=e.children,n=e.components,s=e.data,r=e.innerProps,a=e.isDisabled,i=e.removeProps,o=e.selectProps,c=n.Container,f=n.Label,p=n.Remove;return Q(c,{data:s,innerProps:Y(Y({},me(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),r),selectProps:o},Q(f,{data:s,innerProps:Y({},me(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),Q(p,{data:s,innerProps:Y(Y({},me(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},i),selectProps:o}))},Dm={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Q("div",ee({},me(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Q(Is,null))},Control:jm,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Q("div",ee({},me(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Q(sa,null))},DownChevron:sa,CrossIcon:Is,Group:km,GroupHeading:function(e){var t=Qi(e);t.data;var n=Ge(t,Mm);return Q("div",ee({},me(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Q("div",ee({},me(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Q("span",ee({},t,me(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,s=Qi(e),r=s.innerRef,a=s.isDisabled,i=s.isHidden,o=s.inputClassName,c=Ge(s,Im);return Q("div",ee({},me(e,"input",{"input-container":!0}),{"data-value":n||""}),Q("input",ee({className:t({input:!0},o),ref:r,style:Rm(i),disabled:a},c)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,s=e.size,r=s===void 0?4:s,a=Ge(e,Sm);return Q("div",ee({},me(Y(Y({},a),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Q(Ns,{delay:0,offset:n}),Q(Ns,{delay:160,offset:!0}),Q(Ns,{delay:320,offset:!n}))},Menu:bm,MenuList:function(e){var t=e.children,n=e.innerProps,s=e.innerRef,r=e.isMulti;return Q("div",ee({},me(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:s},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,s=e.controlElement,r=e.innerProps,a=e.menuPlacement,i=e.menuPosition,o=l.useRef(null),c=l.useRef(null),f=we(l.useState(ic(a)),2),p=f[0],d=f[1],h=l.useMemo(function(){return{setPortalPlacement:d}},[]),g=we(l.useState(null),2),m=g[0],v=g[1],y=l.useCallback(function(){if(s){var C=function(S){var P=S.getBoundingClientRect();return{bottom:P.bottom,height:P.height,left:P.left,right:P.right,top:P.top,width:P.width}}(s),w=i==="fixed"?0:window.pageYOffset,L=C[p]+w;L===(m==null?void 0:m.offset)&&C.left===(m==null?void 0:m.rect.left)&&C.width===(m==null?void 0:m.rect.width)||v({offset:L,rect:C})}},[s,i,p,m==null?void 0:m.offset,m==null?void 0:m.rect.left,m==null?void 0:m.rect.width]);ar(function(){y()},[y]);var b=l.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),s&&o.current&&(c.current=function(C,w,L,S){S===void 0&&(S={});const{ancestorScroll:P=!0,ancestorResize:O=!0,elementResize:k=!0,animationFrame:M=!1}=S,U=P&&!M,F=U||O?[...Dn(C)?An(C):C.contextElement?An(C.contextElement):[],...An(w)]:[];F.forEach(Z=>{U&&Z.addEventListener("scroll",L,{passive:!0}),O&&Z.addEventListener("resize",L)});let A,B=null;if(k){let Z=!0;B=new ResizeObserver(()=>{Z||L(),Z=!1}),Dn(C)&&!M&&B.observe(C),Dn(C)||!C.contextElement||M||B.observe(C.contextElement),B.observe(w)}let z=M?Yi(C):null;return M&&function Z(){const W=Yi(C);!z||W.x===z.x&&W.y===z.y&&W.width===z.width&&W.height===z.height||L(),z=W,A=requestAnimationFrame(Z)}(),L(),()=>{var Z;F.forEach(W=>{U&&W.removeEventListener("scroll",L),O&&W.removeEventListener("resize",L)}),(Z=B)==null||Z.disconnect(),B=null,M&&cancelAnimationFrame(A)}}(s,o.current,y,{elementResize:"ResizeObserver"in window}))},[s,y]);ar(function(){b()},[b]);var x=l.useCallback(function(C){o.current=C,b()},[b]);if(!t&&i!=="fixed"||!m)return null;var E=Q("div",ee({ref:x},me(Y(Y({},e),{},{offset:m.offset,position:i,rect:m.rect}),"menuPortal",{"menu-portal":!0}),r),n);return Q(ac.Provider,{value:h},t?dt.createPortal(E,t):E)},LoadingMessage:function(e){var t=e.children,n=t===void 0?"Loading...":t,s=e.innerProps,r=Ge(e,gm);return Q("div",ee({},me(Y(Y({},r),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},NoOptionsMessage:function(e){var t=e.children,n=t===void 0?"No options":t,s=e.innerProps,r=Ge(e,mm);return Q("div",ee({},me(Y(Y({},r),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},MultiValue:Tm,MultiValueContainer:ra,MultiValueLabel:ra,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Q("div",ee({role:"button"},n),t||Q(Is,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,s=e.isFocused,r=e.isSelected,a=e.innerRef,i=e.innerProps;return Q("div",ee({},me(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":r}),{ref:a,"aria-disabled":n},i),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Q("div",ee({},me(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,s=e.isDisabled,r=e.isRtl;return Q("div",ee({},me(e,"container",{"--is-disabled":s,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,s=e.innerProps;return Q("div",ee({},me(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,s=e.isMulti,r=e.hasValue;return Q("div",ee({},me(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":r}),n),t)}},oa=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function Am(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(s=e[n],r=t[n],!(s===r||oa(s)&&oa(r)))return!1;var s,r;return!0}for(var Um={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ia=function(e){return Q("span",ee({css:Um},e))},_m={guidance:function(e){var t=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,r=e.context,a=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,s=n===void 0?"":n,r=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(s,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,s=e.options,r=e.label,a=r===void 0?"":r,i=e.selectValue,o=e.isDisabled,c=e.isSelected,f=e.isAppleDevice,p=function(g,m){return g&&g.length?"".concat(g.indexOf(m)+1," of ").concat(g.length):""};if(t==="value"&&i)return"value ".concat(a," focused, ").concat(p(i,n),".");if(t==="menu"&&f){var d=o?" disabled":"",h="".concat(c?" selected":"").concat(d);return"".concat(a).concat(h,", ").concat(p(s,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Fm=function(e){var t=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,r=e.focusableOptions,a=e.isFocused,i=e.selectValue,o=e.selectProps,c=e.id,f=e.isAppleDevice,p=o.ariaLiveMessages,d=o.getOptionLabel,h=o.inputValue,g=o.isMulti,m=o.isOptionDisabled,v=o.isSearchable,y=o.menuIsOpen,b=o.options,x=o.screenReaderStatus,E=o.tabSelectsValue,C=o.isLoading,w=o["aria-label"],L=o["aria-live"],S=l.useMemo(function(){return Y(Y({},_m),p||{})},[p]),P=l.useMemo(function(){var A,B="";if(t&&S.onChange){var z=t.option,Z=t.options,W=t.removedValue,q=t.removedValues,G=t.value,K=W||z||(A=G,Array.isArray(A)?null:A),X=K?d(K):"",R=Z||q||void 0,_=R?R.map(d):[],j=Y({isDisabled:K&&m(K,i),label:X,labels:_},t);B=S.onChange(j)}return B},[t,S,m,i,d]),O=l.useMemo(function(){var A="",B=n||s,z=!!(n&&i&&i.includes(n));if(B&&S.onFocus){var Z={focused:B,label:d(B),isDisabled:m(B,i),isSelected:z,options:r,context:B===n?"menu":"value",selectValue:i,isAppleDevice:f};A=S.onFocus(Z)}return A},[n,s,d,m,S,r,i,f]),k=l.useMemo(function(){var A="";if(y&&b.length&&!C&&S.onFilter){var B=x({count:r.length});A=S.onFilter({inputValue:h,resultsMessage:B})}return A},[r,h,y,S,b,x,C]),M=(t==null?void 0:t.action)==="initial-input-focus",U=l.useMemo(function(){var A="";if(S.guidance){var B=s?"value":y?"menu":"input";A=S.guidance({"aria-label":w,context:B,isDisabled:n&&m(n,i),isMulti:g,isSearchable:v,tabSelectsValue:E,isInitialFocus:M})}return A},[w,n,s,g,m,v,y,S,i,E,M]),F=Q(l.Fragment,null,Q("span",{id:"aria-selection"},P),Q("span",{id:"aria-focused"},O),Q("span",{id:"aria-results"},k),Q("span",{id:"aria-guidance"},U));return Q(l.Fragment,null,Q(ia,{id:c},M&&F),Q(ia,{"aria-live":L,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!M&&F))},Rs=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Bm=new RegExp("["+Rs.map(function(e){return e.letters}).join("")+"]","g"),pc={},Ts=0;Ts<Rs.length;Ts++)for(var Ds=Rs[Ts],As=0;As<Ds.letters.length;As++)pc[Ds.letters[As]]=Ds.base;var fc=function(e){return e.replace(Bm,function(t){return pc[t]})},Vm=function(e,t){t===void 0&&(t=Am);var n=null;function s(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return s.clear=function(){n=null},s}(fc),aa=function(e){return e.replace(/^\s+|\s+$/g,"")},$m=function(e){return"".concat(e.label," ").concat(e.value)},zm=["innerRef"];function Hm(e){var t=e.innerRef,n=function(s){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=Object.entries(s).filter(function(c){var f=we(c,1)[0];return!a.includes(f)});return o.reduce(function(c,f){var p=we(f,2),d=p[0],h=p[1];return c[d]=h,c},{})}(Ge(e,zm),"onExited","in","enter","exit","appear");return Q("input",ee({ref:t},n,{css:Mr({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var la=["boxSizing","height","overflow","paddingRight","position"],ca={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ua(e){e.preventDefault()}function da(e){e.stopPropagation()}function pa(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function fa(){return"ontouchstart"in window||navigator.maxTouchPoints}var ha=!(typeof window>"u"||!window.document||!window.document.createElement),Nt=0,ft={capture:!1,passive:!1},Gm=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Wm={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function qm(e){var t=e.children,n=e.lockEnabled,s=e.captureEnabled,r=function(i){var o=i.isEnabled,c=i.onBottomArrive,f=i.onBottomLeave,p=i.onTopArrive,d=i.onTopLeave,h=l.useRef(!1),g=l.useRef(!1),m=l.useRef(0),v=l.useRef(null),y=l.useCallback(function(L,S){if(v.current!==null){var P=v.current,O=P.scrollTop,k=P.scrollHeight,M=P.clientHeight,U=v.current,F=S>0,A=k-M-O,B=!1;A>S&&h.current&&(f&&f(L),h.current=!1),F&&g.current&&(d&&d(L),g.current=!1),F&&S>A?(c&&!h.current&&c(L),U.scrollTop=k,B=!0,h.current=!0):!F&&-S>O&&(p&&!g.current&&p(L),U.scrollTop=0,B=!0,g.current=!0),B&&function(z){z.cancelable&&z.preventDefault(),z.stopPropagation()}(L)}},[c,f,p,d]),b=l.useCallback(function(L){y(L,L.deltaY)},[y]),x=l.useCallback(function(L){m.current=L.changedTouches[0].clientY},[]),E=l.useCallback(function(L){var S=m.current-L.changedTouches[0].clientY;y(L,S)},[y]),C=l.useCallback(function(L){if(L){var S=!!fm&&{passive:!1};L.addEventListener("wheel",b,S),L.addEventListener("touchstart",x,S),L.addEventListener("touchmove",E,S)}},[E,x,b]),w=l.useCallback(function(L){L&&(L.removeEventListener("wheel",b,!1),L.removeEventListener("touchstart",x,!1),L.removeEventListener("touchmove",E,!1))},[E,x,b]);return l.useEffect(function(){if(o){var L=v.current;return C(L),function(){w(L)}}},[o,C,w]),function(L){v.current=L}}({isEnabled:s===void 0||s,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(i){var o=i.isEnabled,c=i.accountForScrollbars,f=c===void 0||c,p=l.useRef({}),d=l.useRef(null),h=l.useCallback(function(m){if(ha){var v=document.body,y=v&&v.style;if(f&&la.forEach(function(C){var w=y&&y[C];p.current[C]=w}),f&&Nt<1){var b=parseInt(p.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,E=window.innerWidth-x+b||0;Object.keys(ca).forEach(function(C){var w=ca[C];y&&(y[C]=w)}),y&&(y.paddingRight="".concat(E,"px"))}v&&fa()&&(v.addEventListener("touchmove",ua,ft),m&&(m.addEventListener("touchstart",pa,ft),m.addEventListener("touchmove",da,ft))),Nt+=1}},[f]),g=l.useCallback(function(m){if(ha){var v=document.body,y=v&&v.style;Nt=Math.max(Nt-1,0),f&&Nt<1&&la.forEach(function(b){var x=p.current[b];y&&(y[b]=x)}),v&&fa()&&(v.removeEventListener("touchmove",ua,ft),m&&(m.removeEventListener("touchstart",pa,ft),m.removeEventListener("touchmove",da,ft)))}},[f]);return l.useEffect(function(){if(o){var m=d.current;return h(m),function(){g(m)}}},[o,h,g]),function(m){d.current=m}}({isEnabled:n});return Q(l.Fragment,null,n&&Q("div",{onClick:Gm,css:Wm}),t(function(i){r(i),a(i)}))}var Zm={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Km=function(e){var t=e.name,n=e.onFocus;return Q("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Zm,value:"",onChange:function(){}})};function lr(e){var t;return typeof window<"u"&&window.navigator!=null&&e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform)}function hc(){return lr(/^Mac/i)}function Jm(){return lr(/^iPhone/i)||lr(/^iPad/i)||hc()&&navigator.maxTouchPoints>1}var Ym,Xm={clearIndicator:Om,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,s=e.isFocused,r=e.theme,a=r.colors,i=r.borderRadius;return Y({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:s?a.primary:a.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:s?a.primary:a.neutral30}})},dropdownIndicator:Em,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,s=n.colors,r=n.spacing;return Y({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,s=e.theme,r=s.spacing.baseUnit,a=s.colors;return Y({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?a.neutral10:a.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,s=e.value,r=e.theme,a=r.spacing,i=r.colors;return Y(Y({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},Nm),t?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:i.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,s=e.size,r=e.theme,a=r.colors,i=r.spacing.baseUnit;return Y({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?a.neutral60:a.neutral20,padding:2*i})},loadingMessage:xm,menu:function(e,t){var n,s=e.placement,r=e.theme,a=r.borderRadius,i=r.spacing,o=r.colors;return Y((ht(n={label:"menu"},function(c){return c?{bottom:"top",top:"bottom"}[c]:"bottom"}(s),"100%"),ht(n,"position","absolute"),ht(n,"width","100%"),ht(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},menuList:function(e,t){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Y({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},menuPortal:function(e){var t=e.rect,n=e.offset,s=e.position;return{left:t.left,position:s,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,s=n.spacing,r=n.borderRadius,a=n.colors;return Y({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:a.neutral10,borderRadius:r/2,margin:s.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,s=n.borderRadius,r=n.colors,a=e.cropWithEllipsis;return Y({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,s=n.spacing,r=n.borderRadius,a=n.colors,i=e.isFocused;return Y({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:i?a.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},noOptionsMessage:wm,option:function(e,t){var n=e.isDisabled,s=e.isFocused,r=e.isSelected,a=e.theme,i=a.spacing,o=a.colors;return Y({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?o.primary:s?o.primary25:"transparent",color:n?o.neutral20:r?o.neutral0:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,s=n.spacing,r=n.colors;return Y({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,s=e.theme,r=s.spacing,a=s.colors;return Y({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?a.neutral40:a.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,s=e.isMulti,r=e.hasValue,a=e.selectProps.controlShouldRenderValue;return Y({alignItems:"center",display:s&&r&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},Us={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Qm={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ta(),captureMenuScroll:!ta(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Y({ignoreCase:!0,ignoreAccents:!0,stringify:$m,trim:!0,matchFrom:"any"},Ym),s=n.ignoreCase,r=n.ignoreAccents,a=n.stringify,i=n.trim,o=n.matchFrom,c=i?aa(t):t,f=i?aa(a(e)):a(e);return s&&(c=c.toLowerCase(),f=f.toLowerCase()),r&&(c=Vm(c),f=fc(f)),o==="start"?f.substr(0,c.length)===c:f.indexOf(c)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function ma(e,t,n,s){return{type:"option",data:t,isDisabled:gc(e,t,n),isSelected:vc(e,t,n),label:mc(e,t),value:Qn(e,t),index:s}}function yn(e,t){return e.options.map(function(n,s){if("options"in n){var r=n.options.map(function(i,o){return ma(e,i,t,o)}).filter(function(i){return ya(e,i)});return r.length>0?{type:"group",data:n,options:r,index:s}:void 0}var a=ma(e,n,t,s);return ya(e,a)?a:void 0}).filter(hm)}function ga(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,Cr(n.options.map(function(s){return s.data}))):t.push(n.data),t},[])}function va(e,t){return e.reduce(function(n,s){return s.type==="group"?n.push.apply(n,Cr(s.options.map(function(r){return{data:r.data,id:"".concat(t,"-").concat(s.index,"-").concat(r.index)}}))):n.push({data:s.data,id:"".concat(t,"-").concat(s.index)}),n},[])}function ya(e,t){var n=e.inputValue,s=n===void 0?"":n,r=t.data,a=t.isSelected,i=t.label,o=t.value;return(!bc(e)||!a)&&yc(e,{label:i,value:o,data:r},s)}var _s=function(e,t){var n;return((n=e.find(function(s){return s.data===t}))===null||n===void 0?void 0:n.id)||null},mc=function(e,t){return e.getOptionLabel(t)},Qn=function(e,t){return e.getOptionValue(t)};function gc(e,t,n){return typeof e.isOptionDisabled=="function"&&e.isOptionDisabled(t,n)}function vc(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var s=Qn(e,t);return n.some(function(r){return Qn(e,r)===s})}function yc(e,t,n){return!e.filterOption||e.filterOption(t,n)}var bc=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return t===void 0?n:t},eg=1,wc=function(e){(function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&Xs(i,o)})(a,l.Component);var t,n,s,r=Ph(a);function a(i){var o;if(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}(this,a),(o=r.call(this,i)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.isAppleDevice=hc()||Jm(),o.controlRef=null,o.getControlRef=function(d){o.controlRef=d},o.focusedOptionRef=null,o.getFocusedOptionRef=function(d){o.focusedOptionRef=d},o.menuListRef=null,o.getMenuListRef=function(d){o.menuListRef=d},o.inputRef=null,o.getInputRef=function(d){o.inputRef=d},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(d,h){var g=o.props,m=g.onChange,v=g.name;h.name=v,o.ariaOnChange(d,h),m(d,h)},o.setValue=function(d,h,g){var m=o.props,v=m.closeMenuOnSelect,y=m.isMulti,b=m.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:b}),v&&(o.setState({inputIsHiddenAfterUpdate:!y}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(d,{action:h,option:g})},o.selectOption=function(d){var h=o.props,g=h.blurInputOnSelect,m=h.isMulti,v=h.name,y=o.state.selectValue,b=m&&o.isOptionSelected(d,y),x=o.isOptionDisabled(d,y);if(b){var E=o.getOptionValue(d);o.setValue(y.filter(function(C){return o.getOptionValue(C)!==E}),"deselect-option",d)}else{if(x)return void o.ariaOnChange(d,{action:"select-option",option:d,name:v});m?o.setValue([].concat(Cr(y),[d]),"select-option",d):o.setValue(d,"select-option")}g&&o.blurInput()},o.removeValue=function(d){var h=o.props.isMulti,g=o.state.selectValue,m=o.getOptionValue(d),v=g.filter(function(b){return o.getOptionValue(b)!==m}),y=vn(h,v,v[0]||null);o.onChange(y,{action:"remove-value",removedValue:d}),o.focusInput()},o.clearValue=function(){var d=o.state.selectValue;o.onChange(vn(o.props.isMulti,[],null),{action:"clear",removedValues:d})},o.popValue=function(){var d=o.props.isMulti,h=o.state.selectValue,g=h[h.length-1],m=h.slice(0,h.length-1),v=vn(d,m,m[0]||null);o.onChange(v,{action:"pop-value",removedValue:g})},o.getFocusedOptionId=function(d){return _s(o.state.focusableOptionsWithIds,d)},o.getFocusableOptionsWithIds=function(){return va(yn(o.props,o.state.selectValue),o.getElementId("option"))},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];return um.apply(void 0,[o.props.classNamePrefix].concat(h))},o.getOptionLabel=function(d){return mc(o.props,d)},o.getOptionValue=function(d){return Qn(o.props,d)},o.getStyles=function(d,h){var g=o.props.unstyled,m=Xm[d](h,g);m.boxSizing="border-box";var v=o.props.styles[d];return v?v(m,h):m},o.getClassNames=function(d,h){var g,m;return(g=(m=o.props.classNames)[d])===null||g===void 0?void 0:g.call(m,h)},o.getElementId=function(d){return"".concat(o.state.instancePrefix,"-").concat(d)},o.getComponents=function(){return d=o.props,Y(Y({},Dm),d.components);var d},o.buildCategorizedOptions=function(){return yn(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return ga(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(d,h){o.setState({ariaSelection:Y({value:d},h)})},o.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(d){o.blockOptionHover=!1},o.onControlMouseDown=function(d){if(!d.defaultPrevented){var h=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&o.onMenuClose():h&&o.openMenu("first"):(h&&(o.openAfterFocus=!0),o.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},o.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0||o.props.isDisabled)){var h=o.props,g=h.isMulti,m=h.menuIsOpen;o.focusInput(),m?(o.setState({inputIsHiddenAfterUpdate:!g}),o.onMenuClose()):o.openMenu("first"),d.preventDefault()}},o.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(o.clearValue(),d.preventDefault(),o.openAfterFocus=!1,d.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(d){typeof o.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&gs(d.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(d)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(d){var h=d.touches,g=h&&h.item(0);g&&(o.initialTouchX=g.clientX,o.initialTouchY=g.clientY,o.userIsDragging=!1)},o.onTouchMove=function(d){var h=d.touches,g=h&&h.item(0);if(g){var m=Math.abs(g.clientX-o.initialTouchX),v=Math.abs(g.clientY-o.initialTouchY);o.userIsDragging=m>5||v>5}},o.onTouchEnd=function(d){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(d.target)&&o.menuListRef&&!o.menuListRef.contains(d.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(d){o.userIsDragging||o.onControlMouseDown(d)},o.onClearIndicatorTouchEnd=function(d){o.userIsDragging||o.onClearIndicatorMouseDown(d)},o.onDropdownIndicatorTouchEnd=function(d){o.userIsDragging||o.onDropdownIndicatorMouseDown(d)},o.handleInputChange=function(d){var h=o.props.inputValue,g=d.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(g,{action:"input-change",prevInputValue:h}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(d){o.props.onFocus&&o.props.onFocus(d),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(d){var h=o.props.inputValue;o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(d),o.onInputChange("",{action:"input-blur",prevInputValue:h}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(d){if(!o.blockOptionHover&&o.state.focusedOption!==d){var h=o.getFocusableOptions().indexOf(d);o.setState({focusedOption:d,focusedOptionId:h>-1?o.getFocusedOptionId(d):null})}},o.shouldHideSelectedOptions=function(){return bc(o.props)},o.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),o.focus()},o.onKeyDown=function(d){var h=o.props,g=h.isMulti,m=h.backspaceRemovesValue,v=h.escapeClearsValue,y=h.inputValue,b=h.isClearable,x=h.isDisabled,E=h.menuIsOpen,C=h.onKeyDown,w=h.tabSelectsValue,L=h.openMenuOnFocus,S=o.state,P=S.focusedOption,O=S.focusedValue,k=S.selectValue;if(!(x||typeof C=="function"&&(C(d),d.defaultPrevented))){switch(o.blockOptionHover=!0,d.key){case"ArrowLeft":if(!g||y)return;o.focusValue("previous");break;case"ArrowRight":if(!g||y)return;o.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(O)o.removeValue(O);else{if(!m)return;g?o.popValue():b&&o.clearValue()}break;case"Tab":if(o.isComposing||d.shiftKey||!E||!w||!P||L&&o.isOptionSelected(P,k))return;o.selectOption(P);break;case"Enter":if(d.keyCode===229)break;if(E){if(!P||o.isComposing)return;o.selectOption(P);break}return;case"Escape":E?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:y}),o.onMenuClose()):b&&v&&o.clearValue();break;case" ":if(y)return;if(!E){o.openMenu("first");break}if(!P)return;o.selectOption(P);break;case"ArrowUp":E?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":E?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!E)return;o.focusOption("pageup");break;case"PageDown":if(!E)return;o.focusOption("pagedown");break;case"Home":if(!E)return;o.focusOption("first");break;case"End":if(!E)return;o.focusOption("last");break;default:return}d.preventDefault()}},o.state.instancePrefix="react-select-"+(o.props.instanceId||++eg),o.state.selectValue=Xi(i.value),i.menuIsOpen&&o.state.selectValue.length){var c=o.getFocusableOptionsWithIds(),f=o.buildFocusableOptions(),p=f.indexOf(o.state.selectValue[0]);o.state.focusableOptionsWithIds=c,o.state.focusedOption=f[p],o.state.focusedOptionId=_s(c,f[p])}return o}return t=a,n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&ea(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,c=o.isDisabled,f=o.menuIsOpen,p=this.state.isFocused;(p&&!c&&i.isDisabled||p&&f&&!i.menuIsOpen)&&this.focusInput(),p&&c&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):p||c||!i.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(ea(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,c=this.state,f=c.selectValue,p=c.isFocused,d=this.buildFocusableOptions(),h=i==="first"?0:d.length-1;if(!this.props.isMulti){var g=d.indexOf(f[0]);g>-1&&(h=g)}this.scrollToFocusedOptionOnUpdate=!(p&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,c=o.selectValue,f=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var p=c.indexOf(f);f||(p=-1);var d=c.length-1,h=-1;if(c.length){switch(i){case"previous":h=p===0?0:p===-1?d:p-1;break;case"next":p>-1&&p<d&&(h=p+1)}this.setState({inputIsHidden:h!==-1,focusedValue:c[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,c=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var p=0,d=f.indexOf(c);c||(d=-1),i==="up"?p=d>0?d-1:f.length-1:i==="down"?p=(d+1)%f.length:i==="pageup"?(p=d-o)<0&&(p=0):i==="pagedown"?(p=d+o)>f.length-1&&(p=f.length-1):i==="last"&&(p=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[p],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[p])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Us):Y(Y({},Us),this.props.theme):Us}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,c=this.getStyles,f=this.getClassNames,p=this.getValue,d=this.selectOption,h=this.setValue,g=this.props,m=g.isMulti,v=g.isRtl,y=g.options;return{clearValue:i,cx:o,getStyles:c,getClassNames:f,getValue:p,hasValue:this.hasValue(),isMulti:m,isRtl:v,options:y,selectOption:d,selectProps:g,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,c=i.isMulti;return o===void 0?c:o}},{key:"isOptionDisabled",value:function(i,o){return gc(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return vc(this.props,i,o)}},{key:"filterOption",value:function(i,o){return yc(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:c,selectValue:f})}return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,c=i.isSearchable,f=i.inputId,p=i.inputValue,d=i.tabIndex,h=i.form,g=i.menuIsOpen,m=i.required,v=this.getComponents().Input,y=this.state,b=y.inputIsHidden,x=y.ariaSelection,E=this.commonProps,C=f||this.getElementId("input"),w=Y(Y(Y({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?l.createElement(v,ee({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:o,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:p},w)):l.createElement(Hm,ee({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Yn,onFocus:this.onInputFocus,disabled:o,tabIndex:d,inputMode:"none",form:h,value:""},w))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),c=o.MultiValue,f=o.MultiValueContainer,p=o.MultiValueLabel,d=o.MultiValueRemove,h=o.SingleValue,g=o.Placeholder,m=this.commonProps,v=this.props,y=v.controlShouldRenderValue,b=v.isDisabled,x=v.isMulti,E=v.inputValue,C=v.placeholder,w=this.state,L=w.selectValue,S=w.focusedValue,P=w.isFocused;if(!this.hasValue()||!y)return E?null:l.createElement(g,ee({},m,{key:"placeholder",isDisabled:b,isFocused:P,innerProps:{id:this.getElementId("placeholder")}}),C);if(x)return L.map(function(k,M){var U=k===S,F="".concat(i.getOptionLabel(k),"-").concat(i.getOptionValue(k));return l.createElement(c,ee({},m,{components:{Container:f,Label:p,Remove:d},isFocused:U,isDisabled:b,key:F,index:M,removeProps:{onClick:function(){return i.removeValue(k)},onTouchEnd:function(){return i.removeValue(k)},onMouseDown:function(A){A.preventDefault()}},data:k}),i.formatOptionLabel(k,"value"))});if(E)return null;var O=L[0];return l.createElement(h,ee({},m,{data:O,isDisabled:b}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents().ClearIndicator,o=this.commonProps,c=this.props,f=c.isDisabled,p=c.isLoading,d=this.state.isFocused;if(!this.isClearable()||!i||f||!this.hasValue()||p)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(i,ee({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents().LoadingIndicator,o=this.commonProps,c=this.props,f=c.isDisabled,p=c.isLoading,d=this.state.isFocused;return i&&p?l.createElement(i,ee({},o,{innerProps:{"aria-hidden":"true"},isDisabled:f,isFocused:d})):null}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,c=i.IndicatorSeparator;if(!o||!c)return null;var f=this.commonProps,p=this.props.isDisabled,d=this.state.isFocused;return l.createElement(c,ee({},f,{isDisabled:p,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents().DropdownIndicator;if(!i)return null;var o=this.commonProps,c=this.props.isDisabled,f=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(i,ee({},o,{innerProps:p,isDisabled:c,isFocused:f}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),c=o.Group,f=o.GroupHeading,p=o.Menu,d=o.MenuList,h=o.MenuPortal,g=o.LoadingMessage,m=o.NoOptionsMessage,v=o.Option,y=this.commonProps,b=this.state.focusedOption,x=this.props,E=x.captureMenuScroll,C=x.inputValue,w=x.isLoading,L=x.loadingMessage,S=x.minMenuHeight,P=x.maxMenuHeight,O=x.menuIsOpen,k=x.menuPlacement,M=x.menuPosition,U=x.menuPortalTarget,F=x.menuShouldBlockScroll,A=x.menuShouldScrollIntoView,B=x.noOptionsMessage,z=x.onMenuScrollToTop,Z=x.onMenuScrollToBottom;if(!O)return null;var W,q=function(_,j){var $=_.type,D=_.data,T=_.isDisabled,H=_.isSelected,V=_.label,J=_.value,fe=b===D,ue=T?void 0:function(){return i.onOptionHover(D)},Le=T?void 0:function(){return i.selectOption(D)},te="".concat(i.getElementId("option"),"-").concat(j),Ze={id:te,onClick:Le,onMouseMove:ue,onMouseOver:ue,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:H};return l.createElement(v,ee({},y,{innerProps:Ze,data:D,isDisabled:T,isSelected:H,key:te,label:V,type:$,value:J,isFocused:fe,innerRef:fe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(_.data,"menu"))};if(this.hasOptions())W=this.getCategorizedOptions().map(function(_){if(_.type==="group"){var j=_.data,$=_.options,D=_.index,T="".concat(i.getElementId("group"),"-").concat(D),H="".concat(T,"-heading");return l.createElement(c,ee({},y,{key:T,data:j,options:$,Heading:f,headingProps:{id:H,data:_.data},label:i.formatGroupLabel(_.data)}),_.options.map(function(V){return q(V,"".concat(D,"-").concat(V.index))}))}if(_.type==="option")return q(_,"".concat(_.index))});else if(w){var G=L({inputValue:C});if(G===null)return null;W=l.createElement(g,y,G)}else{var K=B({inputValue:C});if(K===null)return null;W=l.createElement(m,y,K)}var X={minMenuHeight:S,maxMenuHeight:P,menuPlacement:k,menuPosition:M,menuShouldScrollIntoView:A},R=l.createElement(ym,ee({},y,X),function(_){var j=_.ref,$=_.placerProps,D=$.placement,T=$.maxHeight;return l.createElement(p,ee({},y,X,{innerRef:j,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:w,placement:D}),l.createElement(qm,{captureEnabled:E,onTopArrive:z,onBottomArrive:Z,lockEnabled:F},function(H){return l.createElement(d,ee({},y,{innerRef:function(V){i.getMenuListRef(V),H(V)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:i.getElementId("listbox")},isLoading:w,maxHeight:T,focusedOption:b}),W)}))});return U||M==="fixed"?l.createElement(h,ee({},y,{appendTo:U,controlElement:this.controlRef,menuPlacement:k,menuPosition:M}),R):R}},{key:"renderFormField",value:function(){var i=this,o=this.props,c=o.delimiter,f=o.isDisabled,p=o.isMulti,d=o.name,h=o.required,g=this.state.selectValue;if(h&&!this.hasValue()&&!f)return l.createElement(Km,{name:d,onFocus:this.onValueInputFocus});if(d&&!f){if(p){if(c){var m=g.map(function(b){return i.getOptionValue(b)}).join(c);return l.createElement("input",{name:d,type:"hidden",value:m})}var v=g.length>0?g.map(function(b,x){return l.createElement("input",{key:"i-".concat(x),name:d,type:"hidden",value:i.getOptionValue(b)})}):l.createElement("input",{name:d,type:"hidden",value:""});return l.createElement("div",null,v)}var y=g[0]?this.getOptionValue(g[0]):"";return l.createElement("input",{name:d,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,c=o.ariaSelection,f=o.focusedOption,p=o.focusedValue,d=o.isFocused,h=o.selectValue,g=this.getFocusableOptions();return l.createElement(Fm,ee({},i,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:f,focusedValue:p,isFocused:d,selectValue:h,focusableOptions:g,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,c=i.IndicatorsContainer,f=i.SelectContainer,p=i.ValueContainer,d=this.props,h=d.className,g=d.id,m=d.isDisabled,v=d.menuIsOpen,y=this.state.isFocused,b=this.commonProps=this.getCommonProps();return l.createElement(f,ee({},b,{className:h,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),l.createElement(o,ee({},b,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:v}),l.createElement(p,ee({},b,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),l.createElement(c,ee({},b,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],s=[{key:"getDerivedStateFromProps",value:function(i,o){var c=o.prevProps,f=o.clearFocusValueOnUpdate,p=o.inputIsHiddenAfterUpdate,d=o.ariaSelection,h=o.isFocused,g=o.prevWasFocused,m=o.instancePrefix,v=i.options,y=i.value,b=i.menuIsOpen,x=i.inputValue,E=i.isMulti,C=Xi(y),w={};if(c&&(y!==c.value||v!==c.options||b!==c.menuIsOpen||x!==c.inputValue)){var L=b?function(F,A){return ga(yn(F,A))}(i,C):[],S=b?va(yn(i,C),"".concat(m,"-option")):[],P=f?function(F,A){var B=F.focusedValue,z=F.selectValue.indexOf(B);if(z>-1){if(A.indexOf(B)>-1)return B;if(z<A.length)return A[z]}return null}(o,C):null,O=function(F,A){var B=F.focusedOption;return B&&A.indexOf(B)>-1?B:A[0]}(o,L);w={selectValue:C,focusedOption:O,focusedOptionId:_s(S,O),focusableOptionsWithIds:S,focusedValue:P,clearFocusValueOnUpdate:!1}}var k=p!=null&&i!==c?{inputIsHidden:p,inputIsHiddenAfterUpdate:void 0}:{},M=d,U=h&&g;return h&&!U&&(M={value:vn(E,C,C[0]||null),options:C,action:"initial-input-focus"},U=!g),(d==null?void 0:d.action)==="initial-input-focus"&&(M=null),Y(Y(Y({},w),k),{},{prevProps:i,ariaSelection:M,prevWasFocused:U})}}],n&&Ri(t.prototype,n),s&&Ri(t,s),Object.defineProperty(t,"prototype",{writable:!1}),a}();wc.defaultProps=Qm;var tg=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"],ng=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"],kr=pe(function(e){function t(n){return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),sg=pe(function(e){var t=kr.default;e.exports=function(n,s){if(t(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var a=r.call(n,s||"default");if(t(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)},e.exports.__esModule=!0,e.exports.default=e.exports}),xc=pe(function(e){var t=kr.default;e.exports=function(n){var s=sg(n,"string");return t(s)==="symbol"?s:String(s)},e.exports.__esModule=!0,e.exports.default=e.exports}),rg=pe(function(e){e.exports=function(t,n,s){return(n=xc(n))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s,t},e.exports.__esModule=!0,e.exports.default=e.exports});pe(function(e){function t(n,s){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);s&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),r.push.apply(r,a)}return r}e.exports=function(n){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?t(Object(r),!0).forEach(function(a){rg(n,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))})}return n},e.exports.__esModule=!0,e.exports.default=e.exports}),pe(function(e){e.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}),pe(function(e){function t(n,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,xc(a.key),a)}}e.exports=function(n,s,r){return s&&t(n.prototype,s),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n},e.exports.__esModule=!0,e.exports.default=e.exports});var og=pe(function(e){function t(n,s){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,s)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports});pe(function(e){e.exports=function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&og(t,n)},e.exports.__esModule=!0,e.exports.default=e.exports});var ba=pe(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}),ig=pe(function(e){e.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},e.exports.__esModule=!0,e.exports.default=e.exports}),ag=pe(function(e){e.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.__esModule=!0,e.exports.default=e.exports}),lg=pe(function(e){var t=kr.default;e.exports=function(n,s){if(s&&(t(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ag(n)},e.exports.__esModule=!0,e.exports.default=e.exports});pe(function(e){e.exports=function(t){var n=ig();return function(){var s,r=ba(t);if(n){var a=ba(this).constructor;s=Reflect.construct(r,arguments,a)}else s=r.apply(this,arguments);return lg(this,s)}},e.exports.__esModule=!0,e.exports.default=e.exports});var cr=pe(function(e){e.exports=function(t,n){(n==null||n>t.length)&&(n=t.length);for(var s=0,r=new Array(n);s<n;s++)r[s]=t[s];return r},e.exports.__esModule=!0,e.exports.default=e.exports}),cg=pe(function(e){e.exports=function(t){if(Array.isArray(t))return cr(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),ug=pe(function(e){e.exports=function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)},e.exports.__esModule=!0,e.exports.default=e.exports}),Cc=pe(function(e){e.exports=function(t,n){if(t){if(typeof t=="string")return cr(t,n);var s=Object.prototype.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?cr(t,n):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}),dg=pe(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});pe(function(e){e.exports=function(t){return cg(t)||ug(t)||Cc(t)||dg()},e.exports.__esModule=!0,e.exports.default=e.exports});var pg=pe(function(e){e.exports=function(t){if(Array.isArray(t))return t},e.exports.__esModule=!0,e.exports.default=e.exports}),fg=pe(function(e){e.exports=function(t,n){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var r,a,i,o,c=[],f=!0,p=!1;try{if(i=(s=s.call(t)).next,n===0){if(Object(s)!==s)return;f=!1}else for(;!(f=(r=i.call(s)).done)&&(c.push(r.value),c.length!==n);f=!0);}catch(d){p=!0,a=d}finally{try{if(!f&&s.return!=null&&(o=s.return(),Object(o)!==o))return}finally{if(p)throw a}}return c}},e.exports.__esModule=!0,e.exports.default=e.exports}),hg=pe(function(e){e.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports});pe(function(e){e.exports=function(t,n){return pg(t)||fg(t,n)||Cc(t,n)||hg()},e.exports.__esModule=!0,e.exports.default=e.exports});var mg=pe(function(e){e.exports=function(t,n){if(t==null)return{};var s,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)s=i[r],n.indexOf(s)>=0||(a[s]=t[s]);return a},e.exports.__esModule=!0,e.exports.default=e.exports});pe(function(e){e.exports=function(t,n){if(t==null)return{};var s,r,a=mg(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],n.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(t,s)&&(a[s]=t[s])}return a},e.exports.__esModule=!0,e.exports.default=e.exports}),pe(function(e){e.exports=function(t,n){return n||(n=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))},e.exports.__esModule=!0,e.exports.default=e.exports});var gg=l.forwardRef(function(e,t){var n=function(r){var a=r.defaultOptions,i=a!==void 0&&a,o=r.cacheOptions,c=o!==void 0&&o,f=r.loadOptions;r.options;var p=r.isLoading,d=p!==void 0&&p,h=r.onInputChange,g=r.filterOption,m=g===void 0?null:g,v=Ge(r,ng),y=v.inputValue,b=l.useRef(void 0),x=l.useRef(!1),E=we(l.useState(Array.isArray(i)?i:void 0),2),C=E[0],w=E[1],L=we(l.useState(y!==void 0?y:""),2),S=L[0],P=L[1],O=we(l.useState(i===!0),2),k=O[0],M=O[1],U=we(l.useState(void 0),2),F=U[0],A=U[1],B=we(l.useState([]),2),z=B[0],Z=B[1],W=we(l.useState(!1),2),q=W[0],G=W[1],K=we(l.useState({}),2),X=K[0],R=K[1],_=we(l.useState(void 0),2),j=_[0],$=_[1],D=we(l.useState(void 0),2),T=D[0],H=D[1];c!==T&&(R({}),H(c)),i!==j&&(w(Array.isArray(i)?i:void 0),$(i)),l.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var V=l.useCallback(function(ue,Le){if(!f)return Le();var te=f(ue,Le);te&&typeof te.then=="function"&&te.then(Le,function(){return Le()})},[f]);l.useEffect(function(){i===!0&&V(S,function(ue){x.current&&(w(ue||[]),M(!!b.current))})},[]);var J=l.useCallback(function(ue,Le){var te=function(je,et,Ve){if(Ve){var Et=Ve(je,et);if(typeof Et=="string")return Et}return je}(ue,Le,h);if(!te)return b.current=void 0,P(""),A(""),Z([]),M(!1),void G(!1);if(c&&X[te])P(te),A(te),Z(X[te]),M(!1),G(!1);else{var Ze=b.current={};P(te),M(!0),G(!F),V(te,function(je){x&&Ze===b.current&&(b.current=void 0,M(!1),A(te),Z(je||[]),G(!1),R(je?Y(Y({},X),{},ht({},te,je)):X))})}},[c,V,F,X,h]),fe=q?[]:S&&F?z:C||[];return Y(Y({},v),{},{options:fe,isLoading:k||d,onInputChange:J,filterOption:m})}(e),s=function(r){var a=r.defaultInputValue,i=a===void 0?"":a,o=r.defaultMenuIsOpen,c=o!==void 0&&o,f=r.defaultValue,p=f===void 0?null:f,d=r.inputValue,h=r.menuIsOpen,g=r.onChange,m=r.onInputChange,v=r.onMenuClose,y=r.onMenuOpen,b=r.value,x=Ge(r,tg),E=we(l.useState(d!==void 0?d:i),2),C=E[0],w=E[1],L=we(l.useState(h!==void 0?h:c),2),S=L[0],P=L[1],O=we(l.useState(b!==void 0?b:p),2),k=O[0],M=O[1],U=l.useCallback(function(q,G){typeof g=="function"&&g(q,G),M(q)},[g]),F=l.useCallback(function(q,G){var K;typeof m=="function"&&(K=m(q,G)),w(K!==void 0?K:q)},[m]),A=l.useCallback(function(){typeof y=="function"&&y(),P(!0)},[y]),B=l.useCallback(function(){typeof v=="function"&&v(),P(!1)},[v]),z=d!==void 0?d:C,Z=h!==void 0?h:S,W=b!==void 0?b:k;return Y(Y({},x),{},{inputValue:z,menuIsOpen:Z,onChange:U,onInputChange:F,onMenuClose:B,onMenuOpen:A,value:W})}(n);return l.createElement(wc,ee({ref:t},s))}),vg=gg,yg=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var s,r,a;if(Array.isArray(t)){if((s=t.length)!=n.length)return!1;for(r=s;r--!=0;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((s=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=s;r--!=0;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=s;r--!=0;){var i=a[r];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n},mt;(function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"})(mt||(mt={}));class nt{constructor({apiKey:t,authReferrerPolicy:n,channel:s,client:r,id:a="__googleMapsScriptId",language:i,libraries:o=[],mapIds:c,nonce:f,region:p,retries:d=3,url:h="https://maps.googleapis.com/maps/api/js",version:g}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=n,this.channel=s,this.client=r,this.id=a||"__googleMapsScriptId",this.language=i,this.libraries=o,this.mapIds=c,this.nonce=f,this.region=p,this.retries=d,this.url=h,this.version=g,nt.instance){if(!yg(this.options,nt.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(nt.instance.options)}`);return nt.instance}nt.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?mt.FAILURE:this.done?mt.SUCCESS:this.loading?mt.LOADING:mt.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((t,n)=>{this.loadCallback(s=>{s?n(s.error):t(window.google)})})}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),n=document.createElement("script");n.id=this.id,n.type="text/javascript",n.src=t,n.onerror=this.loadErrorCallback.bind(this),n.defer=!0,n.async=!0,this.nonce&&(n.nonce=this.nonce),document.head.appendChild(n)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const n=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${n} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},n)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(t=>{t(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var bg=function(e,t,n){var s,r=e.bounds,a=e.location,i=function(c,f){var p={};for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&f.indexOf(d)<0&&(p[d]=c[d]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var h=0;for(d=Object.getOwnPropertySymbols(c);h<d.length;h++)f.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(c,d[h])&&(p[d[h]]=c[d[h]])}return p}(e,["bounds","location"]),o=at({input:t},i);return n&&(o.sessionToken=n),r&&(o.bounds=new((s=google.maps.LatLngBounds).bind.apply(s,function(){for(var c=0,f=0,p=arguments.length;f<p;f++)c+=arguments[f].length;var d=Array(c),h=0;for(f=0;f<p;f++)for(var g=arguments[f],m=0,v=g.length;m<v;m++,h++)d[h]=g[m];return d}([void 0],r)))),a&&(o.location=new google.maps.LatLng(a)),o},wg=function(e){var t=e.autocompletionRequest,n=e.debounce,s=e.minLengthAutocomplete,r=e.placesService,a=e.sessionToken,i=e.withSessionToken,o=function(c,f,p){p===void 0&&(p={});var d=p.maxWait,h=l.useRef(null),g=l.useRef([]),m=p.leading,v=p.trailing===void 0||p.trailing,y=l.useRef(!1),b=l.useRef(null),x=l.useRef(!1),E=l.useRef(c);E.current=c;var C=l.useCallback(function(){clearTimeout(b.current),clearTimeout(h.current),h.current=null,g.current=[],b.current=null,y.current=!1},[]);l.useEffect(function(){return x.current=!1,function(){x.current=!0}},[]);var w=l.useCallback(function(){for(var S=[],P=0;P<arguments.length;P++)S[P]=arguments[P];g.current=S,clearTimeout(b.current),y.current&&(y.current=!1),b.current||!m||y.current||(E.current.apply(E,S),y.current=!0),b.current=setTimeout(function(){var O=!0;m&&y.current&&(O=!1),C(),!x.current&&v&&O&&E.current.apply(E,S)},f),d&&!h.current&&v&&(h.current=setTimeout(function(){var O=g.current;C(),x.current||E.current.apply(null,O)},d))},[d,f,C,m,v]),L=l.useCallback(function(){b.current&&(E.current.apply(null,g.current),C())},[C]);return[w,C,L]}(function(c,f){if(!r)return f([]);if(c.length<s)return f([]);var p=at({},t);r.getPlacePredictions(bg(p,c,i&&a),function(d){f((d||[]).map(function(h){return{label:h.description,value:h}}))})},n)[0];return o},xg=l.forwardRef(function(e,t){var n,s,r,a,i,o,c,f,p=function(v){var y=v.apiKey,b=v.apiOptions,x=v.onLoadFailed,E=l.useState(void 0),C=E[0],w=E[1],L=l.useState(void 0),S=L[0],P=L[1],O=function(){if(!window.google)throw new Error("[react-google-places-autocomplete]: Google script not loaded");if(!window.google.maps)throw new Error("[react-google-places-autocomplete]: Google maps script not loaded");if(!window.google.maps.places)throw new Error("[react-google-places-autocomplete]: Google maps places script not loaded");w(new window.google.maps.places.AutocompleteService),P(new google.maps.places.AutocompleteSessionToken)};return l.useEffect(function(){y?Lh(void 0,void 0,void 0,function(){var k;return Eh(this,function(M){switch(M.label){case 0:if(!y)return[2];M.label=1;case 1:return M.trys.push([1,4,,5]),window.google&&window.google.maps&&window.google.maps.places?[3,3]:[4,new nt(at({apiKey:y},at({libraries:["places"]},b))).load()];case 2:M.sent(),M.label=3;case 3:return O(),[3,5];case 4:return k=M.sent(),typeof x=="function"&&x(k),[3,5];case 5:return[2]}})}):O()},[]),{placesService:C,sessionToken:S,setSessionToken:P}}({apiKey:(n=e.apiKey)!==null&&n!==void 0?n:"",apiOptions:(s=e.apiOptions)!==null&&s!==void 0?s:{},onLoadFailed:(r=e.onLoadFailed)!==null&&r!==void 0?r:console.error}),d=p.placesService,h=p.sessionToken,g=p.setSessionToken,m=wg({autocompletionRequest:(a=e.autocompletionRequest)!==null&&a!==void 0?a:{},debounce:(i=e.debounce)!==null&&i!==void 0?i:300,minLengthAutocomplete:(o=e.minLengthAutocomplete)!==null&&o!==void 0?o:0,placesService:d,sessionToken:h,withSessionToken:(c=e.withSessionToken)!==null&&c!==void 0&&c});return l.useImperativeHandle(t,function(){return{getSessionToken:function(){return h},refreshSessionToken:function(){g(new google.maps.places.AutocompleteSessionToken)}}},[h]),Oc.createElement(vg,at({},(f=e.selectProps)!==null&&f!==void 0?f:{},{loadOptions:m,getOptionValue:function(v){return v.value.place_id}}))});const Cg="_garageSalesAdmin_971bx_1",Sg="_title_971bx_7",Lg="_userInfo_971bx_13",Eg="_userName_971bx_23",Og="_userEmail_971bx_30",Pg="_adminControls_971bx_35",jg="_searchContainer_971bx_42",Mg="_searchInput_971bx_47",kg="_buttonsContainer_971bx_61",Ig="_addNewButton_971bx_87",Ng="_selectAllButton_971bx_104",Rg="_deselectAllButton_971bx_121",Tg="_deleteSelectedButton_971bx_138",Dg="_backToCommunityButton_971bx_172",Ag="_garageForm_971bx_189",Ug="_formGroup_971bx_197",_g="_descriptionTextarea_971bx_207",Fg="_formActions_971bx_216",Bg="_saveButton_971bx_222",Vg="_cancelButton_971bx_239",$g="_salesGrid_971bx_256",zg="_saleCard_971bx_267",Hg="_singleCard_971bx_273",Gg="_cardHeader_971bx_295",Wg="_saleActions_971bx_315",qg="_editButton_971bx_339",Zg="_deleteButton_971bx_356",Kg="_qrCodeButton_971bx_373",Jg="_noResults_971bx_392",Yg="_totalCount_971bx_420",Xg="_checkboxContainer_971bx_428",Qg="_checkmark_971bx_444",ae={garageSalesAdmin:Cg,title:Sg,userInfo:Lg,userName:Eg,userEmail:Og,adminControls:Pg,searchContainer:jg,searchInput:Mg,buttonsContainer:kg,addNewButton:Ig,selectAllButton:Ng,deselectAllButton:Rg,deleteSelectedButton:Tg,backToCommunityButton:Dg,garageForm:Ag,formGroup:Ug,descriptionTextarea:_g,formActions:Fg,saveButton:Bg,cancelButton:Vg,salesGrid:$g,saleCard:zg,singleCard:Hg,cardHeader:Gg,saleActions:Wg,editButton:qg,deleteButton:Zg,qrCodeButton:Kg,noResults:Jg,totalCount:Yg,checkboxContainer:Xg,checkmark:Qg},ev=()=>{const{garageSales:e,loading:t,error:n,fetchGarageSales:s}=us(),r=Ce(),a=xe(),{isAuthenticated:i,userEmail:o,userInfo:c}=Be(),{searchTerm:f,handleSearchChange:p}=Dl(),{communityName:d,communityId:h}=Je(),g=new URLSearchParams(a.search),m=g.get("communityId");console.warn("GarageSalesAdmin: Extracted communityId from URL:",m);const[v,y]=l.useState(new Set),{showOnlySelected:b,toggleDisplayMode:x}=cs(),[E,C]=l.useState(!1),[w,L]=l.useState(null),[S,P]=l.useState({address:"",description:""}),[O,k]=l.useState("");l.useEffect(()=>{console.log("GarageSalesAdmin: Context values:",{communityName:d,communityId:h});const D=g.get("communityId")||h;D&&D!==h&&(console.log("GarageSalesAdmin: Community ID changed, updating context:",D),typeof setCommunityId=="function"&&setCommunityId(D),y(new Set),s(D,!0))},[a.search,s,d,h]),l.useEffect(()=>{!d&&h&&typeof setCommunityName=="function"?(console.log("GarageSalesAdmin: Community name not in context, fetching from API"),(async()=>{try{const T=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getAddressByCommunity/${h}`,H=await fetch(T,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(H.ok){const V=await H.json();setCommunityName(V.name||"Community Sale")}}catch(T){console.error("Error fetching community name:",T)}})()):d&&console.log("GarageSalesAdmin: Using community name from context:",d)},[h,d]),l.useEffect(()=>{const D=localStorage.getItem("adminSelectedSaleIds");if(D)try{y(new Set(JSON.parse(D)))}catch(T){console.error("Error parsing admin selections:",T)}},[]),l.useEffect(()=>{localStorage.setItem("adminSelectedSaleIds",JSON.stringify([...v]))},[v]),l.useEffect(()=>{h&&(console.log("GarageSalesAdmin: Fetching garage sales for communityId:",h),s(h,!0))},[s,h]);const M=D=>{const T=D.split(",").map(V=>V.trim()),H=T[0].split(" ");return{streetNumber:H[0],street:H.slice(1).join(" "),city:T[1]||"",state:T[2]||"",postalCode:"",unit:""}},U=()=>{L(null),P({address:"",description:""}),C(!0),k("")},F=D=>{C(!1),L(D),P({address:D.address,description:D.description}),window.scrollTo(0,0)},A=()=>{L(null),P({address:"",description:""}),C(!1)},B=D=>{const{name:T,value:H}=D.target;P(V=>({...V,[T]:H}))},z=D=>{P(T=>({...T,address:D?D.label:""}))},Z=async D=>{D.preventDefault();try{if(w){const T={community:h};if(S.address!==w.address){const H=M(S.address);T.address={street:H.street,streetNum:H.streetNumber,city:H.city,provState:H.state,postalZipCode:"",unit:""}}S.description!==w.description&&(T.description=S.description),await ge.updateGarageSale(w.id,T)}else{const T=M(S.address);await ge.createGarageSale(T,S.description,"Garage Sale",[],h)}C(!1),L(null),P({address:"",description:""}),await s(h,!0)}catch(T){console.error("Error submitting garage sale:",T),T.message==="A garage sale already exists at this address"?window.alert("A garage sale already exists at this address"):window.alert("Failed to save garage sale. Please try again.")}},W=async D=>{if(window.confirm("Are you sure you want to delete this garage sale?"))try{await ge.deleteGarageSale(D),await s(h,!0)}catch(T){console.error("Error deleting garage sale:",T)}},q=D=>{y(T=>{const H=new Set(T);return H.has(D)?H.delete(D):H.add(D),H})},G=()=>{y(new Set)},K=async()=>{const D=Array.from(v);if(D.length===0){alert("Please select garage sales to delete");return}if(window.confirm(`Are you sure you want to delete ${D.length} selected garage sales?`))try{await ge.deleteGarageSale(D),await s(h,!0),G()}catch(T){console.error("Error deleting selected garage sales:",T),alert("An error occurred while deleting selected garage sales.")}},X=()=>{const T=`undefined/?communityId=${h||""}`,H=`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(T)}`,V=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${d||"Community Garage Sale"} QR Code</title>
        <style>
          body {
            background-color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
          }
          h1 {
            color: #333;
            margin-bottom: 30px;
            text-align: center;
          }
          .qr-container {
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            background-color: white;
          }
          .instructions {
            margin-top: 20px;
            text-align: center;
            color: #666;
            max-width: 500px;
          }
        </style>
      </head>
      <body>
        <h1>${d||"Community Garage Sale"}</h1>
        <div class="qr-container">
          <img src="${H}" alt="QR Code for Community Garage Sale" />
        </div>
        <div class="instructions">
          <p>Scan this QR code to access the ${d||"Community Garage Sale"} map on your mobile device.</p>
          <p>You can print this page or save the QR code image for distribution.</p>
        </div>
      </body>
      </html>
    `,J=new Blob([V],{type:"text/html"}),fe=URL.createObjectURL(J),ue=window.open(fe,"_blank");ue&&(ue.onload=()=>{URL.revokeObjectURL(fe)})},R=e.filter(D=>(D.address||"").toLowerCase().includes(f.toLowerCase())||(D.description||"").toLowerCase().includes(f.toLowerCase())),_=()=>{const D=new Set(e.map(T=>T.id));y(D)},j=()=>{y(new Set)},$=()=>{r("/admin/community-sales")};return t?u.jsx("div",{className:"garage-sales-admin",children:u.jsx("div",{className:"loading",children:"Loading garage sales..."})}):n?u.jsxs("div",{className:"garage-sales-admin",children:[u.jsx("div",{className:"error",children:n}),u.jsx("button",{className:"retry-button",onClick:s,children:"Retry"})]}):u.jsxs("div",{className:ae.garageSalesAdmin,children:[u.jsx("h1",{className:ae.title,children:d?`${d}`:"Garage Sales Administration"}),u.jsxs("div",{className:ae.userInfo,children:[u.jsxs("div",{className:ae.userName,children:[c==null?void 0:c.fName," ",c==null?void 0:c.lName]}),u.jsx("div",{className:ae.userEmail,children:o})]}),u.jsxs("div",{className:ae.adminControls,children:[u.jsx("div",{className:ae.searchContainer,children:u.jsx("input",{type:"text",placeholder:"Search by address or description...",value:f,onChange:p,className:ae.searchInput})}),u.jsxs("div",{className:ae.buttonsContainer,children:[u.jsx("button",{className:ae.addNewButton,onClick:U,disabled:E,children:"Add New Garage Sale"}),u.jsx("button",{className:ae.qrCodeButton,onClick:X,children:"Create QR Code"}),v.size>0&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:ae.selectAllButton,onClick:_,children:"Select All"}),u.jsx("button",{className:ae.deselectAllButton,onClick:j,children:"Deselect All"}),u.jsxs("button",{className:ae.deleteSelectedButton,onClick:K,children:["Delete Selected (",v.size,")"]})]}),u.jsx("button",{className:ae.backToCommunityButton,onClick:$,children:"Back to Community Sales"})]})]}),(E||w)&&u.jsxs("form",{onSubmit:Z,className:ae.garageForm,children:[u.jsxs("div",{className:ae.formGroup,children:[u.jsx("label",{children:"Address:"}),u.jsx(xg,{selectProps:{value:{label:S.address,value:S.address},onChange:D=>z(D),placeholder:"Enter address..."}})]}),u.jsxs("div",{className:ae.formGroup,children:[u.jsx("label",{children:"Description:"}),u.jsx(Sh,{name:"description",value:S.description,onChange:B,placeholder:"Enter description...",minRows:6,className:ae.descriptionTextarea})]}),u.jsxs("div",{className:ae.formActions,children:[u.jsx("button",{type:"submit",className:ae.saveButton,children:w?"Save Changes":"Create Garage Sale"}),u.jsx("button",{type:"button",className:ae.cancelButton,onClick:A,children:"Cancel"})]})]}),u.jsx("div",{className:`${ae.salesGrid} ${R.length===1?ae.singleCard:""}`,children:R&&R.length>0?R.map(D=>u.jsxs("div",{className:ae.saleCard,children:[u.jsx("div",{className:ae.cardHeader,children:u.jsxs("label",{className:ae.checkboxContainer,children:[u.jsx("input",{type:"checkbox",checked:v.has(D.id),onChange:()=>q(D.id)}),u.jsx("span",{className:ae.checkmark})]})}),u.jsx("h3",{children:D.address}),u.jsx("p",{children:D.description}),u.jsxs("div",{className:ae.saleActions,children:[u.jsx("button",{className:ae.editButton,onClick:()=>F(D),children:"Edit"}),u.jsx("button",{className:ae.deleteButton,onClick:()=>W(D.id),children:"Delete"})]})]},D.id)):u.jsx("div",{className:ae.noResults,children:"No garage sales found"})}),u.jsxs("div",{className:ae.totalCount,children:["Showing ",R.length," of ",e.length," garage sales",v.size>0&&` (${v.size} selected)`]})]})},tv=()=>{const[e,t]=l.useState(""),[n,s]=l.useState(null),[r,a]=l.useState(!1),[i,o]=l.useState({success:0,failed:0,total:0}),[c,f]=l.useState([]),[p,d]=l.useState(""),h=l.useRef(null),g=Ce(),m=C=>{t(C.target.value)},v=C=>{C.target.files&&C.target.files.length>0&&s(C.target.files[0])},y=async()=>{if(e)try{const C=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/getAddressByCommunity/${e}`,w=await fetch(C,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(w.ok){const L=await w.json();d(L.name||"Community Sale")}else d("")}catch(C){console.error("Error fetching community name:",C),d("")}},b=async C=>{if(C.preventDefault(),!e||!n){alert("Please enter a Community ID and select a JSON file");return}a(!0),o({success:0,failed:0,total:0}),f([]);try{await y();const w=new FileReader;w.onload=async L=>{try{const S=JSON.parse(L.target.result);if(!Array.isArray(S))throw new Error("Invalid JSON format. Expected an array of garage sales.");o(k=>({...k,total:S.length}));const P=[],O=[];for(const k of S)try{if(!k.street||!k.address)throw new Error(`Missing required fields: ${JSON.stringify(k)}`);const M={street:k.street,streetNumber:k.address,city:k.city||"",state:k.state||"",postalCode:k.postalCode||"",unit:k.unit||""};await ge.createGarageSale(M,k.description||"Garage Sale",k.name||"Garage Sale",k.highlightedItems||[],e),P.push(k)}catch(M){O.push({sale:k,error:M.message})}o({success:P.length,failed:O.length,total:S.length}),f(O.map(k=>({address:`${k.sale.address} ${k.sale.street}`,error:k.error})))}catch(S){console.error("Error processing JSON:",S),f([{address:"N/A",error:`Error processing JSON file: ${S.message}`}])}finally{a(!1)}},w.onerror=()=>{f([{address:"N/A",error:"Error reading file"}]),a(!1)},w.readAsText(n)}catch(w){console.error("Error during upload:",w),f([{address:"N/A",error:`Error during upload: ${w.message}`}]),a(!1)}},x=()=>{t(""),s(null),o({success:0,failed:0,total:0}),f([]),d(""),h.current&&(h.current.value="")},E=()=>{g(`/admin/sales?communityId=${e}`)};return u.jsxs("div",{className:"garage-sales-bulk-upload",children:[u.jsx("h1",{children:"Bulk Upload Garage Sales"}),u.jsxs("form",{onSubmit:b,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"communityId",children:"Community ID:"}),u.jsx("input",{type:"text",id:"communityId",value:e,onChange:m,onBlur:y,placeholder:"Enter community ID",required:!0}),p&&u.jsxs("div",{className:"community-name",children:["Community Name: ",u.jsx("strong",{children:p})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"jsonFile",children:"JSON File:"}),u.jsx("input",{type:"file",id:"jsonFile",accept:".json",onChange:v,ref:h,required:!0}),u.jsxs("div",{className:"file-format-info",children:[u.jsx("h3",{children:"Expected JSON Format:"}),u.jsx("pre",{children:`[
  {
    "street": "STREET NAME",
    "address": "STREET NUMBER",
    "description": "DESCRIPTION",
    "city": "CITY", // optional
    "state": "STATE", // optional
    "postalCode": "POSTAL CODE", // optional
    "unit": "UNIT" // optional
  },
  ...
]`})]})]}),u.jsxs("div",{className:"button-group",children:[u.jsx("button",{type:"submit",className:"submit-button",disabled:r||!e||!n,children:r?"Uploading...":"Upload Garage Sales"}),u.jsx("button",{type:"button",className:"reset-button",onClick:x,disabled:r,children:"Reset"}),i.success>0&&u.jsx("button",{type:"button",className:"admin-button",onClick:E,children:"Go to Garage Sales Admin"})]})]}),(i.success>0||i.failed>0)&&u.jsxs("div",{className:"upload-results",children:[u.jsx("h2",{children:"Upload Results"}),u.jsxs("div",{className:"results-summary",children:[u.jsxs("p",{children:["Total: ",u.jsx("strong",{children:i.total})]}),u.jsxs("p",{children:["Successful: ",u.jsx("strong",{className:"success",children:i.success})]}),u.jsxs("p",{children:["Failed: ",u.jsx("strong",{className:"error",children:i.failed})]})]}),c.length>0&&u.jsxs("div",{className:"error-list",children:[u.jsx("h3",{children:"Failed Uploads:"}),u.jsxs("table",{children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Address"}),u.jsx("th",{children:"Error"})]})}),u.jsx("tbody",{children:c.map((C,w)=>u.jsxs("tr",{children:[u.jsx("td",{children:C.address}),u.jsx("td",{children:C.error})]},w))})]})]})]})]})},nv=()=>{const e=Ce(),{userInfo:t,userEmail:n,sessionId:s}=Be(),{setCommunityName:r,setCommunityId:a}=Je(),[i,o]=l.useState([]),[c,f]=l.useState(!0),[p,d]=l.useState(null),[h,g]=l.useState(!1),[m,v]=l.useState(null);l.useEffect(()=>{const R=async()=>{try{if(f(!0),d(null),!t)throw new Error("User information is missing. Please log in again.");const _=t.userId||t.id;if(!_)throw new Error("User ID is missing. Please log in again.");console.log("Fetching community sales for userId:",_);const j=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/byUser/${_}`,$=await fetch(j,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff",sessionId:s||""}});if(!$.ok)throw new Error(`API request failed with status ${$.status}`);const D=await $.json(),T=Array.isArray(D)?D.map(H=>({id:H.id,name:H.name,description:H.description,startDate:H.startDate?new Date(H.startDate).toISOString().split("T")[0]:"",endDate:H.endDate?new Date(H.endDate).toISOString().split("T")[0]:"",location:H.location})):[];o(T)}catch(_){console.error("Error fetching community sales:",_),d("Failed to load community sales. Please try again later.")}finally{f(!1)}};t&&(t.userId||t.id)?(console.log("User is logged in, fetching community sales..."),R()):(console.log("User not logged in or missing userId, skipping fetch"),f(!1))},[t,s]);const[y,b]=l.useState(new Set),[x,E]=l.useState(""),[C,w]=l.useState(!1),[L,S]=l.useState(null),[P,O]=l.useState({name:"",description:"",startDate:"",endDate:"",location:""}),k=R=>{E(R.target.value)},M=()=>{S(null),O({name:"",description:"",startDate:"",endDate:"",location:""}),w(!0)},U=R=>{w(!1),S(R),O({name:R.name,description:R.description,startDate:R.startDate||"",endDate:R.endDate||"",location:R.location||""}),window.scrollTo(0,0)},F=()=>{S(null),O({name:"",description:"",startDate:"",endDate:"",location:""}),w(!1)},A=R=>{const{name:_,value:j}=R.target;O($=>({...$,[_]:j}))},B=async R=>{R.preventDefault();try{if(g(!0),v(null),L){const _=J=>{if(!J)return"";const fe="T09:00:00",ue="T18:00:00";return J+(P.startDate===P.endDate,J===P.startDate?fe:ue)};if(!t)throw new Error("User information is missing. Please log in again.");const j=t.userId||t.id;if(!j)throw new Error("User ID is missing. Please log in again.");const $={userId:j,name:P.name,description:P.description,startDate:_(P.startDate),endDate:_(P.endDate),location:P.location};console.log("API Update Data:",$),console.log("Updating community sale with ID:",L.id);const D=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/update/${L.id}`,T={"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff",sessionId:s||"","Content-Type":"application/json"};console.log("Making PATCH request to update community sale with ID:",L.id),console.log("Request headers:",T),console.log("Request payload:",$);const H=await fetch(D,{method:"PATCH",headers:T,body:JSON.stringify($)});if(!H.ok)throw new Error(`API request failed with status ${H.status}`);const V=await H.json();o(J=>J.map(fe=>{var ue,Le,te,Ze,je,et,Ve;return fe.id===L.id?{id:((ue=V.data)==null?void 0:ue.id)||L.id,name:((Le=V.data)==null?void 0:Le.name)||P.name,description:((te=V.data)==null?void 0:te.description)||P.description,startDate:(Ze=V.data)!=null&&Ze.startDate?new Date(V.data.startDate).toISOString().split("T")[0]:P.startDate,endDate:(je=V.data)!=null&&je.endDate?new Date(V.data.endDate).toISOString().split("T")[0]:P.endDate,location:((et=V.data)==null?void 0:et.location)||P.location,userId:((Ve=V.data)==null?void 0:Ve.userId)||j}:fe})),alert("Community sale updated successfully!")}else{const _=J=>{if(!J)return"";const fe="T09:00:00",ue="T18:00:00";return J+(P.startDate===P.endDate,J===P.startDate?fe:ue)};if(!t)throw new Error("User information is missing. Please log in again.");const j=t.userId||t.id;if(!j)throw new Error("User ID is missing. Please log in again.");const $={userId:j,name:P.name,description:P.description,startDate:_(P.startDate),endDate:_(P.endDate),location:P.location};console.log("API Request Data:",$),console.log("UserInfo:",t),console.log("Using sessionId:",s),console.log("App Key:","j+cHATnnYUUjz+ff");const T=await fetch("https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/create",{method:"POST",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff",sessionId:s||"","Content-Type":"application/json"},body:JSON.stringify($)});if(!T.ok)throw new Error(`API request failed with status ${T.status}`);const H=await T.json(),V={id:H.data.id,name:H.data.name,description:H.data.description,startDate:H.data.startDate?new Date(H.data.startDate).toISOString().split("T")[0]:"",endDate:H.data.endDate?new Date(H.data.endDate).toISOString().split("T")[0]:"",location:H.data.location,userId:H.data.userId};o(J=>[...J,V]),alert("Community sale created successfully!")}w(!1),S(null),O({name:"",description:"",startDate:"",endDate:"",location:""})}catch(_){console.error("Error creating/updating community sale:",_),v("Failed to save community sale. Please try again."),alert(`Error: ${_.message||"Failed to save community sale. Please try again."}`)}finally{g(!1)}},z=async R=>{if(window.confirm("Are you sure you want to delete this community sale?"))try{const _=await ge.deleteCommunitySale(R);_===!0?(o(j=>j.filter($=>$.id!==R)),y.has(R)&&b(j=>{const $=new Set(j);return $.delete(R),$})):(console.warn("Unexpected response from delete API:",_),alert("Unexpected response when deleting community sale. Please try again."))}catch(_){console.error("Error deleting community sale:",_),alert(`Failed to delete community sale: ${_.message||"Unknown error"}`)}},Z=R=>{b(_=>{const j=new Set(_);return j.has(R)?j.delete(R):j.add(R),j})},W=()=>{b(new Set)},q=()=>{const R=Array.from(y);if(R.length===0){alert("Please select community sales to delete");return}window.confirm(`Are you sure you want to delete ${R.length} selected community sales?`)&&(o(_=>_.filter(j=>!R.includes(j.id))),b(new Set))},G=R=>{r(R.name),a(R.id),e(`/admin/sales?communityId=${R.id}`)},K=R=>{r(R.name),a(R.id),e(`/?communityId=${R.id}`)},X=i.filter(R=>(R.name||"").toLowerCase().includes(x.toLowerCase())||(R.description||"").toLowerCase().includes(x.toLowerCase())||(R.location||"").toLowerCase().includes(x.toLowerCase()));return u.jsxs("div",{className:"sales-admin",children:[u.jsx("h1",{children:"Community Sales Events Administration"}),u.jsxs("div",{className:"user-info",children:[u.jsxs("div",{className:"user-name",children:[(t==null?void 0:t.fName)||""," ",(t==null?void 0:t.lName)||""]}),u.jsx("div",{className:"user-email",children:n})]}),u.jsx("div",{className:"admin-controls",children:u.jsx("div",{className:"search-container",children:u.jsx("input",{type:"text",placeholder:"Search by name, description, or location...",value:x,onChange:k,className:"search-input"})})}),u.jsxs("div",{className:"admin-button-row",children:[u.jsx("button",{className:"create-community-sales-button",onClick:M,disabled:C,children:"Create a New Community Sales Event"}),y.size>0&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"select-all-button",onClick:W,children:"Deselect All"}),u.jsxs("button",{className:"delete-selected-button",onClick:q,children:["Delete Selected (",y.size,")"]})]})]}),(C||L)&&u.jsxs("form",{onSubmit:B,className:"sale-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name:"}),u.jsx("input",{type:"text",name:"name",value:P.name,onChange:A,placeholder:"Enter community sale name...",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description:"}),u.jsx("textarea",{name:"description",value:P.description,onChange:A,placeholder:"Enter description...",rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Start Date:"}),u.jsx("input",{type:"date",name:"startDate",value:P.startDate,onChange:A,placeholder:"Select start date..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"End Date:"}),u.jsx("input",{type:"date",name:"endDate",value:P.endDate,onChange:A,placeholder:"Select end date..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Location:"}),u.jsx("input",{type:"text",name:"location",value:P.location,onChange:A,placeholder:"Enter location..."})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"save-button",disabled:h,children:h?"Saving...":L?"Save Changes":"Create Community Sale"}),u.jsx("button",{type:"button",className:"cancel-button",onClick:F,disabled:h,children:"Cancel"})]}),m&&u.jsx("div",{className:"error-message",children:m})]}),c?u.jsx("div",{className:"loading-state",children:u.jsx("h3",{children:"Loading community sales..."})}):p?u.jsxs("div",{className:"error-state",children:[u.jsx("h3",{children:"Error"}),u.jsx("p",{children:p})]}):X.length===0?u.jsx("div",{className:"empty-state",children:u.jsx("h3",{children:"No Community Sales Found"})}):u.jsx("div",{className:"sales-grid",children:X.map(R=>u.jsxs("div",{className:"sale-card",children:[u.jsxs("label",{className:"checkbox-container",children:[u.jsx("input",{type:"checkbox",checked:y.has(R.id),onChange:()=>Z(R.id)}),u.jsx("span",{className:"checkmark"})]}),u.jsx("div",{className:"card-header",children:u.jsx("h3",{className:"card-title",children:R.name})}),R.date&&u.jsxs("div",{className:"card-date",children:["Date: ",new Date(R.date).toLocaleDateString()]}),R.location&&u.jsxs("div",{className:"card-location",children:["Location: ",R.location]}),u.jsx("div",{className:"card-description",children:R.description}),u.jsxs("div",{className:"card-actions",children:[u.jsxs("div",{className:"left-buttons",children:[u.jsx("button",{className:"edit-button",onClick:()=>U(R),children:"Edit"}),u.jsx("button",{className:"delete-button",onClick:()=>z(R.id),children:"Delete"})]}),u.jsxs("div",{className:"right-buttons",children:[u.jsx("button",{className:"view-on-map-button",onClick:()=>K(R),children:"View the Map"}),u.jsx("button",{className:"manage-button",onClick:()=>G(R),children:"Manage Garage Sales"})]})]})]},R.id))})]})},sv="/assets/community-map-example--KEEdgk_.jpg",wa=()=>{const e=Ce(),{setFromLanding:t,fromMap:n,setFromMap:s}=Gt(),{currentCommunityId:r}=Je();l.useEffect(()=>{sessionStorage.setItem("initialPage","/landing"),console.log('LandingPage: Recorded initial page as "/landing" in sessionStorage')},[]);const a=i=>{t(!0),e(i)};return u.jsxs("div",{className:"landing-page",children:[u.jsxs("header",{className:"landing-header",children:[u.jsx("h1",{className:"landing-title",children:"Community Sale Events on Google Maps"}),u.jsx("p",{className:"landing-subtitle",children:"Create interactive maps for your neighborhood's community sales, making it easy for visitors to find what they're looking for."})]}),u.jsxs("div",{className:"landing-content",children:[u.jsx("img",{src:sv,alt:"Example of a community sale map",className:"landing-image",onError:i=>{i.target.onerror=null,i.target.src="https://via.placeholder.com/1200x600?text=Community+Sale+Map+Example"}}),u.jsxs("section",{className:"landing-section",children:[u.jsx("h2",{className:"landing-section-title",children:"Simplify Your Community Sale Event"}),u.jsx("p",{children:"Are you organizing a community sale event for your neighbourhood and would like to map out all the community sales on Google Maps? This makes it easy for visitors to find the sales they want to go to, or even just to see where the sales are in relation to them without the need for those old fashioned maps."}),u.jsx("p",{children:"We have created a simple way to do it right. All you have to do is login to your account, create the garage sale event, enter in the addresses and the descriptions. It's really easy."}),u.jsxs("div",{style:{textAlign:"center",marginTop:"2rem"},children:[u.jsx("div",{className:"cta-button",onClick:()=>a("/login"),children:"Get Started Today"}),n&&u.jsx("div",{className:"cta-button secondary",onClick:()=>{e(`/?communityId=${r||""}`)},style:{marginLeft:"1rem"},children:"Return to Map"})]})]}),u.jsxs("section",{className:"landing-section",children:[u.jsx("h2",{className:"landing-section-title",children:"How It Works"}),u.jsxs("div",{className:"landing-steps",children:[u.jsxs("div",{className:"landing-step",children:[u.jsx("div",{className:"step-number",children:"1"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h3",{className:"step-title",children:"Create an Account"}),u.jsx("p",{className:"step-description",children:"Sign up for a free account to get started. It only takes a minute and you'll be ready to create your first community sale event."})]})]}),u.jsxs("div",{className:"landing-step",children:[u.jsx("div",{className:"step-number",children:"2"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h3",{className:"step-title",children:"Set Up Your Community Sale"}),u.jsx("p",{className:"step-description",children:"Create a new community sale event with details like name, date, and location. This will be the main hub for all the individual garage sales."})]})]}),u.jsxs("div",{className:"landing-step",children:[u.jsx("div",{className:"step-number",children:"3"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h3",{className:"step-title",children:"Add Garage Sales"}),u.jsx("p",{className:"step-description",children:"Add individual garage sales to your community event by entering addresses and descriptions. Our system automatically places them on the map."})]})]}),u.jsxs("div",{className:"landing-step",children:[u.jsx("div",{className:"step-number",children:"4"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h3",{className:"step-title",children:"Share With Your Community"}),u.jsx("p",{className:"step-description",children:"Share your interactive map with everyone in your community. Visitors can easily browse and find the sales they're interested in."})]})]})]})]}),u.jsxs("section",{className:"landing-section",children:[u.jsx("h2",{className:"landing-section-title",children:"Features"}),u.jsxs("div",{className:"landing-grid",children:[u.jsxs("div",{className:"landing-card",children:[u.jsx("h3",{className:"landing-card-title",children:"Interactive Maps"}),u.jsx("p",{className:"landing-card-content",children:"Fully interactive Google Maps integration that makes it easy for visitors to explore and find sales."})]}),u.jsxs("div",{className:"landing-card",children:[u.jsx("h3",{className:"landing-card-title",children:"Sale Management"}),u.jsx("p",{className:"landing-card-content",children:"Easy-to-use tools for adding, editing, and removing garage sales from your community event."})]}),u.jsxs("div",{className:"landing-card",children:[u.jsx("h3",{className:"landing-card-title",children:"Search Functionality"}),u.jsx("p",{className:"landing-card-content",children:"Visitors can search for specific items or categories to find exactly what they're looking for."})]}),u.jsxs("div",{className:"landing-card",children:[u.jsx("h3",{className:"landing-card-title",children:"Mobile Friendly"}),u.jsx("p",{className:"landing-card-content",children:"Responsive design works great on smartphones and tablets, perfect for visitors on the go."})]})]})]}),u.jsxs("section",{className:"landing-section",style:{textAlign:"center"},children:[u.jsx("h2",{className:"landing-section-title",children:"Ready to Get Started?"}),u.jsx("p",{children:"Create your first community garage sale map today and make it easier for everyone to find what they're looking for."}),u.jsx("div",{className:"cta-button",onClick:()=>a("/login"),children:"Sign Up Now"})]})]}),u.jsx("footer",{className:"landing-footer"})]})},rv=({error:e})=>u.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f9fa",border:"1px solid #ddd",borderRadius:"4px",padding:"20px"},children:[u.jsx("h3",{style:{color:"#dc3545"},children:"Google Maps failed to load"}),u.jsx("p",{children:e||"Please check your internet connection and try again."}),u.jsx("button",{style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},onClick:()=>window.location.reload(),children:"Reload Page"})]});function ov({mapContainerStyle:e,mapOptions:t}){const[n,s]=l.useState(null),[r,a]=l.useState(!1),[i]=l.useState({lat:43.8384,lng:-79.0868}),{width:o}=Nl(),c=o<1045,f=l.useRef(null),p=l.useRef([]),d=l.useRef(null),h=l.useRef(!1),g=l.useRef(!1),{fetchGarageSales:m,garageSales:v,loading:y,error:b}=us(),{showOnlySelected:x}=cs(),{isAuthenticated:E,userInfo:C}=Be(),{handleCheckboxChange:w,handleDeselectAll:L}=xr(),{userLocation:S,shouldCenterOnUser:P,clearCenterOnUser:O,centerOnUserLocation:k}=El(),{communityId:M,setCommunityId:U,communityName:F,setCommunityName:A}=Je(),B=F||"Loading community...",z=xe(),Z=Ce(),q=l.useMemo(()=>new URLSearchParams(z.search),[z.search]).get("communityId");l.useEffect(()=>{q?U(q):M||(console.log("MapView: No community ID provided, navigating to landing page"),Z("/about"))},[q,M,U,Z]),l.useEffect(()=>{M&&!F&&(console.log("MapView: Community name not in context, fetching from API for communityId:",M),(async()=>{try{const $=`https://br-maps-mgt-api-dev001-207215937730.us-central1.run.app/v1/communitySales/byId/${M}`,D=await fetch($,{method:"GET",headers:{"app-name":"web-service","app-key":"j+cHATnnYUUjz+ff"}});if(D.ok){const T=await D.json();T.name?(console.log("MapView: Successfully fetched community name:",T.name),A(T.name)):(console.log("MapView: Community name not found in API response, using default"),A("Community Sales Day"))}else console.error("MapView: Failed to fetch community name, status:",D.status),A("Community Sales Day")}catch($){console.error("MapView: Error fetching community name:",$),A("Community Sales Day")}})())},[M,F,A]);const G=l.useMemo(()=>{const j=localStorage.getItem("selectedSaleIds");return j?JSON.parse(j):[]},[]);l.useEffect(()=>{const j="/";sessionStorage.setItem("initialPage",j),console.log(`MapView: Recorded initial page as "${j}" in sessionStorage`)},[]),l.useEffect(()=>{!h.current&&M&&(console.log("MapView: Initial load - fetching garage sales with communityId:",M),m(M),h.current=!0)},[m,M]),l.useEffect(()=>{(async()=>{if(E&&!g.current&&(C!=null&&C.userId))try{console.log("MapView: User is logged in, fetching saved selections for user:",C.userId);const $=await ge.getUserAddressList(C.userId);$&&$.addressList&&$.addressList.length>0?(console.log("MapView: User has saved selections on server:",$.addressList),L(),$.addressList.forEach(D=>{w(D)}),console.log("MapView: Updated selections from server list")):console.log("MapView: User does not have saved selections on server, using local selections"),g.current=!0}catch($){console.error("MapView: Error fetching user selections:",$)}})()},[E,C,w,L]);const K=l.useCallback(()=>{console.log("MapView: Cleaning up markers"),p.current&&(p.current.forEach(j=>{j&&(j.map=null)}),p.current=[]),d.current&&(d.current.map=null,d.current=null)},[]);l.useEffect(()=>()=>{console.log("MapView: Component unmounting, cleaning up"),K(),f.current&&(console.log("MapView: Clearing map reference"),f.current=null,a(!1))},[K]);const X=l.useCallback(()=>{if(!f.current||!window.google||!v){console.log("MapView: Cannot create markers - missing requirements",{hasMap:!!f.current,hasGoogle:!!window.google,salesCount:v==null?void 0:v.length});return}console.log("MapView: Creating markers for",v.length,"sales"),p.current.length>0&&(console.log("MapView: Cleaning up existing markers before creating new ones"),K());const j=x?v.filter(T=>G.includes(T.id)):v,{AdvancedMarkerElement:$}=window.google.maps.marker;if(!$){console.error("AdvancedMarkerElement not available");return}console.log("MapView: Starting to create",j.length,"markers");let D=0;j.forEach(T=>{const H=G.includes(T.id)?"#4CAF50":"#FF0000",V=document.createElement("div");V.className="custom-pin",V.style.cursor="pointer",V.style.width="24px",V.style.height="24px",V.style.borderRadius="50%",V.style.backgroundColor=H,V.style.border="2px solid white",V.style.boxShadow="0 2px 4px rgba(0,0,0,0.3)";try{const J=new $({map:f.current,position:{lat:T.position.lat,lng:T.position.lng},content:V,title:T.address});J.addListener("gmp-click",()=>{s(T)}),p.current.push(J),D++}catch(J){console.error("Error creating marker:",J,T)}}),console.log("MapView: Successfully created",D,"markers")},[v,G,x,K]);l.useEffect(()=>{f.current&&(v!=null&&v.length)&&window.google&&(console.log("DIRECT EFFECT: Map and data both ready, creating markers now!"),p.current.length===0&&X())},[f.current,v,X]),l.useEffect(()=>{P&&S&&f.current&&(console.log("MapView: Centering on user location",S),f.current.panTo(S),f.current.setZoom(15),O())},[P,S,O]),l.useEffect(()=>{if(!r){console.log("MapView: Map not yet loaded, waiting...");return}if(!S){console.log("MapView: No user location yet, waiting...");return}if(!window.google){console.log("MapView: Google Maps not yet available, waiting...");return}if(!f.current){console.log("MapView: Map reference not yet available, waiting...");return}console.log("MapView: All requirements met, creating user location marker",{hasMap:!!f.current,hasLocation:!!S,hasGoogle:!!window.google,isLoaded:r});try{const{AdvancedMarkerElement:j}=window.google.maps.marker;if(!j){console.error("AdvancedMarkerElement not available");return}d.current&&(d.current.map=null,d.current=null);const $=document.createElement("div");$.style.position="relative",$.style.width="20px",$.style.height="20px";const D=document.createElement("div");D.style.width="20px",D.style.height="20px",D.style.borderRadius="50%",D.style.backgroundColor="#4285F4",D.style.border="3px solid white",D.style.boxShadow="0 2px 4px rgba(0,0,0,0.3)",$.appendChild(D);const T=document.createElement("div");if(T.style.position="absolute",T.style.top="-5px",T.style.left="-5px",T.style.width="30px",T.style.height="30px",T.style.borderRadius="50%",T.style.backgroundColor="rgba(66, 133, 244, 0.2)",T.style.animation="pulse 2s infinite",$.appendChild(T),!document.getElementById("pulse-animation")){const H=document.createElement("style");H.id="pulse-animation",H.textContent=`
          @keyframes pulse {
            0% {
              transform: scale(1);
              opacity: 1;
            }
            100% {
              transform: scale(2);
              opacity: 0;
            }
          }
        `,document.head.appendChild(H)}d.current=new j({map:f.current,position:S,content:$,title:"Your Location"}),console.log("MapView: Successfully created user location marker")}catch(j){console.error("Error creating user location marker:",j)}},[S,r]),l.useEffect(()=>{if(!r){console.log("MapView: Map not loaded yet, waiting to create markers...");return}if(!(v!=null&&v.length)){console.log("MapView: No garage sales data yet, waiting...");return}if(!window.google){console.log("MapView: Google Maps not available yet, waiting...");return}if(!f.current){console.log("MapView: Map reference not available yet, waiting...");return}console.log("MapView: All requirements met, creating",v.length,"markers"),X()},[r,v,X]);const R={textAlign:"center",padding:"15px",fontSize:c?"10px":"24px",fontWeight:"bold",backgroundColor:"#ffffff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"absolute",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1,borderRadius:"5px"};console.log("MapView: Rendering Google Map component");let _;return window.google?y?_=u.jsx("div",{children:"Loading garage sales..."}):b?_=u.jsxs("div",{children:["Error loading garage sales: ",b]}):_=u.jsxs("div",{className:"map-container",children:[u.jsx("div",{style:R,children:B}),u.jsx(Ru,{mapContainerStyle:e||{width:"100%",height:"100vh"},center:i,zoom:13,onClick:()=>{n&&s(null),window.closeHamburgerMenu&&window.closeHamburgerMenu()},onLoad:j=>{console.log("Map component loaded"),f.current=j,j&&window.google&&(console.log("Setting map options with screen width:",o,"isCompactView:",c),c?j.setOptions({disableDefaultUI:!0,mapTypeControl:!0,mapTypeControlOptions:{position:window.google.maps.ControlPosition.LEFT_BOTTOM,style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR},zoomControl:!1,fullscreenControl:!0,fullscreenControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT},streetViewControl:!0,scaleControl:!0}):j.setOptions({disableDefaultUI:!0,mapTypeControl:!0,mapTypeControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT,style:window.google.maps.MapTypeControlStyle.HORIZONTAL_BAR},zoomControl:!0,zoomControlOptions:{position:window.google.maps.ControlPosition.RIGHT_CENTER},fullscreenControl:!0,fullscreenControlOptions:{position:window.google.maps.ControlPosition.TOP_RIGHT},streetViewControl:!0,scaleControl:!0})),a(!0);const $=document.createElement("button");$.title="My Location",$.classList.add("my-location-button");const D=document.createElement("div");D.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#4285F4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle><line x1="12" y1="2" x2="12" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line></svg>',D.classList.add("icon-container"),$.appendChild(D),j.controls[window.google.maps.ControlPosition.RIGHT_BOTTOM].push($),$.addEventListener("click",()=>{k()}),v!=null&&v.length&&window.google&&(console.log("Map loaded with data available, creating markers immediately"),setTimeout(()=>{X(),k()},100))},onUnmount:j=>{console.log("Map component unmounted"),f.current=null},options:t,children:n&&u.jsx(Wa,{position:n.position,onCloseClick:()=>s(null),children:u.jsxs("div",{children:[u.jsx("h3",{children:n.address}),u.jsx("p",{children:n.description})]})})})]}):(console.error("Google Maps API not loaded yet"),_=u.jsx(rv,{error:"Google Maps not loaded yet. Please try refreshing the page."})),_}function iv(){const{communityName:e}=Je();return l.useEffect(()=>{const t="Community Map";return e?document.title=`${e} - Community Sale Day`:document.title=t,()=>{document.title=t}},[e]),null}function av(){const e=l.useMemo(()=>["places","marker"],[]),t=l.useMemo(()=>({width:"100%",height:"100vh"}),[]),n=l.useMemo(()=>{var s,r,a,i,o,c,f,p,d,h,g,m;return{disableDefaultUI:!1,zoomControl:!0,mapId:"d9eb5bc421d27b34",streetViewControl:!0,mapTypeControl:!0,mapTypeControlOptions:{position:(a=(r=(s=window.google)==null?void 0:s.maps)==null?void 0:r.ControlPosition)==null?void 0:a.TOP_RIGHT,style:(c=(o=(i=window.google)==null?void 0:i.maps)==null?void 0:o.MapTypeControlStyle)==null?void 0:c.DROPDOWN_MENU},fullscreenControl:!0,fullscreenControlOptions:{position:(d=(p=(f=window.google)==null?void 0:f.maps)==null?void 0:p.ControlPosition)==null?void 0:d.TOP_RIGHT},zoomControlOptions:{position:(m=(g=(h=window.google)==null?void 0:h.maps)==null?void 0:g.ControlPosition)==null?void 0:m.RIGHT_CENTER}}},[]);return u.jsx(Qf,{children:u.jsx(Ba,{googleMapsApiKey:"AIzaSyA6_Ip4EpqzfW1JjKOgcb8pPPGMgjAUvos",libraries:e,loadingElement:u.jsx("div",{children:"Loading Google Maps..."}),children:u.jsx(kl,{children:u.jsx(nh,{children:u.jsx(eh,{children:u.jsx(ih,{children:u.jsx(hh,{children:u.jsxs(th,{children:[u.jsx(iv,{}),u.jsx("div",{className:"app",children:u.jsxs(yu,{children:[u.jsx(Pe,{path:"/loginRedirect",element:u.jsx(vh,{})}),u.jsx(Pe,{path:"/about",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(wa,{})]})}),u.jsx(Pe,{path:"/info",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(lh,{})]})}),u.jsx(Pe,{path:"/help",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(fh,{})]})}),u.jsx(Pe,{path:"/list-active-community-sales-events",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(dh,{})]})}),u.jsx(Pe,{path:"/login",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(gh,{})]})}),u.jsx(Pe,{path:"/reset-password",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(bh,{})]})}),u.jsx(Pe,{path:"/sales",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(Ch,{})]})}),u.jsx(Pe,{path:"/",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx("div",{className:"map-container",children:u.jsx(ov,{mapContainerStyle:t,mapOptions:n})})]})}),u.jsx(Pe,{path:"/landing",element:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(wa,{})]})}),u.jsx(Pe,{path:"/lander",element:u.jsx(yh,{})}),u.jsx(Pe,{path:"/admin/community-sales",element:u.jsx(Fs,{children:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(nv,{})]})})}),u.jsx(Pe,{path:"/admin/sales",element:u.jsx(Fs,{children:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(ev,{})]})})}),u.jsx(Pe,{path:"/admin/bulk-upload",element:u.jsx(Fs,{children:u.jsxs(u.Fragment,{children:[u.jsx(Ae,{}),u.jsx(tv,{})]})})})]})})]})})})})})})})})}const Fs=({children:e})=>{const{isAuthenticated:t}=Be();return t?e:u.jsx(gu,{to:"/login",replace:!0})},lv={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};Pc.createRoot(document.getElementById("root")).render(u.jsx(kl,{children:u.jsx(wh,{children:u.jsx(sh,{children:u.jsx(xu,{...lv,children:u.jsx(av,{})})})})}));
